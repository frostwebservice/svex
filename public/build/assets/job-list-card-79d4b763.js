import{w as C,x as _,r as w,cr as I,j as r,bM as D,f as s,d as n,k as c,aw as J,q as M,c2 as T,bO as j,l as z,C as k,D as B,B as h,F as P}from"./app-822dcc1a.js";const W=a=>{const{onClose:o,userinfo:F,jobs:l,currentTab:p="",infID:f=0,groupID:u=0,order:g=0,isGroup:x=!1,open:m=!1,...G}=a,v=_(),d=JSON.parse(localStorage.getItem("email"));w.useEffect(()=>{v(I(d,1))},[]);const b=t=>{var i=Math.floor((new Date().getTime()-new Date(t).getTime())/1e3),e=i/31536e3;return e>1?Math.floor(e)+" years":(e=i/2592e3,e>1?Math.floor(e)+" months":(e=i/86400,e>1?Math.floor(e)+" days":(e=i/3600,e>1?Math.floor(e)+" hours":(e=i/60,e>1?Math.floor(e)+" minutes":Math.floor(i)+" seconds"))))},y=t=>{axios.post("/api/invite_influencer",{job_id:t,inf_id:f,tab:p}).then(i=>{o()}).catch(i=>{})},S=t=>{g!="0"?axios.post("/api/invite_group",{job_id:t,group_id:u}).then(i=>{o()}).catch(i=>{}):axios.post("/api/invite_group",{job_id:t,email:d,group_id:0}).then(i=>{o()}).catch(i=>{})};return r(D,{fullWidth:!0,maxWidth:"lg",open:m,onClose:o,children:[r(s,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:3,sx:{px:3,py:2},children:[n(c,{variant:"h6",children:"Select a Job"}),n(J,{color:"inherit",onClick:o,children:n(M,{children:n(T,{})})})]}),n(j,{children:n(z,{sx:{mt:2},children:l==null?void 0:l.map(t=>t.is_active=="1"?n(k,{sx:{mb:3},children:r(s,{divider:n(B,{}),children:[r(s,{alignItems:"flex-start",direction:"row",flexWrap:"wrap",justifyContent:"space-between",sx:{px:2,py:1.5},children:[r(c,{variant:"subtitle1",sx:{fontSize:16},children:["Job Title: ",t.title]}),r(s,{alignItems:"center",direction:"row",spacing:2,children:[r(c,{color:"text.secondary",variant:"caption",style:{fontSize:12},children:[b(t.created_at)," ago"]}),x?n(h,{onClick:()=>S(t.id),variant:"contained",size:"small",style:{fontSize:14},children:"Invite To this Project"}):n(h,{onClick:()=>y(t.id),variant:"contained",size:"small",style:{fontSize:14},children:"Invite To this Project"})]})]}),r(c,{variant:"inherit",sx:{fontSize:14,px:2},children:["Job Brief: ",t.brief]})]})}):n(P,{}))})})]})},E=a=>({userinfo:a.profile.userinfo,jobs:a.jobs.jobs}),O=C(E)(W);export{O as J};
