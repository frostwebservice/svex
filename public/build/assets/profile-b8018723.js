import{w as U,cq as H,r as a,x as K,o as W,cw as N,c as J,j as o,F as g,d as e,S as V,l as p,aL as X,B as u,q as m,f as h,$ as Y,k as f,R as I,p as P,b$ as q,bi as Z,bj as ee,D as te,u as v}from"./app-e6e0d569.js";import{I as ae}from"./Image01-ba0e6c13.js";import{H as z}from"./Share07-85787ed7.js";import{E as ne}from"./Edit02-8c1c6d1d.js";import{F as oe}from"./file-uploader-a80faf24.js";import{s as C}from"./social-post-card-d15fc372.js";import{S as se,a as ie}from"./profile-f53e26e0.js";import{b as T}from"./blueGrey-a72a8df5.js";import"./file-dropzone-8f1fd68f.js";import"./tslib.es6-af7906ce.js";import"./Upload01-87be7008.js";import"./bytes-to-size-706bbf81.js";import"./deep-copy-ee95be26.js";import"./CardHeader-1855acfb.js";import"./Clock-96c09d83.js";import"./index-cef91ed3.js";import"./FaceSmile-1a877a5f.js";import"./Link01-5a5b6a46.js";import"./Attachment01-9dae27b0.js";import"./Plus-9a104867.js";import"./get-initials-d1c6cec7.js";import"./CardMedia-4f4f12f6.js";import"./company-jobs-028a2b87.js";import"./index-18fdd3f8.js";import"./Users01-60199aef.js";const re=[{label:"Overview",value:"timeline"},{label:"Jobs Posted",value:"connections"}],ce=()=>{const n=v(),[s,c]=a.useState(null),i=a.useCallback(async()=>{try{const t=await C.getProfile();n()&&c(t)}catch(t){console.error(t)}},[n]);return a.useEffect(()=>{i()},[]),s},le=()=>{const n=v(),[s,c]=a.useState([]),i=a.useCallback(async()=>{try{const t=await C.getPosts();n()&&c(t)}catch(t){console.error(t)}},[n]);return a.useEffect(()=>{i()},[]),s},de=(n="")=>{const[s,c]=a.useState([]),i=v(),t=a.useCallback(async()=>{const l=await C.getConnections();i()&&c(l)},[i]);return a.useEffect(()=>{t()},[n]),s.filter(l=>{var d;return(d=l.name)==null?void 0:d.toLowerCase().includes(n)})},ue=n=>{const s=H(),[c,i]=a.useState("cover"),{brandinfo:t,userinfo:l}=n,d=ce(),[b,D]=a.useState("timeline"),[pe,w]=a.useState("not_connected"),E=le(),[y,_]=a.useState(""),M=de(y),[B,S]=a.useState(!1),k=K(),F=W();a.useEffect(()=>{k(N({brandID:window.location.pathname.split("/")[2].split("-")[2]}))},[k]);const[x,G]=a.useState(""),L=()=>{k(N({brandID:window.location.pathname.split("/")[2].split("-")[2]})),G(x+"a")},Q=a.useCallback(()=>{S(!0)},[]),j=a.useCallback(()=>{S(!1)},[]);J(),a.useCallback(()=>{w("pending")},[]),a.useCallback(()=>{w("not_connected")},[]);const O=a.useCallback((r,A)=>{D(A)},[]),R=a.useCallback(r=>{_(r.target.value)},[]);if(!d)return null;const $=()=>{i("avatar"),s.handleOpen()};return o(g,{children:[e(V,{title:"Dashboard: Social Profile"}),e(p,{component:"main",sx:{flexGrow:1,py:8},children:o(X,{maxWidth:"xl",children:[o("div",{children:[e(p,{style:{backgroundImage:`url(${t.cover_photo?t.cover_photo:d.cover})`},sx:{backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",borderRadius:1,height:421,position:"relative","&:hover":{"& button":{visibility:"visible"}}},children:l.id==t.id?e(u,{onClick:()=>{i("cover"),s.handleOpen()},startIcon:e(m,{children:e(ae,{})}),sx:{backgroundColor:T[900],bottom:{lg:24,xs:"auto"},color:"common.white",position:"absolute",right:24,top:{lg:"auto",xs:24},visibility:"hidden","&:hover":{backgroundColor:T[900]}},variant:"contained",children:"Change Cover"}):""},x),o(h,{alignItems:"center",direction:"row",className:"custom-parent",spacing:2,sx:{mt:4},children:[o(h,{alignItems:"center",direction:"row",className:"custom-avatar",spacing:2,children:[e(Y,{onClick:$,src:t.avatar?t.avatar:`https://ui-avatars.com/api/?name=${t.fullname}&background=0D8ABC&color=fff&rounded=true`,sx:{height:140,width:140},style:{cursor:"pointer"}}),o("div",{className:"brand-info",children:[e(f,{color:"primary",variant:"h6",style:{fontSize:22},children:t?t.fullname:""}),o(f,{color:"text.secondary",className:"font-inter",variant:"subtitle2",style:{fontSize:12,fontWeight:600,marginTop:4},children:["Established since ",t?t.companyfounded:""]}),e(f,{color:"text.secondary",className:"font-inter location-pointer",variant:"overline",style:{fontSize:12,marginTop:17}}),e(f,{color:"primary",variant:"overline",className:"font-inter",style:{fontSize:13},children:t?t.companylocation:""})]})]}),e(p,{sx:{flexGrow:1}}),l.id===t.id?e(h,{alignItems:"center",direction:"row",spacing:2,className:"button-bar",sx:{display:{md:"block"}},children:e(u,{size:"small",className:"social-btn",startIcon:e(m,{children:e(ne,{})}),onClick:()=>{F("/auth/auth/firstinfos")},variant:"contained",children:"Edit Profile"})}):e(h,{alignItems:"center",direction:"row",spacing:2,className:"button-bar",sx:{display:{md:"block"}},children:B?o(g,{children:[e(u,{onClick:j,size:"small",className:"fav-btn",startIcon:e(m,{sx:{color:"error.main","& path":{fill:r=>r.palette.error.main,fillOpacity:1}},children:e(z,{})}),variant:"outlined",children:"Favorite"}),e(u,{component:I,href:P.dashboard.chat,size:"small",className:"social-btn",startIcon:e(m,{children:e(q,{})}),variant:"contained",children:"Send Message"})]}):o(g,{children:[e(u,{onClick:Q,size:"small",className:"fav-btn",startIcon:e(m,{children:e(z,{})}),variant:"outlined",children:"Favorite"}),e(u,{component:I,href:P.dashboard.chat,size:"small",className:"social-btn",startIcon:e(m,{children:e(q,{})}),variant:"contained",children:"Send Message"})]})})]})]}),e("div",{className:"quick-link-bar",children:o("div",{className:"right-quick",children:[e("div",{className:"quick-font",children:"Quick links"}),o("div",{className:"quick-links",children:[e("a",{className:"instagram-icon quick-link",href:"https://www.instagram.com",target:"_blank"}),e("a",{className:"tiktok-icon quick-link",href:"https://www.tiktok.com",target:"_blank"}),e("a",{className:"youtube-icon quick-link",href:"https://www.youtube.com",target:"_blank"}),e("a",{className:"twitter-icon quick-link",href:"https://www.twitter.com",target:"_blank"}),e("a",{className:"pinterest-icon quick-link",href:"https://www.pinterest",target:"_blank"})]})]})}),e(Z,{indicatorColor:"primary",onChange:O,scrollButtons:"auto",sx:{mt:5},textColor:"primary",value:b,variant:"scrollable",className:"tab-panel",children:re.map(r=>e(ee,{className:"social-font",label:r.label,value:r.value},r.value))}),e(te,{}),o(p,{children:[b==="timeline"&&e(se,{posts:E,profile:d}),b==="connections"&&e(ie,{connections:M,onQueryChange:R,query:y})]})]})}),e(oe,{onClose:s.handleClose,open:s.open,onUpgrade:L,kind:c})]})},me=n=>({brandinfo:n.profile.brandinfo,userinfo:n.profile.userinfo}),Qe=U(me)(ue);export{Qe as default};
