import{v as L,w as J,r as n,j as i,bN as Y,f as g,d as e,k as b,au as Z,q as T,b_ as ee,bP as te,l as S,F as _,C as ae,B as h,aT as ne,cj as E,o as se,cM as ie,c as oe,S as re,aM as le,bs as ce,E as ue,n as de,c0 as W,bj as me,bk as pe,D as he,u as O}from"./app-3b15a07b.js";import{H as B}from"./Heart-2ba4960d.js";import{s as D}from"./index-ce1ee904.js";import{I as fe}from"./inf-overview-d276e3ba.js";/* empty css                */import{M as ge}from"./mail-composer-62cf61b2.js";import{J as be}from"./job-list-card-d1296139.js";import{G as C}from"./Grid-ef997d2d.js";import"./deep-copy-ee95be26.js";import"./social-post-card-612d9965.js";import"./Clock-dc58af39.js";import"./Share07-07d3e79b.js";import"./index-002c6732.js";import"./FaceSmile-0e0fb266.js";import"./Link01-bc126a0e.js";import"./Attachment01-e0c5a8b0.js";import"./Plus-990493b0.js";import"./Image01-9fa24186.js";import"./use-mocked-user-2f7e8148.js";import"./get-initials-d1c6cec7.js";import"./CardHeader-44292a17.js";import"./CardMedia-7d47a56a.js";import"./overview-tips-9cdde294.js";import"./severity-pill-1bc52948.js";import"./chart-719dd2dc.js";import"./CardActions-d6c32b88.js";import"./index-75e46230.js";import"./index-6158a366.js";import"./index-2e351a17.js";import"./overview-pending-issues-b3f48ff1.js";import"./quill-editor-092fb4f5.js";import"./isEqual-9a32d758.js";const ke=s=>{const{onClose:o,currentTab:l="",infID:a=0,groupID:d=0,open:m=!1,...f}=s;J();const y=JSON.parse(localStorage.getItem("email")),[k,v]=n.useState([]);n.useEffect(()=>{axios.post("/api/getoutreachs",{email:y}).then(u=>{v(u.data)}).catch(u=>{})},[]);const c=u=>{axios.post("/api/add_group",{group_id:u,inf_id:a,tab:l}).then(N=>{o()}).catch(N=>{})};return i(Y,{fullWidth:!0,maxWidth:"lg",open:m,onClose:o,children:[i(g,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:3,sx:{px:3,py:2},children:[e(b,{variant:"h6",children:"Select a group"}),e(Z,{color:"inherit",onClick:o,children:e(T,{children:e(ee,{})})})]}),e(te,{children:e(S,{sx:{mt:2},children:k==null?void 0:k.map((u,N)=>N==0?e(_,{}):e(ae,{sx:{mb:3},children:i(g,{children:[i(g,{alignItems:"flex-start",direction:"row",flexWrap:"wrap",justifyContent:"space-between",sx:{px:2,py:1.5},children:[i(b,{variant:"subtitle1",sx:{fontSize:16},children:["Group Name: ",u[0].group_name]}),e(g,{alignItems:"center",direction:"row",spacing:2,children:e(h,{onClick:()=>c(u[0].id),variant:"contained",size:"small",style:{fontSize:14},children:"Add to this outreach group"})})]}),i(b,{variant:"inherit",sx:{fontSize:14,px:2},children:["Brief Description: ",u[0].brief_group]})]})}))})})]})},ve=s=>({userinfo:s.profile.userinfo}),we=L(ve)(ke),Ce=()=>{const s={isFullScreen:!1,isOpen:!1,message:"",subject:"",toemail:"",to:""},[o,l]=n.useState(s),a=()=>{l(c=>({...c,isOpen:!0}))},d=n.useCallback(()=>{l(s)},[]),m=n.useCallback(()=>{l(c=>({...c,isFullScreen:!0}))},[]),f=n.useCallback(()=>{l(c=>({...c,isFullScreen:!1}))},[]),y=n.useCallback(c=>{},[]),k=n.useCallback(c=>{l(u=>({...u,subject:c}))},[]),v=n.useCallback(c=>{l(u=>({...u,to:c}))},[]);return{...o,handleClose:d,handleMaximize:m,handleMessageChange:y,handleMinimize:f,handleOpen:a,handleSubjectChange:k,handleToChange:v}},xe=[{label:"Overview",value:"infoverview"}],z=[{divider:1e18,suffix:"E"},{divider:1e15,suffix:"P"},{divider:1e12,suffix:"T"},{divider:1e9,suffix:"G"},{divider:1e6,suffix:"M"},{divider:1e3,suffix:"K"}],x=s=>{for(var o=0;o<z.length;o++)if(s>=z[o].divider)return Number(s/z[o].divider).toFixed(1).toString().replace(".0","")+z[o].suffix;return s.toString()},Se=()=>{const s=O(),[o,l]=n.useState(null),a=n.useCallback(async()=>{try{const d=await D.getProfile();s()&&l(d)}catch(d){console.error(d)}},[s]);return n.useEffect(()=>{a()},[]),o},_e=()=>{const s=O(),[o,l]=n.useState([]),a=n.useCallback(async()=>{try{const d=await D.getPosts();s()&&l(d)}catch(d){console.error(d)}},[s]);return n.useEffect(()=>{a()},[]),o},ye=(s="")=>{const[o,l]=n.useState([]),a=O(),d=n.useCallback(async()=>{const m=await D.getConnections();a()&&l(m)},[a]);return n.useEffect(()=>{d()},[s]),o.filter(m=>{var f;return(f=m.name)==null?void 0:f.toLowerCase().includes(s)})},Ne=s=>{const o=ne(),l=JSON.parse(localStorage.getItem("email")),{socialinfo:a,userinfo:d}=s,m=Se(),[f,y]=n.useState("infoverview"),[k,v]=n.useState("not_connected"),c=_e(),[u,N]=n.useState("");ye(u);const P=E(),M=E(),G=J();se();const[w,R]=n.useState(a.basic);let t=a[w];const p=Ce(),[A,j]=n.useState(!!(t&&t.liked=="1")),$=r=>{R(r)};n.useEffect(()=>{G(ie({email:l,infname:window.location.pathname.split("/")[3],socialtype:"total"}))},[G]),n.useEffect(()=>{j(!!(t&&t.liked=="1"))},[t]);const q=()=>{P.handleOpen()},F=()=>{M.handleOpen()},Q=()=>{j(!0);let r={email:JSON.parse(localStorage.getItem("email")),tab:w,inf_id:t&&t.id?t.id:"",liked:"1"};axios.post("/api/handle_like",r).then(I=>{I.data.status})},H=()=>{j(!1);let r={email:JSON.parse(localStorage.getItem("email")),tab:w,inf_id:t&&t.id?t.id:"",liked:"0"};axios.post("/api/handle_like",r).then(I=>{I.data.status})};oe(),n.useCallback(()=>{v("pending")},[]),n.useCallback(()=>{v("not_connected")},[]);const U=n.useCallback((r,I)=>{y(I)},[]);if(n.useCallback(r=>{N(r.target.value)},[]),!m)return null;const K=()=>{let r=(a&&a.instagram?a.instagram.follower_count:0)+(a&&a.pinterest?a.pinterest.follower_count:0)+(a&&a.tiktok?a.tiktok.follower_count:0)+(a&&a.twitter?a.twitter.follower_count:0)+(a&&a.youtube?a.youtube.follower_count:0);return x(r)},V=()=>{let r="";return r+="Instagram followers: "+(a&&a.instagram?x(a.instagram.follower_count):0)+`
Tiktok followers: `+(a&&a.tiktok?x(a.tiktok.follower_count):0)+`
Youtube followers: `+(a&&a.youtube?x(a.youtube.follower_count):0)+`
Twitter followers: `+(a&&a.twitter?x(a.twitter.follower_count):0)+`
Pinterest followers: `+(a&&a.pinterest?x(a.pinterest.follower_count):0)+`
`,r},X=()=>w=="tiktok"&&t&&t.external_url=="-"?"":t&&t.external_url?t.external_url:"";return i(_,{children:[e(re,{title:"Dashboard: Social Profile"}),e(be,{onClose:P.handleClose,open:P.open,currentTab:w,infID:t&&t.id}),e(we,{onClose:M.handleClose,open:M.open,currentTab:w,infID:t&&t.id}),e(S,{component:"main",sx:{flexGrow:1,py:8},children:i(le,{maxWidth:o.stretch?!1:"xl",children:[i("div",{children:[e(S,{style:{backgroundImage:`url(${m.cover})`},sx:{backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",borderRadius:1,height:421,position:"relative","&:hover":{"& button":{visibility:"visible"}}}}),i(g,{alignItems:"center",direction:"row",className:"custom-parent",spacing:2,sx:{mt:4},children:[i(g,{alignItems:"center",direction:"row",className:"custom-avatar",spacing:2,children:[e(S,{component:ce,sx:{alignItems:"center",display:"flex",borderWidth:2,borderStyle:"solid",borderColor:"divider",height:140,width:140,borderRadius:"50%"},children:e(ue,{src:t&&t.profile_pic_url_hd?t.profile_pic_url_hd:`https://ui-avatars.com/api/?name=${t&&t.full_name?t.full_name:""}&background=2970FF&color=fff&rounded=true`,sx:{height:130,width:130}})}),i("div",{className:"brand-info",children:[i(C,{container:!0,children:[i(C,{item:!0,sm:7,xs:12,children:[e(b,{color:"primary",variant:"h6",style:{fontSize:22,wordWrap:"break-word"},children:t?t.username:""}),e(b,{color:"text.secondary",className:"font-inter",variant:"subtitle2",style:{fontSize:12,fontWeight:600,marginTop:4},children:t?t.full_name:""})]}),e(C,{item:!0,sm:5,xs:12,children:e(de,{title:e("div",{style:{whiteSpace:"pre-line"},children:V()}),children:e("div",{className:"custom-reach",children:i(C,{container:!0,children:[i(C,{item:!0,sx:{color:"#2970FF",fontSize:"11px",fontWeight:300,pl:1,pr:1,pt:.5,pb:.5},children:[e("div",{children:"Reach"}),e("div",{style:{fontSize:"16px",fontWeight:700},children:K()})]}),e(C,{item:!0,style:{display:"flex",alignItems:"center",margin:"0 auto"},children:e("div",{className:"reach-arrow"})})]})})})})]}),e(b,{color:"text.secondary",className:"font-inter location-pointer",variant:"overline",style:{fontSize:12,marginTop:17}}),e(b,{color:"primary",variant:"overline",className:"font-inter",style:{fontSize:13},children:t?t.city+", "+t.Country:""})]})]}),e(S,{sx:{flexGrow:1}}),e(g,{alignItems:"center",direction:"row",spacing:2,className:"inf-button-bar",sx:{display:{md:"block"}},children:A?i(_,{children:[e(h,{onClick:H,className:"fav-btn=alone",startIcon:e(T,{sx:{transform:"scale(1.8)",color:"error.main","& path":{fill:r=>r.palette.error.main,fillOpacity:1}},children:e(B,{})})}),e(h,{className:"fav-btn-alone",startIcon:e("img",{src:"/assets/stats/users.png"}),onClick:F}),e(h,{onClick:q,size:"small",className:"fav-btn small-button",startIcon:e(_,{children:e("img",{src:"/assets/icons/invite.svg"})}),variant:"outlined",children:"Invite To Project"}),e(h,{onClick:p.handleOpen,size:"small",className:"social-btn small-button",startIcon:e(T,{children:e(W,{})}),variant:"contained",children:"Send Message"})]}):i(_,{children:[e(h,{onClick:Q,className:"fav-btn-alone",startIcon:e(T,{sx:{transform:"scale(1.8)"},children:e(B,{})})}),e(h,{className:"fav-btn-alone",onClick:F,startIcon:e("img",{src:"/assets/stats/users.png"})}),e(h,{onClick:q,size:"small",className:"fav-btn small-button",startIcon:e(_,{children:e("img",{src:"/assets/icons/invite.svg"})}),variant:"outlined",children:"Invite To Project"}),e(h,{onClick:p.handleOpen,size:"small",className:"social-btn small-button",startIcon:e(T,{children:e(W,{})}),variant:"contained",children:"Send Message"})]})})]})]}),e("div",{className:"quick-link-bar",children:i("div",{className:"right-quick",children:[e("div",{className:"quick-font",children:"Quick links"}),i("div",{className:"quick-links",children:[e("a",{className:" homepage-icon",href:X(),target:"_blank"}),e("a",{className:"instagram-icon quick-link",href:"https://www.instagram.com",target:"_blank"}),e("a",{className:"tiktok-icon quick-link",href:"https://www.tiktok.com",target:"_blank"}),e("a",{className:"youtube-icon quick-link",href:"https://www.youtube.com",target:"_blank"}),e("a",{className:"twitter-icon quick-link",href:"https://www.twitter.com",target:"_blank"}),e("a",{className:"pinterest-icon quick-link",href:"https://www.pinterest",target:"_blank"})]})]})}),e(me,{indicatorColor:"primary",onChange:U,scrollButtons:"auto",sx:{mt:5},textColor:"primary",value:f,variant:"scrollable",className:"tab-panel",children:xe.map(r=>e(pe,{className:"social-font",label:r.label,value:r.value},r.value))}),e(he,{}),e(S,{children:f==="infoverview"&&e(fe,{posts:c,profile:m,total:"total",changeStat:$})})]})}),e(ge,{maximize:p.isFullScreen,message:p.message,onClose:p.handleClose,onMessageChange:p.handleMessageChange,onMinimize:p.handleMinimize,onSubjectChange:p.handleSubjectChange,onToChange:p.handleToChange,open:p.isOpen,subject:p.subject,to:t&&t.full_name?t.full_name:"",avatar:t&&t.profile_pic_url_hd?t.profile_pic_url_hd:"",toemail:t&&t.public_email?t.public_email:""})]})},Ie=s=>({socialinfo:s.profile.socialinfo,userinfo:s.profile.userinfo}),ot=L(Ie)(Ne);export{ot as default};
