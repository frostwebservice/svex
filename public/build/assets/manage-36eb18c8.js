import{w as P,d as e,C as B,j as n,f as h,k as a,B as N,R as L,F as d,P as $,S as V,l as W,aL as K,q as D,aN as ne,M as re,N as ie,O as ae,r as c,D as oe,aw as U,co as se,aZ as le,a_ as J,b3 as F,a$ as R,aS as Y,o as X,c as Q,bM as ce,c2 as de,bO as he,x as ue,c8 as me,e as fe,G as pe,L as ge,aM as E,c4 as H,cf as be,A as xe,bk as ve,bl as ye,bp as we,u as Se}from"./app-0b2379dc.js";import{j as Ce}from"./index-7eb7890e.js";import"./company-jobs-adbb7d73.js";import{J as Ie}from"./company-card-314e1bb6.js";import{M as Ne}from"./mail-composer-5e0f16d8.js";import"./multi-select-1940c097.js";import{g as _e}from"./get-initials-d1c6cec7.js";import{H as q}from"./Heart-0c2e5722.js";/* empty css               */import"./deep-copy-ee95be26.js";import"./index-61f5b8be.js";import"./index-6ee77b25.js";import"./index-17a9c320.js";import"./index-57545c4d.js";import"./Users01-9c99bf53.js";import"./Attachment01-b91f8753.js";import"./Image01-e0346e98.js";import"./Link01-38a5b1c7.js";import"./FaceSmile-c8a8d699.js";import"./quill-editor-8cd69238.js";import"./isEqual-6def52a1.js";const je=m=>{var f,o,b,k,z;const{jobs:t,order:u,offer:g,...l}=m,r=t==null?void 0:t.filter(j=>j.id==u),S=()=>{if(r&&r[0])return r[0].barter?"Barter":r[0].revenue?"Revenue":r[0].custom?"Custom":"Paid"},y=()=>{if(r&&r[0])return r[0].barter?r[0].barter:r[0].revenue?r[0].revenue:r[0].custom?r[0].custom:r[0].paid},_=(j,M)=>{var w=Math.floor((new Date(M)-new Date(j).getTime())/1e3),i=w/31536e3;return i>1?Math.floor(i)+" years":(i=w/2592e3,i>1?Math.floor(i)+" months":(i=w/86400,i>1?Math.floor(i)+" days":(i=w/3600,i>1?Math.floor(i)+" hours":(i=w/60,i>1?Math.floor(i)+" minutes":Math.floor(w)+" seconds"))))};return e(B,{variant:"outlined",...l,children:n(h,{sx:{py:1},alignItems:"flex-start",direction:"row",justifyContent:"space-between",children:[n(h,{children:[e(h,{alignItems:"flex-start",direction:"row",flexWrap:"wrap",justifyContent:"space-between",sx:{px:2,py:1},children:e(a,{variant:"subtitle1",sx:{fontSize:16},children:r&&((f=r[0])==null?void 0:f.title)})}),n(h,{alignItems:"flex-start",direction:"row",flexWrap:"wrap",sx:{px:2,pb:1.5},children:[e(a,{color:"text.secondary",variant:"caption",sx:{lineHeight:2},children:"Status • Actively Hiring"}),n(a,{color:"text.secondary",style:{marginLeft:40},sx:{lineHeight:2},variant:"caption",children:["Number of applicants • ",r&&((o=r[0])==null?void 0:o.cnt)]}),n(a,{color:"text.secondary",style:{marginLeft:40},variant:"caption",sx:{lineHeight:2},children:["Budget • ",y()]}),n(a,{color:"text.secondary",style:{marginLeft:40},sx:{lineHeight:2},variant:"caption",children:["Job type •"," ",r&&((b=r[0])==null?void 0:b.shoutoutonly)=="shoutoutonly"?"Shoutout Only":"Content creation & Shoutouts"]}),n(a,{sx:{lineHeight:2},color:"text.secondary",style:{marginLeft:40},variant:"caption",children:["Payment type • ",S()]})]})]}),n(h,{alignItems:"center",verticalAlign:"center",direction:"row",spacing:2,sx:{margin:"auto 35px"},children:[n(a,{color:"text.secondary",variant:"caption",style:{fontSize:12,minWidth:100},children:[_(r&&((k=r[0])==null?void 0:k.created_at),r&&((z=r[0])==null?void 0:z.time))," ago"]}),g?e(N,{className:"right-alone-btn",component:L,href:"/dashboard/jobs/",sx:{fontSize:15},children:"View"}):e(d,{})]})]})})},Te=m=>({jobs:m.jobs.jobs}),Z=P(Te)(je);$.object.isRequired;const ke=()=>n(d,{children:[e(V,{title:"Error: Server Error"}),e(W,{component:"main",sx:{alignItems:"center",display:"flex",flexGrow:1,py:"80px"},children:n(K,{maxWidth:"lg",children:[e(W,{sx:{display:"flex",justifyContent:"center",mb:6},children:e(W,{alt:"Internal server error",component:"img",src:"/assets/errors/empty.png",sx:{height:"auto",maxWidth:"100%",width:145}})}),e(a,{align:"center",sx:{fontWeight:700,fontSize:28},children:"There are no influencers invited yet!"}),e(a,{align:"center",color:"text.secondary",sx:{mt:.5,fontSize:16},children:"Tap below to create an outreach group"}),e(W,{sx:{display:"flex",justifyContent:"center",mt:2},children:e(N,{endIcon:e(D,{children:e(ne,{})}),component:L,variant:"contained",href:"/inf-finder/new-group",children:"Create Outreach Group"})})]})})]});var G={},ze=ie;Object.defineProperty(G,"__esModule",{value:!0});var ee=G.default=void 0,Me=ze(re()),Oe=ae,We=(0,Me.default)((0,Oe.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");ee=G.default=We;const De=m=>{const{followers:t,engagement:u,invited:g,influencer:l,offer:r=!1,createdAt:S,category:y,..._}=m,[f,o]=c.useState(null),b=!!f,k=b?"simple-popover":void 0,z=i=>{o(i.currentTarget)},j=()=>{o(null)},M=i=>{var x;let T=(x=i==null?void 0:i.category_niche)==null?void 0:x.includes("[");if(T){if(T){let v=i&&i.category_niche?i.category_niche:"";return v=v.replace("[","").replace("]",""),v=v.split(","),v.map(C=>n("div",{className:"profile-niche",children:[" ",C.replace(/"/g,"")]},C))}}else return i&&i.category_niche?n("div",{className:"profile-niche",children:[" ",i.category_niche]},i.category_niche):e(d,{})};return e(B,{variant:"outlined",..._,children:e(h,{divider:e(oe,{}),children:n(h,{alignItems:"center",direction:"row",justifyContent:"space-between",flexWrap:"wrap",sx:{px:1,py:1},children:[n(h,{alignItems:"center",direction:"row",justifyContent:"space-between",flexWrap:"wrap",sx:{px:2},children:[n(h,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{mr:10},children:[e(a,{color:"text.primary",noWrap:!0,sx:{fontSize:14,fontWeight:600},children:t}),e(a,{color:"text.secondary",noWrap:!0,sx:{fontSize:12},style:{marginTop:0},children:"Followers"})]}),n(h,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{mr:10},children:[e(a,{color:"text.primary",noWrap:!0,sx:{fontSize:14,fontWeight:600},children:u}),e(a,{color:"text.secondary",noWrap:!0,style:{marginTop:0},sx:{fontSize:12},children:"Engagement rate"})]}),n(h,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{mr:10},children:[e(a,{color:"text.primary",noWrap:!0,sx:{fontSize:14,fontWeight:600},children:"Categories"}),e(a,{color:"text.secondary",style:{marginTop:0},noWrap:!0,sx:{fontSize:12},children:(i=>{let T=i.includes("[");if(T){if(T){let x=i||"";return x=x.replace("[","").replace("]",""),x=x.split(","),x.map(O=>O.replace(/"/g,"")+"  ")}}else return i})(y)})]}),g=="1"?n(h,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{mr:10},children:[e(a,{color:"text.primary",noWrap:!0,variant:"overline",sx:{fontSize:14,fontWeight:600},children:[new Date(S).getMonth()+1,new Date(S).getDate(),new Date(S).getFullYear()].join("/")}),e(a,{color:"text.secondary",style:{marginTop:0},noWrap:!0,sx:{fontSize:12},children:"Invited Date"})]}):e(d,{})]}),r?e(d,{}):n(h,{justifyContent:"flex-end",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{px:2,py:1.5},children:[n(a,{color:"#2ECC71",noWrap:!0,sx:{fontSize:14},children:["Quick View Profile",e(U,{style:{border:"1px solid #2ECC71",padding:"0",marginLeft:7},onClick:i=>z(i),"aria-describedby":k,children:e(D,{fontSize:"small",children:e(ee,{style:{color:"#2ECC71"}})})})]}),e(se,{id:k,open:b,anchorEl:f,onClose:j,transformOrigin:{horizontal:"right"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:n(le,{children:[n(J,{disableGutters:!0,divider:!0,className:"custom-item",children:[e(F,{children:e("div",{className:"global-icon"})}),e(R,{disableTypography:!0,primary:e(a,{variant:"subtitle2",className:"about-list-font",children:l?"Language: "+l.language.charAt(0).toUpperCase()+l.language.slice(1):""})})]}),n(J,{className:"custom-item",disableGutters:!0,divider:!0,children:[e(F,{children:e("div",{className:"male-icon"})}),e(R,{disableTypography:!0,primary:e(a,{variant:"subtitle2",className:"about-list-font",children:l?"Gender: "+l.gender.charAt(0).toUpperCase()+l.gender.slice(1):""})})]}),n(J,{className:"custom-item",disableGutters:!0,divider:!0,children:[e(F,{children:e("div",{className:"age-icon"})}),e(R,{disableTypography:!0,primary:e(a,{variant:"subtitle2",className:"about-list-font",children:l?"Age: "+l.age:""})})]}),n(J,{className:"custom-item",disableGutters:!0,children:[e(F,{children:e("div",{className:"ethnicity-icon"})}),e(R,{disableTypography:!0,primary:e(a,{variant:"subtitle2",className:"about-list-font",children:l?"Ethnicity: "+l.ethnicity:""})})]}),e(a,{variant:"subtitle2",sx:{fontSize:18,fontWeight:600,paddingLeft:"20px",py:3},children:"Niche"}),M(l)]})})]})]})})})};const Le=m=>{const{jobs:t,onClose:u,influencer:g,onRerender:l,currentTab:r,open:S=!1}=m;Y(),X(),c.useState([]),c.useState(0),JSON.parse(localStorage.getItem("email")),Q();const y=window.location.pathname.split("/")[window.location.pathname.split("/").length-1];return t==null||t.filter(f=>f.id==y),n(ce,{fullWidth:!0,maxWidth:"lg",open:S,onClose:u,children:[n(h,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:3,sx:{px:3,py:2},children:[e(a,{variant:"h6",children:"Job Offer"}),e(U,{color:"inherit",onClick:u,children:e(D,{children:e(de,{})})})]}),e(h,{alignItems:"flex-end",justifyContent:"space-between",sx:{mr:3,px:3},children:e(N,{size:"small",sx:{width:200},className:"right-btn",variant:"contained",onClick:()=>{axios.post("/api/hire_inf",{inf_id:g.id,job_id:y,tab:r}).then(f=>{u(),l()})},children:"Hire This Influencer"})}),n(he,{children:[e(Z,{order:window.location.pathname.split("/")[window.location.pathname.split("/").length-1],offer:!0}),e(W,{children:e(A,{influencer:g,currentTab:r,invited:"0",offer:!0})})]})]})},Ae=m=>({jobs:m.jobs.jobs}),Je=P(Ae)(Le),Fe=()=>{const m={isFullScreen:!1,isOpen:!1,message:"",subject:"",toemail:"",to:""},[t,u]=c.useState(m),g=()=>{u(o=>({...o,isOpen:!0}))},l=c.useCallback(()=>{u(m)},[]),r=c.useCallback(()=>{u(o=>({...o,isFullScreen:!0}))},[]),S=c.useCallback(()=>{u(o=>({...o,isFullScreen:!1}))},[]),y=c.useCallback(o=>{},[]),_=c.useCallback(o=>{u(b=>({...b,subject:o}))},[]),f=c.useCallback(o=>{u(b=>({...b,to:o}))},[]);return{...t,handleClose:l,handleMaximize:r,handleMessageChange:y,handleMinimize:S,handleOpen:g,handleSubjectChange:_,handleToChange:f}},A=m=>{const{influencer:t,currentTab:u,invited:g,offer:l,onRerender:r=null,createdAt:S,...y}=m;X();const[_,f]=c.useState(t.liked==1),o=Fe(),b=ue(),[k,z]=c.useState({}),[j,M]=c.useState(""),w=me();c.useEffect(()=>{f(t.liked==1)},[t]);const i=()=>{f(!0);let p={email:JSON.parse(localStorage.getItem("email")),tab:u,inf_id:t.id,liked:"1"};axios.post("/api/handle_like",p).then(I=>{I.data.status})},T=()=>{f(!1);let p={email:JSON.parse(localStorage.getItem("email")),tab:u,inf_id:t.id,liked:"0"};axios.post("/api/handle_like",p).then(I=>{I.data.status===200&&b(be({email:JSON.parse(localStorage.getItem("email"))}))})},x=p=>Number(p)<=1?Number(p).toFixed(2)+"%":O(Number(p).toFixed(1)).replace(".0","")+"%",v=[{divider:1e18,suffix:"E"},{divider:1e15,suffix:"P"},{divider:1e12,suffix:"T"},{divider:1e9,suffix:"G"},{divider:1e6,suffix:"M"},{divider:1e3,suffix:"K"}],O=p=>{for(var I=0;I<v.length;I++)if(p>=v[I].divider)return Number(p/v[I].divider).toFixed(1).toString().replace(".0","")+v[I].suffix;return p.toString()},C=()=>{z(t),M(u),w.handleOpen()};return n(d,{children:[e(B,{...y,style:{marginTop:30,marginBottom:30},children:n(fe,{children:[n(h,{alignItems:"center",direction:"row",flexWrap:"wrap",justifyContent:"space-between",sx:{px:2,py:1.5},children:[n(h,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"row"},children:[e(pe,{component:L,href:"/profile/inf/"+t.full_name,src:t.profile_pic_url_hd?t.profile_pic_url_hd:`https://ui-avatars.com/api/?name=${t.full_name?t.full_name:""}&background=2970FF&color=fff&rounded=true`,target:"_blank",sx:{width:74,height:74},children:_e(t.username)}),n("div",{children:[e(ge,{target:"_blank",color:"#2970FF",component:L,href:"/profile/inf/"+t.username,variant:"h6",style:{fontSize:18},children:t.username}),t.verified&&t.verified==1||t.verified&&t.verified==1?e("div",{className:"verified-image"}):"",e(a,{sx:{color:"text.primary"},style:{fontSize:14},children:t.full_name}),e(a,{color:"text.secondary",className:"font-inter location-pointer",variant:"overline",style:{fontSize:12,marginTop:17}}),e(a,{color:"primary",variant:"overline",style:{fontSize:10},children:t.city+", "+t.Country})]}),e("div",{className:"custom-reach",children:n(E,{container:!0,children:[n(E,{item:!0,sx:{color:"#2970FF",fontSize:"11px",fontWeight:300,pl:1,pr:1,pt:.5,pb:.5},children:[e("div",{children:"Reach"}),e("div",{style:{fontSize:"16px",fontWeight:700},children:O(t.follower_count?t.follower_count:t.subscribers)})]}),e(E,{item:!0,style:{display:"flex",alignItems:"center",margin:"0 auto"},children:e("div",{className:"reach-arrow"})})]})})]}),e(h,{alignItems:"center",direction:"row",className:"custom-right",spacing:2,children:_?n(d,{children:[l?e(d,{}):n(d,{children:[e(N,{onClick:T,className:"right-btn",startIcon:e(D,{sx:{transform:"scale(1.8)",color:"error.main","& path":{fill:p=>p.palette.error.main,fillOpacity:1}},children:e(q,{})})}),e(N,{onClick:C,sx:{color:"text.primary"},size:"small",className:"right-btn",startIcon:e(d,{children:e("img",{src:"/assets/icons/Glyph.png"})}),variant:"outlined",children:"View Offer"})]}),e(N,{onClick:o.handleOpen,size:"small",className:"right-btn",startIcon:e(D,{children:e(H,{})}),variant:"contained",children:"View Messages"})]}):n(d,{children:[l?e(d,{}):n(d,{children:[e(N,{onClick:i,className:"right-btn",startIcon:e(D,{sx:{transform:"scale(1.8)"},children:e(q,{})})}),e(N,{onClick:C,size:"small",className:"right-btn",startIcon:e(d,{children:e("img",{src:"/assets/icons/Glyph.png"})}),variant:"outlined",children:"View Offer"})]}),e(N,{onClick:o.handleOpen,size:"small",className:"right-btn",startIcon:e(D,{children:e(H,{})}),variant:"contained",children:"View Messages"})]})})]}),e(W,{sx:{mt:2},children:e(De,{engagement:x(t.engagement_rate),followers:O(t.follower_count?t.follower_count:t.subscribers),category:t.category_niche,createdAt:S,invited:g,influencer:t,offer:l})}),l?e(d,{children:n(h,{sx:{mt:5},children:[e(a,{variant:"h6",children:"Job Proposal"}),e(a,{sx:{mt:4},children:"Dear [Brand Name], I hope this letter finds you well. My name is [Your Name], and I am an experienced and passionate influencer in the [niche/industry]. I recently came across the job posting for a collaboration opportunity on your brand's social media channels, and I am thrilled to express my interest in working with your esteemed brand. Allow me to introduce myself and my work briefly. I have [X years/months] of experience as an influencer, and during this time, I have built a loyal and engaged following of [number of followers] across various social media platforms, including Instagram, YouTube, and TikTok. My content focuses on [specific niche/industry] and resonates with my audience, resulting in high levels of engagement and brand awareness. I have had the pleasure of partnering with several renowned brands in the past, including [mention notable brand collaborations], and have consistently delivered exceptional results. I believe that collaborating with your brand would be a perfect fit, as your products/services align closely with my audience's interests and preferences."})]})}):e(d,{})]})}),e(Ne,{maximize:o.isFullScreen,message:o.message,onClose:o.handleClose,onMessageChange:o.handleMessageChange,onMinimize:o.handleMinimize,onSubjectChange:o.handleSubjectChange,onToChange:o.handleToChange,open:o.isOpen,subject:o.subject,to:t.full_name,avatar:t.profile_pic_url_hd,toemail:t.public_email}),e(Je,{influencer:k,currentTab:j,onClose:w.handleClose,open:w.open,onRerender:r})]})};A.propTypes={influencer:$.object.isRequired};const Re=()=>{const m=Se(),[t,u]=c.useState([]),g=c.useCallback(async()=>{try{const l=await Ce.getCompanies();m()&&u(l)}catch(l){console.error(l)}},[m]);return c.useEffect(()=>{g()},[]),t},Ee=[{label:"Job listing",value:"joblisting"},{label:"Review Offers",value:"applicants"},{label:"Invited Influencers",value:"invitedinfluencers"},{label:"Hired",value:"hired"}],Pe=m=>{let t={time:new Date().getTime(),value:"email",expire:3e6},u=JSON.stringify(t);localStorage.setItem("time_token",u);const{jobs:g}=m;Re();const l=Y(),[r,S]=c.useState("joblisting"),[y,_]=c.useState([]),[f,o]=c.useState([]),[b,k]=c.useState([]),[z,j]=c.useState(0),[M,w]=c.useState(0),[i,T]=c.useState(0),x=JSON.parse(localStorage.getItem("email")),v=()=>{j(0),w(0),T(0)},O=c.useCallback((s,te)=>{S(te)},[]);Q();const C=window.location.pathname.split("/")[window.location.pathname.split("/").length-1],p=g==null?void 0:g.filter(s=>s.id==C),I=()=>{axios.post("/api/update_jobactivity",{jobID:C,isActive:"1"}).then(s=>{dispatch(getJobs(x,1))}).catch(s=>{})};return z<1&&axios.post("/api/get_applicants",{jobID:C,email:x}).then(s=>{_(s.data),j(z+1)}).catch(s=>{}),M<1&&axios.post("/api/get_hired",{jobID:C,email:x}).then(s=>{k(s.data),w(M+1)}).catch(s=>{}),i<1&&axios.post("/api/get_invited",{jobID:C,email:x}).then(s=>{o(s.data),T(i+1)}).catch(s=>{}),n(d,{children:[e(V,{title:"Dashboard: Manage Jobs"}),e(W,{component:"main",sx:{flexGrow:1,py:8},children:n(K,{maxWidth:l.stretch?!1:"xl",children:[e(a,{variant:"h4",children:"Manage Job"}),n(N,{size:"small",sx:{py:3},component:L,href:"/dashboard/jobs",style:{fontSize:14},children:[e(D,{fontSize:"2",children:e(xe,{})}),"Back"]}),e(Z,{order:window.location.pathname.split("/")[window.location.pathname.split("/").length-1],offer:!1}),n("div",{className:"right-parent",children:[e(ve,{indicatorColor:"primary",onChange:O,scrollButtons:"auto",textColor:"primary",sx:{py:3},value:r,variant:"scrollable",children:Ee.map(s=>e(ye,{className:"custom-tab",sx:{fontSize:18},label:s.label,value:s.value},s.value))}),r=="joblisting"&&n(h,{direction:"row",className:"right-edit",children:[n(h,{direction:"row",children:[e(a,{variant:"text.secondary",sx:{fontSize:16,pt:.8},children:"Close the job"}),e(we,{checked:!0,onChange:I})]}),e(h,{children:e(N,{className:"right-alone-btn",component:L,href:"/dashboard/jobs/edit/"+C,sx:{fontSize:15},variant:"contained",children:"Edit This Job Listing"})})]}),n(W,{children:[r=="applicants"&&e(d,{children:y==null?void 0:y.map(s=>e(A,{offer:!1,influencer:s.inf,currentTab:s.tab,onRerender:v,invited:"0"},s.id))}),r=="joblisting"&&e(d,{children:p&&p[0]?e(Ie,{job:p[0],openBar:!1,active:"all"}):e(d,{})}),r=="hired"&&e(d,{children:b==null?void 0:b.map(s=>e(A,{offer:!1,influencer:s.inf,onRerender:v,currentTab:s.tab,invited:"0"},s.id))}),r=="invitedinfluencers"&&e(d,{children:f.length==0?e(d,{children:e(ke,{})}):e(d,{children:f==null?void 0:f.map(s=>e(A,{influencer:s.inf,onRerender:v,currentTab:s.tab,createdAt:s.updated_at,invited:"1",offer:!1},s.id))})})]})]}),e(h,{spacing:4,sx:{mt:4}})]})})]})},Be=m=>({jobs:m.jobs.jobs}),dt=P(Be)(Pe);export{dt as default};
