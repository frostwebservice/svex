import{v as H,cq as J,aT as K,r as t,w as $,o as V,cw as P,c as X,j as o,F as v,d as e,S as Y,l as m,aM as Z,B as p,q as u,f as h,aG as ee,k as f,bs as te,E as ae,R as q,p as z,c0 as T,bj as oe,bk as ne,D as se,u as C,x as ie}from"./app-0f1dd223.js";import{I as re}from"./Image01-ea9d6890.js";import{H as E}from"./Share07-6bb37dec.js";import{E as ce}from"./Edit02-9148b448.js";import{F as le}from"./file-uploader-eb6e2558.js";import{C as de}from"./Camera01-47b22c37.js";import{s as w}from"./index-a1393109.js";import{S as me}from"./profile-0a553dd8.js";import{b as _,S as ue}from"./social-timeline-9b77181f.js";import"./file-dropzone-91de2e11.js";import"./tslib.es6-af7906ce.js";import"./Upload01-3e522d83.js";import"./bytes-to-size-706bbf81.js";import"./deep-copy-ee95be26.js";import"./social-post-card-ae6fb759.js";import"./Clock-290b8e9e.js";import"./index-ecb8aa0f.js";import"./FaceSmile-bae5902c.js";import"./Link01-9f035bfd.js";import"./Attachment01-1e4fec3f.js";import"./Plus-223a6cf2.js";import"./use-mocked-user-2f7e8148.js";import"./get-initials-d1c6cec7.js";import"./CardHeader-13b1bb8b.js";import"./CardMedia-c8fcddfd.js";import"./company-jobs-ce8fe573.js";import"./index-80541cf5.js";import"./Users01-13ba5faf.js";import"./social-post-add-21ca68e7.js";const pe=[{label:"Overview",value:"timeline"},{label:"Jobs Posted",value:"connections"}],he=()=>{const n=C(),[r,d]=t.useState(null),l=t.useCallback(async()=>{try{const s=await w.getProfile();n()&&d(s)}catch(s){console.error(s)}},[n]);return t.useEffect(()=>{l()},[]),r},fe=()=>{const n=C(),[r,d]=t.useState([]),l=t.useCallback(async()=>{try{const s=await w.getPosts();n()&&d(s)}catch(s){console.error(s)}},[n]);return t.useEffect(()=>{l()},[]),r},be=(n="")=>{const[r,d]=t.useState([]),l=C(),s=t.useCallback(async()=>{const a=await w.getConnections();l()&&d(a)},[l]);return t.useEffect(()=>{s()},[n]),r.filter(a=>{var i;return(i=a.name)==null?void 0:i.toLowerCase().includes(n)})},ge=n=>{const r=J(),d=K(),[l,s]=t.useState("cover"),{brandinfo:a,userinfo:i}=n,g=he(),[k,D]=t.useState("timeline"),[ve,y]=t.useState("not_connected"),F=fe(),[S,M]=t.useState(""),B=be(S),[G,x]=t.useState(!1),b=$(),R=V();t.useEffect(()=>{b(P({brandID:window.location.pathname.split("/")[2].split("-")[2]}))},[b]);const[N,j]=t.useState(""),L=()=>{b(P({brandID:window.location.pathname.split("/")[2].split("-")[2]})),b(ie({email:JSON.parse(localStorage.getItem("email"))})),j(N+"a")},O=t.useCallback(()=>{x(!0)},[]),Q=t.useCallback(()=>{x(!1)},[]);X(),t.useCallback(()=>{y("pending")},[]),t.useCallback(()=>{y("not_connected")},[]);const U=t.useCallback((c,A)=>{D(A)},[]),W=t.useCallback(c=>{M(c.target.value)},[]);if(!g)return null;const I=()=>{s("avatar"),r.handleOpen()};return o(v,{children:[e(Y,{title:"Dashboard: Social Profile"}),e(m,{component:"main",sx:{flexGrow:1,py:8},children:o(Z,{maxWidth:d.stretch?!1:"xl",children:[o("div",{children:[e(m,{style:{backgroundImage:`url(${a.cover_photo?a.cover_photo:g.cover})`},sx:{backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",borderRadius:1,height:421,position:"relative"},children:i&&a&&i.id==a.id?e(p,{onClick:()=>{s("cover"),r.handleOpen()},startIcon:e(u,{children:e(re,{})}),sx:{backgroundColor:_[900],bottom:{lg:24,xs:"auto"},color:"common.white",position:"absolute",right:24,top:{lg:"auto",xs:24},"&:hover":{backgroundColor:_[900]}},variant:"contained",children:"Change Cover"}):""},N),o(h,{alignItems:"center",direction:"row",className:"custom-parent",spacing:2,sx:{mt:4},children:[o(h,{alignItems:"center",direction:"row",className:"custom-avatar",spacing:2,children:[o(m,{sx:{borderRadius:"50%",height:140,width:140,position:"relative"},children:[e(m,{onClick:I,sx:{alignItems:"center",backgroundColor:c=>ee(c.palette.neutral[700],.5),borderRadius:"50%",color:"common.white",cursor:"pointer",display:"flex",height:"100%",justifyContent:"center",left:0,opacity:0,position:"absolute",top:0,width:"100%",zIndex:1,"&:hover":{opacity:1}},children:o(h,{alignItems:"center",direction:"row",spacing:1,children:[e(u,{color:"inherit",children:e(de,{})}),e(f,{color:"inherit",variant:"subtitle2",sx:{fontWeight:700},children:"Select"})]})}),e(m,{component:te,sx:{alignItems:"center",display:"flex",borderWidth:2,borderStyle:"solid",borderColor:"divider",height:140,width:140,borderRadius:"50%"},children:e(ae,{onClick:I,src:i.avatar?i.avatar:`https://ui-avatars.com/api/?name=${i.companyname}&background=2970FF&color=fff&rounded=true`,sx:{height:130,width:130},style:{cursor:"pointer"}})})]}),o("div",{className:"brand-info",children:[e(f,{color:"primary",variant:"h6",style:{fontSize:22},children:a?a.fullname:""}),o(f,{color:"text.secondary",className:"font-inter",variant:"subtitle2",style:{fontSize:12,fontWeight:600,marginTop:4},children:["Established since ",a?a.companyfounded:""]}),e(f,{color:"text.secondary",className:"font-inter location-pointer",variant:"overline",style:{fontSize:12,marginTop:17}}),e(f,{color:"primary",variant:"overline",className:"font-inter",style:{fontSize:13},children:a?a.companylocation:""})]})]}),e(m,{sx:{flexGrow:1}}),i&&a&&i.id===a.id?e(h,{alignItems:"center",direction:"row",spacing:2,className:"button-bar",sx:{display:{md:"block"}},children:e(p,{size:"small",className:"social-btn",startIcon:e(u,{children:e(ce,{})}),onClick:()=>{R("/profile/edit/"+i.id)},variant:"contained",children:"Edit Profile"})}):e(h,{alignItems:"center",direction:"row",spacing:2,className:"button-bar",sx:{display:{md:"block"}},children:G?o(v,{children:[e(p,{onClick:Q,size:"small",className:"fav-btn",startIcon:e(u,{sx:{color:"error.main","& path":{fill:c=>c.palette.error.main,fillOpacity:1}},children:e(E,{})}),variant:"outlined",children:"Favorite"}),e(p,{component:q,href:z.dashboard.chat,size:"small",className:"social-btn",startIcon:e(u,{children:e(T,{})}),variant:"contained",children:"Send Message"})]}):o(v,{children:[e(p,{onClick:O,size:"small",className:"fav-btn",startIcon:e(u,{children:e(E,{})}),variant:"outlined",children:"Favorite"}),e(p,{component:q,href:z.dashboard.chat,size:"small",className:"social-btn",startIcon:e(u,{children:e(T,{})}),variant:"contained",children:"Send Message"})]})})]})]}),e("div",{className:"quick-link-bar",children:o("div",{className:"right-quick",children:[e("div",{className:"quick-font",children:"Quick links"}),o("div",{className:"quick-links",children:[e("a",{className:"instagram-icon quick-link",href:"https://www.instagram.com",target:"_blank"}),e("a",{className:"tiktok-icon quick-link",href:"https://www.tiktok.com",target:"_blank"}),e("a",{className:"youtube-icon quick-link",href:"https://www.youtube.com",target:"_blank"}),e("a",{className:"twitter-icon quick-link",href:"https://www.twitter.com",target:"_blank"}),e("a",{className:"pinterest-icon quick-link",href:"https://www.pinterest",target:"_blank"})]})]})}),e(oe,{indicatorColor:"primary",onChange:U,scrollButtons:"auto",sx:{mt:5},textColor:"primary",value:k,variant:"scrollable",className:"tab-panel",children:pe.map(c=>e(ne,{className:"social-font",label:c.label,value:c.value},c.value))}),e(se,{}),o(m,{children:[k==="timeline"&&e(ue,{posts:F,profile:g}),k==="connections"&&e(me,{connections:B,onQueryChange:W,query:S})]})]})}),e(le,{onClose:r.handleClose,open:r.open,onUpgrade:L,kind:l})]})},ke=n=>({brandinfo:n.profile.brandinfo,userinfo:n.profile.userinfo}),$e=H(ke)(ge);export{$e as default};
