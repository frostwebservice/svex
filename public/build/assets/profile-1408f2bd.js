import{P as w,v as j,w as B,r as a,cl as X,j as i,C as Y,d as e,D,l as m,f as k,F as v,u as y,c3 as Z,aT as ee,o as te,cL as P,c as ae,S as oe,aM as ne,B as h,q as u,aG as se,bs as ie,E as re,k as g,R as _,p as T,c0 as E,bj as ce,bk as le,x as de}from"./app-d37ded1f.js";import{I as me}from"./Image01-2ba04f9e.js";import{H as z}from"./Heart-2b56bf02.js";import{E as pe}from"./Edit02-1fe0b2a4.js";import{F as ue}from"./file-uploader-517812a0.js";import{C as he}from"./Camera01-54250c75.js";import{s as C}from"./index-a7e0c2e1.js";import{j as ke}from"./index-60fcce19.js";import{J as be}from"./company-card-8c7f0511.js";import{b as M,S as fe}from"./social-timeline-060904e6.js";/* empty css                */import"./file-dropzone-b5707fd2.js";import"./tslib.es6-af7906ce.js";import"./Upload01-d21ccbd7.js";import"./bytes-to-size-706bbf81.js";import"./deep-copy-ee95be26.js";import"./social-post-card-a30d542d.js";import"./Clock-fc25cd27.js";import"./Share07-9b45ccae.js";import"./index-33572e21.js";import"./FaceSmile-217eeef0.js";import"./Link01-c13b2940.js";import"./Attachment01-d536fce3.js";import"./Plus-71a918f7.js";import"./use-mocked-user-2f7e8148.js";import"./get-initials-d1c6cec7.js";import"./CardHeader-59e66f61.js";import"./CardMedia-fbab099f.js";import"./index-8655ec18.js";import"./Users01-ad839d88.js";import"./social-post-add-350e0745.js";import"./jsx-runtime_commonjs-proxy-1ae07370.js";w.object;const ge=()=>{const o=y(),[s,l]=a.useState([]),c=a.useCallback(async()=>{try{const n=await ke.getCompanies();o()&&l(n)}catch(n){console.error(n)}},[o]);return a.useEffect(()=>{c()},[]),s},F=o=>{const{jobs:s,connections:l=[],query:c="",onQueryChange:n,...t}=o;ge();const r=JSON.parse(localStorage.getItem("email")),b=B();return a.useEffect(()=>{b(X(r,1))},[]),i(Y,{...t,style:{borderRadius:0,boxShadow:"none"},children:[e(D,{}),e(m,{sx:{p:.5},style:{boxShadow:"none"},children:e(k,{spacing:4,sx:{mt:4},children:s==null?void 0:s.map(p=>p.is_active==1?e(be,{job:p,active:"active",openBar:!1},p.id):e(v,{}))})})]})};F.propTypes={connections:w.array,query:w.string,onQueryChange:w.func};const we=o=>({jobs:o.jobs.jobs}),ve=j(we)(F),ye=[{label:"Overview",value:"timeline"},{label:"Jobs Posted",value:"connections"}],Ce=()=>{const o=y(),[s,l]=a.useState(null),c=a.useCallback(async()=>{try{const n=await C.getProfile();o()&&l(n)}catch(n){console.error(n)}},[o]);return a.useEffect(()=>{c()},[]),s},Se=()=>{const o=y(),[s,l]=a.useState([]),c=a.useCallback(async()=>{try{const n=await C.getPosts();o()&&l(n)}catch(n){console.error(n)}},[o]);return a.useEffect(()=>{c()},[]),s},xe=(o="")=>{const[s,l]=a.useState([]),c=y(),n=a.useCallback(async()=>{const t=await C.getConnections();c()&&l(t)},[c]);return a.useEffect(()=>{n()},[o]),s.filter(t=>{var r;return(r=t.name)==null?void 0:r.toLowerCase().includes(o)})},Ne=o=>{const s=Z(),l=ee(),[c,n]=a.useState("cover"),{brandinfo:t,userinfo:r}=o,b=Ce(),[p,G]=a.useState("timeline"),[qe,S]=a.useState("not_connected"),R=Se(),[x,Q]=a.useState(""),J=xe(x),[L,N]=a.useState(!1),f=B(),O=te();a.useEffect(()=>{f(P({brandID:window.location.pathname.split("/")[2].split("-")[2]}))},[f]);const[I,U]=a.useState(""),$=()=>{f(P({brandID:window.location.pathname.split("/")[2].split("-")[2]})),f(de({email:JSON.parse(localStorage.getItem("email"))})),U(I+"a")},A=a.useCallback(()=>{N(!0)},[]),W=a.useCallback(()=>{N(!1)},[]);ae(),a.useCallback(()=>{S("pending")},[]),a.useCallback(()=>{S("not_connected")},[]);const H=a.useCallback((d,V)=>{G(V)},[]),K=a.useCallback(d=>{Q(d.target.value)},[]);if(!b)return null;const q=()=>{n("avatar"),s.handleOpen()};return i(v,{children:[e(oe,{title:"Dashboard: Social Profile"}),e(m,{component:"main",sx:{flexGrow:1,py:8},children:i(ne,{maxWidth:l.stretch?!1:"xl",children:[i("div",{children:[e(m,{style:{backgroundImage:`url(${t.cover_photo?t.cover_photo:b.cover})`},sx:{backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",borderRadius:1,height:421,position:"relative"},children:r&&t&&r.id==t.id?e(h,{onClick:()=>{n("cover"),s.handleOpen()},startIcon:e(u,{children:e(me,{})}),sx:{backgroundColor:M[900],bottom:{lg:24,xs:"auto"},color:"common.white",position:"absolute",right:24,top:{lg:"auto",xs:24},"&:hover":{backgroundColor:M[900]}},variant:"contained",children:"Change Cover"}):""},I),i(k,{alignItems:"center",direction:"row",className:"custom-parent",spacing:2,sx:{mt:4},children:[i(k,{alignItems:"center",direction:"row",className:"custom-avatar",spacing:2,children:[i(m,{sx:{borderRadius:"50%",height:140,width:140,position:"relative"},children:[e(m,{onClick:q,sx:{alignItems:"center",backgroundColor:d=>se(d.palette.neutral[700],.5),borderRadius:"50%",color:"common.white",cursor:"pointer",display:"flex",height:"23%",width:"23%",justifyContent:"center",right:"5px",bottom:"15px",opacity:.7,position:"absolute",zIndex:1,"&:hover":{opacity:1}},children:e(k,{alignItems:"center",direction:"row",spacing:1,children:e(u,{color:"inherit",children:e(he,{})})})}),e(m,{component:ie,sx:{alignItems:"center",display:"flex",borderWidth:2,borderStyle:"solid",borderColor:"divider",height:140,width:140,borderRadius:"50%"},children:e(re,{onClick:q,src:r.avatar?r.avatar:`https://ui-avatars.com/api/?name=${r.companyname}&background=2970FF&color=fff&rounded=true`,sx:{height:130,width:130},style:{cursor:"pointer"}})})]}),i("div",{className:"brand-info",children:[e(g,{color:"primary",variant:"h6",style:{fontSize:22},children:t?t.fullname:""}),i(g,{color:"text.secondary",className:"font-inter",variant:"subtitle2",style:{fontSize:12,fontWeight:600,marginTop:4},children:["Established since ",t?t.companyfounded:""]}),e(g,{color:"text.secondary",className:"font-inter location-pointer",variant:"overline",style:{fontSize:12,marginTop:17}}),e(g,{color:"primary",variant:"overline",className:"font-inter",style:{fontSize:13},children:t?t.companylocation:""})]})]}),e(m,{sx:{flexGrow:1}}),r&&t&&r.id===t.id?e(k,{alignItems:"center",direction:"row",spacing:2,className:"button-bar",sx:{display:{md:"block"}},children:e(h,{size:"small",className:"social-btn",startIcon:e(u,{children:e(pe,{})}),onClick:()=>{O("/profile/edit/"+r.id)},variant:"contained",children:"Edit Profile"})}):e(k,{alignItems:"center",direction:"row",spacing:2,className:"button-bar",sx:{display:{md:"block"}},children:L?i(v,{children:[e(h,{onClick:W,size:"small",className:"fav-btn",startIcon:e(u,{sx:{color:"error.main","& path":{fill:d=>d.palette.error.main,fillOpacity:1}},children:e(z,{})}),variant:"outlined",children:"Favorite"}),e(h,{component:_,href:T.dashboard.chat,size:"small",className:"social-btn",startIcon:e(u,{children:e(E,{})}),variant:"contained",children:"Send Message"})]}):i(v,{children:[e(h,{onClick:A,size:"small",className:"fav-btn",startIcon:e(u,{children:e(z,{})}),variant:"outlined",children:"Favorite"}),e(h,{component:_,href:T.dashboard.chat,size:"small",className:"social-btn",startIcon:e(u,{children:e(E,{})}),variant:"contained",children:"Send Message"})]})})]})]}),e("div",{className:"quick-link-bar",children:i("div",{className:"right-quick",children:[e("div",{className:"quick-font",children:"Quick links"}),i("div",{className:"quick-links",children:[t&&t.facebook?e("a",{className:"facebook-icon quick-link",href:"https://"+(t?t.facebook.split("/").length>1?t.facebook:"www.facebook.com/"+t.facebook:""),target:"_blank"}):e("a",{className:"facebook-icon quick-link",href:"https://www.facebook.com",target:"_blank"}),t&&t.instagram?e("a",{className:"instagram-icon quick-link",href:"https://"+(t?t.instagram.split("/").length>1?t.instagram:"www.instagram.com/"+t.instagram:""),target:"_blank"}):e("a",{className:"instagram-icon quick-link",href:"https://www.instagram.com",target:"_blank"}),t&&t.tiktok?e("a",{className:"tiktok-icon quick-link",href:"https://"+(t?t.tiktok.split("/").length>1?t.tiktok:"www.tiktok.com/"+t.tiktok:""),target:"_blank"}):e("a",{className:"tiktok-icon quick-link",href:"https://www.tiktok.com",target:"_blank"}),t&&t.youtube?e("a",{className:"youtube-icon quick-link",href:"https://"+(t?t.youtube.split("/").length>1?t.youtube:"www.youtube.com/@"+t.youtube:""),target:"_blank"}):e("a",{className:"youtube-icon quick-link",href:"https://www.youtube.com",target:"_blank"}),t&&t.twitter?e("a",{a:!0,className:"twitter-icon quick-link",href:"https://"+(t?t.twitter.split("/").length>1?t.twitter:"www.twitter.com/"+t.twitter:""),target:"_blank"}):e("a",{className:"twitter-icon quick-link",href:"https://www.twitter.com",target:"_blank"}),t&&t.pinterest?e("a",{className:"pinterest-icon quick-link",href:"https://"+(t?t.pinterest.split("/").length>1?t.pinterest:"www.pinterest.com/"+t.pinterest:""),target:"_blank"}):e("a",{className:"pinterest-icon quick-link",href:"https://www.pinterest",target:"_blank"})]})]})}),e(ce,{indicatorColor:"primary",onChange:H,scrollButtons:"auto",sx:{mt:5},textColor:"primary",value:p,variant:"scrollable",className:"tab-panel",children:ye.map(d=>e(le,{className:"social-font",label:d.label,value:d.value},d.value))}),e(D,{}),i(m,{children:[p==="timeline"&&e(fe,{posts:R,profile:b}),p==="connections"&&e(ve,{connections:J,onQueryChange:K,query:x})]})]})}),e(ue,{onClose:s.handleClose,open:s.open,onUpgrade:$,kind:c})]})},Ie=o=>({brandinfo:o.profile.brandinfo,userinfo:o.profile.userinfo}),it=j(Ie)(Ne);export{it as default};
