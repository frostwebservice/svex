import{w as T,r as s,aS as k,x as A,c as B,cr as D,j as u,F as r,d as e,S as E,l as m,aL as M,k as N,f as o,bk as P,bl as q,bm as G,bn as J,q as L,bo as O,u as Q}from"./app-7fcd7513.js";import{j as _}from"./index-a1e3dcfd.js";import{J as h}from"./company-card-650dfa9f.js";import"./multi-select-788d973d.js";/* empty css               */import"./index-5aa78b45.js";import"./index-7110dfb0.js";import"./Users01-ffd294e3.js";const F=()=>{const n=Q(),[p,d]=s.useState([]),i=s.useCallback(async()=>{try{const t=await _.getCompanies();n()&&d(t)}catch(t){console.error(t)}},[n]);return s.useEffect(()=>{i()},[]),p},R=[{label:"All",value:"all"},{label:"Active",value:"active"},{label:"Archived",value:"archived"}],V=n=>{let p={time:new Date().getTime(),value:"email",expire:3e6},d=JSON.stringify(p);localStorage.setItem("time_token",d);const{jobs:i}=n,[t,f]=s.useState([]);F();const v=k(),S=JSON.parse(localStorage.getItem("email")),[l,x]=s.useState("all"),C=s.useCallback((a,c)=>{x(c)},[]),y=A();B(),s.useEffect(()=>{f(i)},[i]),s.useEffect(()=>{y(D(S,1))},[]);const b=s.useRef(null),w=s.useCallback(a=>{var g;a.preventDefault();const c=((g=b.current)==null?void 0:g.value)||"";let j=i.filter(I=>!(typeof c<"u"&&c!==""&&!(I.title||"").toLowerCase().includes(c.toLowerCase())));f(j)},[]);return u(r,{children:[e(E,{title:"Dashboard: Job Browse"}),e(m,{component:"main",sx:{flexGrow:1,py:8},children:u(M,{maxWidth:v.stretch?!1:"xl",children:[e(N,{variant:"h4",children:"Manage Jobs"}),u(o,{alignItems:"center",justifyContent:"space-between",spacing:2,direction:{xs:"column",sm:"row"},children:[e(o,{alignItems:"center",direction:"row",spacing:3,children:e(P,{indicatorColor:"primary",onChange:C,scrollButtons:"auto",textColor:"primary",sx:{p:3},value:l,variant:"scrollable",children:R.map(a=>e(q,{className:"custom-tab",sx:{fontSize:18},label:a.label,value:a.value},a.value))})}),e(o,{alignItems:"center",direction:"row",className:"part",spacing:2,sx:{p:1},children:e(m,{component:"form",onSubmit:w,sx:{flexGrow:1},children:e(G,{defaultValue:"",fullWidth:!0,inputProps:{ref:b},name:"jobtitle",placeholder:"Search any of the jobs you have posted...",startAdornment:e(J,{position:"start",children:e(L,{children:e(O,{})})})})})})]}),u(m,{children:[l=="all"&&e(r,{children:e(o,{spacing:4,children:t==null?void 0:t.map(a=>e(h,{job:a,active:"all",openBar:!0},a.id))})}),l=="active"&&e(r,{children:e(o,{spacing:4,children:t==null?void 0:t.map(a=>a.is_active==1?e(h,{job:a,openBar:!0,active:"active"},a.id):e(r,{}))})}),l=="archived"&&e(r,{children:e(o,{spacing:4,children:t==null?void 0:t.map(a=>a.is_active==0?e(h,{job:a,openBar:!0,active:"archived"},a.id):e(r,{}))})})]})]})})]})},W=n=>({jobs:n.jobs.jobs}),ae=T(W)(V);export{ae as default};
