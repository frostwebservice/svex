import{v as le,r,c as ie,cp as se,aS as ue,w as ce,o as de,x as M,j as l,F as me,d as n,S as he,l as C,aL as pe,B as f,q as F,f as m,E as ge,k as y,C as be,e as P,aM as t,T as o,R as fe,cv as ye}from"./app-21956035.js";import{I as G}from"./Image01-7a19c7ce.js";import{F as ve}from"./file-uploader-d83d3be7.js";import{$ as x,G as ke,a as Ce}from"./jquery-6a45be2d.js";/* empty css             */import"./social-post-card-890cd6ee.js";import"./profile-1a3445d3.js";import{b as D}from"./social-timeline-b5de62a2.js";import{M as xe}from"./MultiSelectAll-16933d5d.js";import{u as Se}from"./formik.esm-83a60c74.js";import{c as Be,a as s}from"./index.esm-3a39e0d6.js";import{C as E}from"./CardHeader-f479f259.js";import{A as we}from"./Alert-dc91dab7.js";import"./file-dropzone-31fb2fab.js";import"./tslib.es6-af7906ce.js";import"./Upload01-6d6d4e7e.js";import"./bytes-to-size-706bbf81.js";import"./Clock-5f3d0549.js";import"./Share07-f750a10f.js";import"./index-614f0049.js";import"./FaceSmile-3a3553d6.js";import"./Link01-7ef1615c.js";import"./Attachment01-5105262f.js";import"./Plus-2b54de41.js";import"./use-mocked-user-2f7e8148.js";import"./get-initials-d1c6cec7.js";import"./CardMedia-08a232a4.js";import"./company-jobs-8c12c71c.js";import"./deep-copy-ee95be26.js";import"./index-a926b7d6.js";import"./Users01-e13e0e93.js";import"./social-post-add-edc8d486.js";import"./isEqual-1e0ce99f.js";import"./Autocomplete-64cf3946.js";import"./Close-ea397638.js";import"./ListSubheader-0e3c2209.js";import"./Grid-03535371.js";const Te=[{label:"Acne and Skin Care",value:"Acne and Skin Care"},{label:"Alcohol",value:"Alcohol"},{label:"Art",value:"Art"},{label:"Baby and Maternity",value:"Baby and Maternity"},{label:"Blockchain and Cryptocurrency",value:"Blockchain and Cryptocurrency"},{label:"Books and Fiction",value:"Books and Fiction"},{label:"Business and Career",value:"Business and Career"},{label:"Cameras, Photography and Videography",value:"Cameras, Photography and Videography"},{label:"Cars and Vehicles",value:"Cars and Vehicles"},{label:"Cooking and Recipes",value:"Cooking and Recipes"},{label:"Crafts and DIY",value:"Crafts and DIY"},{label:"Diet and Weight Loss",value:"Diet and Weight Loss"},{label:"Digital Marketing and Making Money Online",value:"Digital Marketing and Making Money Online"},{label:"Exercise and Fitness",value:"Exercise and Fitness"},{label:"Farming",value:"Farming"},{label:"Gardening and Lawn Care",value:"Gardening and Lawn Care"},{label:"Health",value:"Health"},{label:"Makeup and Beauty",value:"Makeup and Beauty"},{label:"Martial Arts",value:"Martial Arts"},{label:"Music and Instruments",value:"Music and Instruments"},{label:"Outdoors and Hiking",value:"Outdoors and Hiking"},{label:"Pets and Animal Care",value:"Pets and Animal Care"},{label:"Sports",value:"Sports"},{label:"Technology and Gadgets",value:"Technology and Gadgets"},{label:"Travel",value:"Travel"},{label:"Wedding",value:"Wedding"},{label:"OK",value:"OK"}],Ie=h=>{const L=JSON.parse(localStorage.getItem("email")),[O,v]=r.useState(!1),[S,p]=r.useState(!1),[Ne,R]=r.useState(!1),[B,V]=r.useState(""),H=Be({firstname:s().max(255).required("This field is required"),lastname:s().max(255).required("This field is required"),phonenumber:s().max(255).required("This field is required"),companyname:s().max(255).required("This field is required"),companywebsite:s().max(255).required("This field is required"),companylocation:s().max(255).required("This field is required"),budget:s().max(255).required("This field is required"),companyfounded:s().max(255).required("This field is required"),companysize:s().max(255).required("This field is required"),aboutbusiness:s().required("This field is required")}),[u,c]=r.useState({firstname:"",lastname:"",phonenumber:"",companyname:"",companywebsite:"",companylocation:"",budget:"",companyfounded:"",companysize:"",aboutbusiness:"",instagram:"",tiktok:"",youtube:"",facebook:"",twitter:"",pinterest:"",linkedin:"",blogurl:"",email:""});u.email=L;const[w,$]=r.useState("1"),[U,T]=r.useState(!1),[K,j]=r.useState([]),J=()=>{T(!1)},e=Se({initialValues:u,enableReinitialize:!0,validationSchema:H,onSubmit:i=>{i.nichecategory=z,axios.post("/api/edit-profile",i).then(d=>{d.data.status===200&&(c({firstname:"",lastname:"",phonenumber:"",companyname:"",companywebsite:"",companylocation:"",budget:"",companyfounded:"",companysize:"",aboutbusiness:"",instagram:"",tiktok:"",youtube:"",facebook:"",twitter:"",pinterest:"",linkedin:"",blogurl:""}),q("/profile/"+a.firstname+"-"+a.lastname+"-"+a.id)),d.data.status==="failed"&&T(!0)})}});ie();const[qe,I]=r.useState(!1),g=se(),Y=ue(),[_,W]=r.useState("cover"),{brandinfo:N,userinfo:a}=h,[k,Q]=r.useState(0),b=ce(),q=de();r.useEffect(()=>{b(M({email:JSON.parse(localStorage.getItem("email"))}))},[b]);const[A,X]=r.useState(""),Z=()=>{b(ye({brandID:window.location.pathname.split("/")[3]})),b(M({email:JSON.parse(localStorage.getItem("email"))})),X(A+"a")},ee=()=>{W("avatar"),g.handleOpen()};r.useEffect(()=>{if(k<5&&a){if(a){let i=[];a.niches.map(d=>{i.push({value:d.niche,label:d.niche})}),j(i),$(w+"aa")}console.log(k),console.log(a),c({...u,nichecategory:a?z:"",firstname:a?a.firstname:"",lastname:a?a.lastname:"",phonenumber:a?a.phonenumber:"",companyname:a?a.companyname:"",companywebsite:a?a.companywebsite:"",companylocation:a?a.companylocation:"",budget:a?a.budget:"",companyfounded:a?a.companyfounded:"",companysize:a?a.companysize:"",aboutbusiness:a?a.aboutbusiness:"",instagram:a?a.instagram:"",tiktok:a?a.tiktok:"",youtube:a?a.youtube:"",facebook:a?a.facebook:"",twitter:a?a.twitter:"",pinterest:a?a.pinterest:"",linkedin:a?a.linkedin:"",blogurl:a?a.blogurl:""}),a.id!=0&&Q(k+1),document.getElementsByClassName("geoapify-autocomplete-input")[0].value=a?a.companylocation:""}});const ae=i=>{I(!0),i!=null?(c({...e.values,companylocation:i.properties.formatted}),p(!1)):(c({...e.values,companylocation:""}),p(!0),v(!1))};x(".geoapify-autocomplete-input").on("focusout",function(){(x(".geoapify-autocomplete-input")[0].value==""||x(".geoapify-autocomplete-input")[0].value==" ")&&(u.companylocation===""||!u.companylocation||u.companylocation===" ")&&(c({...e.values,companylocation:""}),p(!0),v(!1),V(B+"a")),I(!1)});const ne=i=>{v(!0),p(!1),R(!0),document.getElementsByClassName("geoapify-autocomplete-input")[0].value==""&&(document.getElementsByClassName("geoapify-autocomplete-input")[0].value=" ")},te=()=>{document.getElementsByClassName("geoapify-autocomplete-input")[0].click(),document.getElementsByClassName("geoapify-autocomplete-input")[0].focus()},[z,oe]=r.useState([]),re=i=>{oe(i)};return l(me,{children:[n(he,{title:"Dashboard: Social Profile"}),n(C,{component:"main",sx:{flexGrow:1,py:8},children:l(pe,{maxWidth:Y.stretch?!1:"xl",children:[n(C,{style:{backgroundImage:`url(${a.cover_photo?a.cover_photo:"/assets/covers/abstract-1-4x3-large.png"})`},sx:{backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",borderRadius:1,height:421,position:"relative"},children:a&&N&&a.id==a.id?n(f,{onClick:()=>{W("cover"),g.handleOpen()},startIcon:n(F,{children:n(G,{})}),sx:{backgroundColor:D[900],bottom:{lg:24,xs:"auto"},color:"common.white",position:"absolute",right:24,top:{lg:"auto",xs:24},"&:hover":{backgroundColor:D[900]}},variant:"contained",children:"Change Cover"}):""},A),l(m,{alignItems:"center",direction:"row",className:"custom-parent",spacing:2,sx:{mt:4},children:[l(m,{alignItems:"center",direction:"row",className:"custom-avatar",spacing:2,children:[n(ge,{onClick:ee,src:a.avatar?a.avatar:`https://ui-avatars.com/api/?name=${a.companyname}&background=2970FF&color=fff&rounded=true`,sx:{height:140,width:140},style:{cursor:"pointer"}}),l("div",{className:"brand-info",children:[n(y,{color:"primary",variant:"h6",style:{fontSize:22},children:a?a.fullname:""}),l(y,{color:"text.secondary",className:"font-inter",variant:"subtitle2",style:{fontSize:12,fontWeight:600,marginTop:4},children:["Established since ",a?a.companyfounded:""]}),n(y,{color:"text.secondary",className:"font-inter location-pointer",variant:"overline",style:{fontSize:12,marginTop:17}}),n(y,{color:"primary",variant:"overline",className:"font-inter",style:{fontSize:13},children:a?a.companylocation:""})]})]}),n(C,{sx:{flexGrow:1}}),a&&N&&a.id===a.id?n(m,{alignItems:"center",direction:"row",spacing:2,className:"button-bar",sx:{display:{md:"block"}},children:n(f,{size:"small",className:"social-btn",startIcon:n(F,{children:n(G,{})}),onClick:()=>{q("/profile/"+a.firstname+"-"+a.lastname+"-"+a.id)},variant:"contained",children:"View Profile"})}):""]}),n(m,{spacing:4,sx:{mt:10},children:n("form",{onSubmit:e.handleSubmit,children:l(be,{children:[n(E,{title:"General Business Information"}),n(P,{sx:{pt:0},children:l(t,{container:!0,spacing:3,children:[n(t,{xs:12,md:6,children:n(o,{error:!!(e.touched.firstname&&e.errors.firstname),fullWidth:!0,helperText:e.touched.firstname&&e.errors.firstname,label:"First name",name:"firstname",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.firstname})}),n(t,{xs:12,md:6,children:n(o,{error:!!(e.touched.lastname&&e.errors.lastname),fullWidth:!0,helperText:e.touched.lastname&&e.errors.lastname,label:"Last name",name:"lastname",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.lastname})}),n(t,{xs:12,md:6,children:n(o,{error:!!(e.touched.phonenumber&&e.errors.phonenumber),fullWidth:!0,helperText:e.touched.phonenumber&&e.errors.phonenumber,label:"Phone number",name:"phonenumber",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.phonenumber})}),n(t,{xs:12,md:6,children:n(o,{error:!!(e.touched.companyname&&e.errors.companyname),fullWidth:!0,helperText:e.touched.companyname&&e.errors.companyname,label:"Company name",name:"companyname",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.companyname})}),n(t,{xs:12,md:6,children:n(o,{error:!!(e.touched.companywebsite&&e.errors.companywebsite),fullWidth:!0,helperText:e.touched.companywebsite&&e.errors.companywebsite,label:"Company website",name:"companywebsite",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.companywebsite})}),n(t,{xs:12,md:6,children:n(o,{error:!!(e.touched.companyfounded&&e.errors.companyfounded),fullWidth:!0,helperText:e.touched.companyfounded&&e.errors.companyfounded,label:"Company founded",name:"companyfounded",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.companyfounded})}),n(t,{xs:12,md:12,children:n("div",{className:"p-2 location-bar",style:{position:"relative"},children:l(ke,{apiKey:"1040c1c2e3e34b3b80b351a587232b75",children:[n(Ce,{placeholder:" ",onUserInput:ne,placeSelect:ae},B),n("div",{onClick:te,className:`${O||a.companylocation?"location-placeholder-top":"location-placeholder-general"} ${S?"location-placeholder-error":""}`,children:"Company Location"}),S?n("div",{className:"location-error",children:"Invalid address"}):""]})})}),l(t,{xs:12,md:12,children:[n(t,{item:!0,xs:12,sx:{p:0},children:n(xe,{sx:{maxheight:"700px"},items:Te,selectAllLabel:"Select All",value:K,placeholder:"sss",onChange:re},w)}),U&&n(we,{severity:"info",onClose:J,children:"Niche category field should not over 5 items"})]}),n(t,{xs:12,md:6,children:n(o,{error:!!(e.touched.budget&&e.errors.budget),fullWidth:!0,helperText:e.touched.budget&&e.errors.budget,label:"Budget",name:"budget",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.budget})}),n(t,{xs:12,md:6,children:n(o,{error:!!(e.touched.companysize&&e.errors.companysize),fullWidth:!0,helperText:e.touched.companysize&&e.errors.companysize,label:"Company Size",name:"companysize",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.companysize})}),n(t,{xs:12,md:12,children:n(o,{label:"Bio",className:"title-inter ",name:"aboutbusiness",variant:"filled",multiline:!0,inputProps:{style:{height:"110px"}},fullWidth:!0,style:{marginTop:11},error:!!(e.touched.aboutbusiness&&e.errors.aboutbusiness),onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.aboutbusiness,helperText:"Describe your influencer marketing goals and ambitions using SocialVex"})})]})}),n(E,{title:"Social Media Handles"}),n(P,{sx:{pt:0},children:l(t,{container:!0,spacing:3,children:[n(t,{xs:12,md:6,children:n(o,{error:!!(e.touched.instagram&&e.errors.instagram),fullWidth:!0,helperText:e.touched.instagram&&e.errors.instagram,label:"Instagram handle",name:"instagram",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.instagram})}),n(t,{xs:12,md:6,children:n(o,{error:!!(e.touched.tiktok&&e.errors.tiktok),fullWidth:!0,helperText:e.touched.tiktok&&e.errors.tiktok,label:"Tiktok handle",name:"tiktok",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.tiktok})}),n(t,{xs:12,md:6,children:n(o,{error:!!(e.touched.youtube&&e.errors.youtube),fullWidth:!0,helperText:e.touched.youtube&&e.errors.youtube,label:"Youtube handle",name:"youtube",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.youtube})}),n(t,{xs:12,md:6,children:n(o,{error:!!(e.touched.facebook&&e.errors.facebook),fullWidth:!0,helperText:e.touched.facebook&&e.errors.facebook,label:"Facebook handle",name:"facebook",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.facebook})}),n(t,{xs:12,md:6,children:n(o,{error:!!(e.touched.twitter&&e.errors.twitter),fullWidth:!0,helperText:e.touched.twitter&&e.errors.twitter,label:"Twitter handle",name:"twitter",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.twitter})}),n(t,{xs:12,md:6,children:n(o,{error:!!(e.touched.pinterest&&e.errors.pinterest),fullWidth:!0,helperText:e.touched.pinterest&&e.errors.pinterest,label:"Pinterest handle",name:"pinterest",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.pinterest})}),n(t,{xs:12,md:6,children:n(o,{error:!!(e.touched.linkedin&&e.errors.linkedin),fullWidth:!0,helperText:e.touched.linkedin&&e.errors.linkedin,label:"Linkedin handle",name:"linkedin",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.linkedin})}),n(t,{xs:12,md:6,children:n(o,{error:!!(e.touched.blogurl&&e.errors.blogurl),fullWidth:!0,helperText:e.touched.blogurl&&e.errors.blogurl,label:"Blog URL",name:"blogurl",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.blogurl})})]})}),l(m,{direction:{xs:"column",sm:"row"},flexWrap:"wrap",spacing:3,sx:{p:3},children:[n(f,{type:"submit",variant:"contained",children:"Update"}),n(f,{color:"inherit",component:fe,href:"/profile/"+a.firstname+"-"+a.lastname+"-"+a.id,children:"Cancel"})]})]})})})]})}),n(ve,{onClose:g.handleClose,open:g.open,onUpgrade:Z,kind:_})]})},We=h=>({brandinfo:h.profile.brandinfo,userinfo:h.profile.userinfo}),pa=le(We)(Ie);export{pa as default};
