import{w as T,r as s,aS as k,x as A,c as B,ct as D,j as u,F as r,d as e,S as E,l as m,aL as M,k as N,f as o,bk as P,bl as q,bm as G,bn as J,q as L,bo as O,u as Q}from"./app-f8174623.js";import{j as _}from"./index-34aeb237.js";import{J as h}from"./company-card-095beca4.js";import"./multi-select-87e19a4f.js";/* empty css               */import"./index-b23b9a25.js";import"./index-bada6c48.js";import"./Users01-95364ea3.js";const F=()=>{const n=Q(),[p,d]=s.useState([]),i=s.useCallback(async()=>{try{const a=await _.getCompanies();n()&&d(a)}catch(a){console.error(a)}},[n]);return s.useEffect(()=>{i()},[]),p},R=[{label:"All",value:"all"},{label:"Active",value:"active"},{label:"Archived",value:"archived"}],V=n=>{let p={time:new Date().getTime(),value:"email",expire:3e6},d=JSON.stringify(p);localStorage.setItem("time_token",d);const{jobs:i}=n,[a,f]=s.useState([]);F();const v=k(),S=JSON.parse(localStorage.getItem("email")),[l,x]=s.useState("all"),C=s.useCallback((t,c)=>{x(c)},[]),y=A();B(),s.useEffect(()=>{f(i)},[i]),s.useEffect(()=>{y(D(S,1))},[]);const b=s.useRef(null),w=s.useCallback(t=>{var g;t.preventDefault();const c=((g=b.current)==null?void 0:g.value)||"";let j=i.filter(I=>!(typeof c<"u"&&c!==""&&!(I.title||"").toLowerCase().includes(c.toLowerCase())));f(j)},[]);return u(r,{children:[e(E,{title:"Dashboard: Job Browse"}),e(m,{component:"main",sx:{flexGrow:1,py:8},children:u(M,{maxWidth:v.stretch?!1:"xl",children:[e(N,{variant:"h4",children:"Manage Jobs"}),u(o,{alignItems:"center",justifyContent:"space-between",spacing:2,direction:{xs:"column",sm:"row"},children:[e(o,{alignItems:"center",direction:"row",spacing:3,children:e(P,{indicatorColor:"primary",onChange:C,scrollButtons:"auto",textColor:"primary",sx:{p:3},value:l,variant:"scrollable",children:R.map(t=>e(q,{className:"custom-tab",sx:{fontSize:18},label:t.label,value:t.value},t.value))})}),e(o,{alignItems:"center",direction:"row",className:"part",spacing:2,sx:{p:1},children:e(m,{component:"form",onSubmit:w,sx:{flexGrow:1},children:e(G,{defaultValue:"",fullWidth:!0,inputProps:{ref:b},name:"jobtitle",placeholder:"Search any of the jobs you have posted...",startAdornment:e(J,{position:"start",children:e(L,{children:e(O,{})})})})})})]}),u(m,{children:[l=="all"&&e(r,{children:e(o,{spacing:4,children:a==null?void 0:a.map(t=>e(h,{job:t,active:"all",openBar:!0},t.id))})}),l=="active"&&e(r,{children:e(o,{spacing:4,children:a==null?void 0:a.map(t=>t.is_active==1?e(h,{job:t,openBar:!0,active:"active"},t.id):e(r,{}))})}),l=="archived"&&e(r,{children:e(o,{spacing:4,children:a==null?void 0:a.map(t=>t.is_active==0?e(h,{job:t,openBar:!0,active:"archived"},t.id):e(r,{}))})})]})]})})]})},W=n=>({jobs:n.jobs.jobs}),te=T(W)(V);export{te as default};
