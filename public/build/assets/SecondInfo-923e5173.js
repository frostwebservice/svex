import{x as V,r as d,d as t,F as H,B as j,j as T,G as K,m as X,T as Y,y as U,z as J,E as Q,H as Z,o as ee,S as ae,k as _,C as ne,e as te,f as L,s as le,p as $}from"./app-62bf28ff.js";import{c as re,a as W}from"./index.esm-b5e6a84c.js";import{u as ie}from"./formik.esm-05076a0d.js";import{u as se}from"./use-search-params-420d74f6.js";import{R as P}from"./TextfieldStyle-e6855dd3.js";/* empty css             */import{_ as oe,a as ce,i as ue,b as w,c as de}from"./isEqual-335f957e.js";import{A as me,c as he}from"./Autocomplete-5a2a3043.js";import{G as z}from"./Grid-38a2beae.js";import{A as fe}from"./Alert-2862f348.js";import"./Close-710309c9.js";import"./ListSubheader-12aa93b5.js";var ge=oe,be=function(){return ge.Date.now()},pe=be,ve=/\s/;function ye(a){for(var i=a.length;i--&&ve.test(a.charAt(i)););return i}var xe=ye,Ce=xe,Se=/^\s+/;function Te(a){return a&&a.slice(0,Ce(a)+1).replace(Se,"")}var ke=Te,Ne=ce,Ae=ue,Be="[object Symbol]";function Ie(a){return typeof a=="symbol"||Ae(a)&&Ne(a)==Be}var Oe=Ie,Ee=ke,G=w,Fe=Oe,q=0/0,Me=/^[-+]0x[0-9a-f]+$/i,ze=/^0b[01]+$/i,Le=/^0o[0-7]+$/i,We=parseInt;function Pe(a){if(typeof a=="number")return a;if(Fe(a))return q;if(G(a)){var i=typeof a.valueOf=="function"?a.valueOf():a;a=G(i)?i+"":i}if(typeof a!="string")return a===0?a:+a;a=Ee(a);var m=ze.test(a);return m||Le.test(a)?We(a.slice(2),m?2:8):Me.test(a)?q:+a}var Re=Pe,je=w,R=pe,D=Re,_e="Expected a function",$e=Math.max,Ge=Math.min;function qe(a,i,m){var p,o,u,l,c,g,v=0,k=!1,y=!1,x=!0;if(typeof a!="function")throw new TypeError(_e);i=D(i)||0,je(m)&&(k=!!m.leading,y="maxWait"in m,u=y?$e(D(m.maxWait)||0,i):u,x="trailing"in m?!!m.trailing:x);function N(r){var f=p,e=o;return p=o=void 0,v=r,l=a.apply(e,f),l}function A(r){return v=r,c=setTimeout(C,i),k?N(r):l}function E(r){var f=r-g,e=r-v,n=i-f;return y?Ge(n,u-e):n}function S(r){var f=r-g,e=r-v;return g===void 0||f>=i||f<0||y&&e>=u}function C(){var r=R();if(S(r))return B(r);c=setTimeout(C,E(r))}function B(r){return c=void 0,x&&p?N(r):(p=o=void 0,l)}function I(){c!==void 0&&clearTimeout(c),v=0,p=g=o=c=void 0}function F(){return c===void 0?l:B(R())}function O(){var r=R(),f=S(r);if(p=arguments,o=this,g=r,f){if(c===void 0)return A(g);if(y)return clearTimeout(c),c=setTimeout(C,i),N(g)}return c===void 0&&(c=setTimeout(C,i)),l}return O.cancel=I,O.flush=F,O}var De=qe;const He=V(De),we=({items:a,selectAllLabel:i,onChange:m,value:p})=>{const[o,u]=d.useState(p),[l,c]=d.useState(null),g=d.useRef(null);d.useEffect(()=>{m(o)},[o]);const v=e=>u(e),k=()=>u([]),y=e=>`${e.label}`,x=()=>{if((l==null?void 0:l.length)!==a.length){const n=l==null?void 0:l.filter(s=>!o.find(h=>h.label===s.label));return!((n==null?void 0:n.length)>0)}return a.length>0&&a.length===o.length},N=e=>{e.length>0?u(o.filter(n=>!e.find(s=>s.label===n.label))):u([])},A=e=>{let n=[];(l==null?void 0:l.length)>0&&l.length!==a.length&&(n=a.filter(s=>l.find(h=>h.label===s.label))),e?n.length>0?u([...o,...n]):u(a):N(n)},E=()=>{A(!x())},S=(e,n,s)=>{s==="clear"?k():(s==="selectOption"||s==="removeOption")&&(n.find(h=>h.value==="select-all")?(E(),a.filter(h=>h.value!=="select-all")):v(n))},C=()=>{console.log("ok"),document.getElementsByClassName("MuiAutocomplete-popupIndicator")[0].click()},B=(e,n)=>{if(n.value==="select-all")E();else if(e.target.checked){const s=[...o,n];u(s)}else{const s=o.filter(h=>h.value!==n.value);u(s)}},I=(e,n,{selected:s})=>{const h=n.value==="select-all"?{checked:x()}:{};return n.value==="OK"?t(z,{container:!0,children:t(z,{item:!0,xs:12,sx:{pl:1,pr:1},children:t("div",{className:"justify-content-end",children:t(j,{className:"text-center mx-8  multiselect-ok",variant:"contained",onClick:C,type:"submit",children:T("span",{className:"ml-2",children:[" ",n.value," "]})})})})},n.label):t(z,{container:!0,children:t(z,{item:!0,xs:12,sx:{pl:1,pr:1},children:t(K,{control:t(X,{checked:s,onChange:b=>B(b,n),...h,sx:{mr:1}},n.label),label:y(n)},n.label)})},n.label)},F=He(e=>{e&&!de(e,l)&&c(e)},1e3),O=e=>{F(e)},r=e=>t(Y,{...e,label:"Category/Niche"}),f=he();return t(H,{children:t(me,{ref:g,sx:{maxHeight:"120px",overflowY:"auto",p:2},multiple:!0,size:"small",options:a,value:o,disableCloseOnSelect:!0,getOptionLabel:y,isOptionEqualToValue:(e,n)=>e.value===n.value,filterOptions:(e,n)=>{const s=f(e,n);return O(s),[{label:i,value:"select-all"},...s]},onChange:S,renderOption:I,renderInput:r})})},Ve=[{label:"Acne and Skin Care",value:"Acne and Skin Care"},{label:"Alcohol",value:"Alcohol"},{label:"Art",value:"Art"},{label:"Baby and Maternity",value:"Baby and Maternity"},{label:"Blockchain and Cryptocurrency",value:"Blockchain and Cryptocurrency"},{label:"Books and Fiction",value:"Books and Fiction"},{label:"Business and Career",value:"Business and Career"},{label:"Cameras, Photography and Videography",value:"Cameras, Photography and Videography"},{label:"Cars and Vehicles",value:"Cars and Vehicles"},{label:"Cooking and Recipes",value:"Cooking and Recipes"},{label:"Crafts and DIY",value:"Crafts and DIY"},{label:"Diet and Weight Loss",value:"Diet and Weight Loss"},{label:"Digital Marketing and Making Money Online",value:"Digital Marketing and Making Money Online"},{label:"Exercise and Fitness",value:"Exercise and Fitness"},{label:"Farming",value:"Farming"},{label:"Gardening and Lawn Care",value:"Gardening and Lawn Care"},{label:"Health",value:"Health"},{label:"Makeup and Beauty",value:"Makeup and Beauty"},{label:"Martial Arts",value:"Martial Arts"},{label:"Music and Instruments",value:"Music and Instruments"},{label:"Outdoors and Hiking",value:"Outdoors and Hiking"},{label:"Pets and Animal Care",value:"Pets and Animal Care"},{label:"Sports",value:"Sports"},{label:"Technology and Gadgets",value:"Technology and Gadgets"},{label:"Travel",value:"Travel"},{label:"Wedding",value:"Wedding"},{label:"OK",value:"OK"}],Ke=a=>{const[i,m]=d.useState("1"),[p,o]=d.useState(!1),u=()=>{o(!1)},{userinfo:l}=a,c=re({budget:W().max(255).required("This Field is required"),companysize:W().max(255).required("This Field is required"),companyfounded:W().max(255).required("This Field is required"),aboutbusiness:W().max(2550).required("This Field is required")}),[g,v]=d.useState(!1),k=J();d.useEffect(()=>{k(Q({email:C}))},[k]),Z(),d.useState([]);const x=se().get("returnTo"),[N,A]=d.useState(!1),[E,S]=d.useState("Save changes and NEXT"),C=JSON.parse(localStorage.getItem("email")),B=ee(),[I,F]=d.useState({budget:"",companysize:"",companyfounded:"",aboutbusiness:"",email:""});I.email=C;const[O,r]=d.useState([]),f=b=>{B(x||$.auth.auth.signin)},e=ie({initialValues:I,enableReinitialize:!0,validationSchema:c,onSubmit:b=>{A(!0),S(""),b.nichecategory=n,axios.post("/api/second-Info",b).then(M=>{M.data.status===200&&(F({nichecategory:"",budget:"",companysize:"",companyfounded:"",aboutbusiness:"",email:""}),B(x||$.auth.auth.socialHandle),S("Save changes and NEXT"),A(!1)),M.data.status==="failed"&&(S("Save changes and NEXT"),A(!1),o(!0))})}});d.useEffect(()=>{if(!g&&l){if(l){let b=[];l.niches.map(M=>{b.push({value:M.niche,label:M.niche})}),r(b),m(i+"aa")}F({...I,nichecategory:l?n:"",budget:l?l.budget:"",companysize:l?l.companysize:"",companyfounded:l?l.companyfounded:"",aboutbusiness:l?l.aboutbusiness:""}),l.id!=0&&v(!0)}});const[n,s]=d.useState([]),h=b=>{console.log(b),s(b)};return T(H,{children:[t(ae,{title:"Business Info"}),T("div",{className:"firstinfo-card",children:[t(_,{color:"primary",variant:"h4",sx:{pb:1,fontWeight:"bold",textAlign:"center"},children:"LOGO"}),t(ne,{sx:{borderRadius:2.5},className:"mainCard card  px-4 pt-4 pb-3",children:t(te,{className:"container",children:T("form",{noValidate:!0,onSubmit:e.handleSubmit,className:"row",children:[t(_,{color:"black",className:"title largesize mb-1",children:"General Business Information"}),t(L,{spacing:0,className:"col-md-12 col-12",children:T("div",{className:"p-1 ",children:[t(z,{item:!0,xs:12,sx:{p:0},children:t(we,{sx:{maxheight:"700px"},items:Ve,selectAllLabel:"Select All",value:O,placeholder:"sss",onChange:h},i)}),p&&t(fe,{severity:"info",onClose:u,children:"Niche category field should not over 5 items"})]})}),t(L,{spacing:0,className:"col-md-4 col-12",children:t("div",{className:"p-1 ",children:t(P,{variant:"filled",className:"title-inter ",style:{marginTop:11},error:!!(e.touched.budget&&e.errors.budget),helperText:e.touched.budget&&e.errors.budget,label:"Budget",name:"budget",fullWidth:!0,onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.budget})})}),t(L,{spacing:0,className:"col-md-4 col-12 ",children:t("div",{className:"p-1 ",children:t(P,{variant:"filled",className:"title-inter ",style:{marginTop:11},error:!!(e.touched.companysize&&e.errors.companysize),helperText:e.touched.companysize&&e.errors.companysize,label:"Company Size",name:"companysize",fullWidth:!0,onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.companysize})})}),t(L,{spacing:0,className:"col-md-4 col-12 ",children:t("div",{className:"p-1  ",children:t(P,{label:"Company founded",className:"title-inter",name:"companyfounded",variant:"filled",fullWidth:!0,style:{marginTop:11},error:!!(e.touched.companyfounded&&e.errors.companyfounded),helperText:e.touched.companyfounded&&e.errors.companyfounded,onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.companyfounded})})}),t("div",{className:"p-1 px-3  ",children:t(P,{label:"Bio",className:"title-inter ",name:"aboutbusiness",variant:"filled",multiline:!0,inputProps:{style:{height:"110px"}},fullWidth:!0,style:{marginTop:11},error:!!(e.touched.aboutbusiness&&e.errors.aboutbusiness),onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.aboutbusiness,helperText:"Describe your influencer marketing goals and ambitions using SocialVex"})}),T("div",{className:"row d-flex justify-content-end pt-4 px-1 title-inter ",children:[t(j,{className:"text-center m-2 w-25  btn btn-hover-outline mainButton smallsize cancel-button",variant:"text",onClick:f,children:"Cancel"}),T(j,{className:"text-center   mx-8 w-50  mainButton background-blue smallsize firstinfo-button",variant:"contained",sx:{width:200,justifyContent:"center",maxWidth:"260px",maxHeight:"48px",minWidth:"100px",minHeight:"48px"},type:"submit",children:[T("span",{className:"ml-2",children:[" ",E," "]}),N?t(le,{color:"inherit",size:"2rem"}):t("span",{})]})]})]})})})]})]})},Xe=a=>({userinfo:a.profile.userinfo}),sa=U(Xe)(Ke);export{sa as default};
