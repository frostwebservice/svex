import{v as B,d as e,C as E,j as n,f as u,D as $,k as i,B as _,R as D,F as d,P as H,S as V,l as k,aM as K,q as z,aO as te,r as c,au as U,cj as ne,a_ as re,a$ as A,b4 as F,b0 as J,aT as Y,o as X,c as Q,bN as ie,b_ as ae,bP as oe,w as se,c3 as le,e as ce,E as de,L as he,aN as R,c0 as G,ca as ue,A as fe,bj as me,bk as pe,bo as ge,u as be}from"./app-d37ded1f.js";import{j as xe}from"./index-60fcce19.js";import"./company-jobs-0d0cd7f4.js";import{J as ye}from"./company-card-8c7f0511.js";import{M as ve}from"./mail-composer-b99f2544.js";import"./multi-select-b12978a0.js";import{g as we}from"./get-initials-d1c6cec7.js";import{r as Ce,i as Se,a as Ie}from"./jsx-runtime_commonjs-proxy-1ae07370.js";import{H as q}from"./Heart-2b56bf02.js";/* empty css               */import"./deep-copy-ee95be26.js";import"./index-8655ec18.js";import"./Users01-ad839d88.js";import"./Attachment01-d536fce3.js";import"./Image01-2ba04f9e.js";import"./Link01-c13b2940.js";import"./FaceSmile-217eeef0.js";import"./quill-editor-6dfed26d.js";import"./isEqual-0ddee5ed.js";const Ne=f=>{var g,a,y;const{jobs:t,order:h,offer:p,...s}=f,o=t==null?void 0:t.filter(S=>S.id==h),v=()=>{if(o&&o[0])return o[0].barter?"Barter":o[0].revenue?"Revenue":o[0].custom?"Custom":"Paid"},x=()=>{if(o&&o[0]){if(o[0].paid=="flexible")return"Flexible";if(o[0].paid=="maxbudget")return"Max Budget";if(o[0].paid=="Budget Range")return"Budget Range"}},j=(S=new Date)=>{var w=Math.floor((new Date().getTime()-new Date(S).getTime())/1e3),m=w/31536e3;return m>1?Math.floor(m)+" years":(m=w/2592e3,m>1?Math.floor(m)+" months":(m=w/86400,m>1?Math.floor(m)+" days":(m=w/3600,m>1?Math.floor(m)+" hours":(m=w/60,m>1?Math.floor(m)+" minutes":Math.floor(w)+" seconds"))))};return e(E,{variant:"outlined",...s,children:n(u,{divider:e($,{}),sx:{py:1},children:[n(u,{alignItems:"flex-start",direction:"row",flexWrap:"wrap",justifyContent:"space-between",sx:{px:2,py:1.5},children:[e(i,{variant:"subtitle1",sx:{fontSize:16},children:o&&((g=o[0])==null?void 0:g.title)}),n(u,{alignItems:"center",direction:"row",spacing:2,children:[n(i,{color:"text.secondary",variant:"caption",style:{fontSize:12},children:[j(o&&((a=o[0])==null?void 0:a.created_at))," ago"]}),p?e(_,{className:"right-alone-btn",component:D,href:"/dashboard/jobs/",sx:{fontSize:15},children:"View"}):e(d,{})]})]}),n(u,{alignItems:"flex-start",direction:"row",flexWrap:"wrap",sx:{px:2,pb:1.5},children:[e(i,{color:"text.secondary",variant:"caption",children:"Status • Actively Hiring"}),e(i,{color:"text.secondary",style:{marginLeft:40},variant:"caption",children:"Number of applicants • 15 - 20"}),n(i,{color:"text.secondary",style:{marginLeft:40},variant:"caption",children:["Budget • ",x()]}),n(i,{color:"text.secondary",style:{marginLeft:40},variant:"caption",children:["Job type • ",o&&((y=o[0])==null?void 0:y.shoutoutonly)=="shoutoutonly"?"Shoutout Only":"Content creation & Shoutouts"]}),n(i,{color:"text.secondary",style:{marginLeft:40},variant:"caption",children:["Payment type • ",v()]})]})]})})},_e=f=>({jobs:f.jobs.jobs}),Z=B(_e)(Ne);H.object.isRequired;const je=()=>n(d,{children:[e(V,{title:"Error: Server Error"}),e(k,{component:"main",sx:{alignItems:"center",display:"flex",flexGrow:1,py:"80px"},children:n(K,{maxWidth:"lg",children:[e(k,{sx:{display:"flex",justifyContent:"center",mb:6},children:e(k,{alt:"Internal server error",component:"img",src:"/assets/errors/empty.png",sx:{height:"auto",maxWidth:"100%",width:145}})}),e(i,{align:"center",sx:{fontWeight:700,fontSize:28},children:"There are no influencers invited yet!"}),e(i,{align:"center",color:"text.secondary",sx:{mt:.5,fontSize:16},children:"Tap below to create an outreach group"}),e(k,{sx:{display:"flex",justifyContent:"center",mt:2},children:e(_,{endIcon:e(z,{children:e(te,{})}),component:D,variant:"contained",href:"/inf-finder/new-group",children:"Create Outreach Group"})})]})})]});var P={},Te=Se;Object.defineProperty(P,"__esModule",{value:!0});var ee=P.default=void 0,ke=Te(Ce()),ze=Ie,Me=(0,ke.default)((0,ze.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");ee=P.default=Me;const Oe=f=>{const{followers:t,engagement:h,invited:p,influencer:s,offer:o=!1,createdAt:v,category:x,...j}=f,[g,a]=c.useState(null),y=!!g,S=y?"simple-popover":void 0,w=l=>{a(l.currentTarget)},m=()=>{a(null)},W=l=>{var C;let I=(C=l==null?void 0:l.category_niche)==null?void 0:C.includes("[");if(I){if(I){let b=l&&l.category_niche?l.category_niche:"";return b=b.replace("[","").replace("]",""),b=b.split(","),b.map(O=>n("div",{className:"profile-niche",children:[" ",O.replace(/"/g,"")]},O))}}else return l&&l.category_niche?n("div",{className:"profile-niche",children:[" ",l.category_niche]},l.category_niche):e(d,{})};return e(E,{variant:"outlined",...j,children:e(u,{divider:e($,{}),children:n(u,{alignItems:"center",direction:"row",justifyContent:"space-between",flexWrap:"wrap",sx:{px:2,py:1.5},children:[n(u,{alignItems:"center",direction:"row",justifyContent:"space-between",flexWrap:"wrap",sx:{px:2,py:1.5},children:[n(u,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{mr:10},children:[e(i,{color:"text.primary",noWrap:!0,sx:{fontSize:14,fontWeight:700},children:t}),e(i,{color:"text.secondary",noWrap:!0,sx:{fontSize:12},style:{marginTop:0},children:"Followers"})]}),n(u,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{mr:10},children:[e(i,{color:"text.primary",noWrap:!0,sx:{fontSize:14,fontWeight:700},children:h}),e(i,{color:"text.secondary",noWrap:!0,style:{marginTop:0},sx:{fontSize:12},children:"Engagement rate"})]}),n(u,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{mr:10},children:[e(i,{color:"text.primary",noWrap:!0,sx:{fontSize:14,fontWeight:700},children:"Categories"}),e(i,{color:"text.secondary",style:{marginTop:0},noWrap:!0,sx:{fontSize:12},children:(l=>{let I=l.includes("[");if(I){if(I){let C=l||"";return C=C.replace("[","").replace("]",""),C=C.split(","),C.map(T=>T.replace(/"/g,"")+"  ")}}else return l})(x)})]}),p=="1"?n(u,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{mr:10},children:[e(i,{color:"text.primary",noWrap:!0,variant:"overline",sx:{fontSize:14,fontWeight:700},children:[new Date(v).getMonth()+1,new Date(v).getDate(),new Date(v).getFullYear()].join("/")}),e(i,{color:"text.secondary",style:{marginTop:0},noWrap:!0,sx:{fontSize:12},children:"Invited Date"})]}):e(d,{})]}),o?e(d,{}):n(u,{justifyContent:"flex-end",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{px:2,py:1.5},children:[n(i,{color:"#2ECC71",noWrap:!0,sx:{fontSize:14},children:["Quick View Profile",e(U,{style:{border:"1px solid #2ECC71",padding:"0",marginLeft:7},onClick:l=>w(l),"aria-describedby":S,children:e(z,{fontSize:"small",children:e(ee,{style:{color:"#2ECC71"}})})})]}),e(ne,{id:S,open:y,anchorEl:g,onClose:m,transformOrigin:{horizontal:"right"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:n(re,{children:[n(A,{disableGutters:!0,divider:!0,className:"custom-item",children:[e(F,{children:e("div",{className:"global-icon"})}),e(J,{disableTypography:!0,primary:e(i,{variant:"subtitle2",className:"about-list-font",children:s?"Language: "+s.language.charAt(0).toUpperCase()+s.language.slice(1):""})})]}),n(A,{className:"custom-item",disableGutters:!0,divider:!0,children:[e(F,{children:e("div",{className:"male-icon"})}),e(J,{disableTypography:!0,primary:e(i,{variant:"subtitle2",className:"about-list-font",children:s?"Gender: "+s.gender.charAt(0).toUpperCase()+s.gender.slice(1):""})})]}),n(A,{className:"custom-item",disableGutters:!0,divider:!0,children:[e(F,{children:e("div",{className:"age-icon"})}),e(J,{disableTypography:!0,primary:e(i,{variant:"subtitle2",className:"about-list-font",children:s?"Age: "+s.age:""})})]}),n(A,{className:"custom-item",disableGutters:!0,children:[e(F,{children:e("div",{className:"ethnicity-icon"})}),e(J,{disableTypography:!0,primary:e(i,{variant:"subtitle2",className:"about-list-font",children:s?"Ethnicity: "+s.ethnicity:""})})]}),e(i,{variant:"subtitle2",sx:{fontSize:18,fontWeight:700,paddingLeft:"20px",py:3},children:"Niche"}),W(s)]})})]})]})})})};const We=f=>{const{jobs:t,onClose:h,influencer:p,onRerender:s,currentTab:o,open:v=!1}=f;Y(),X(),c.useState([]),c.useState(0),JSON.parse(localStorage.getItem("email")),Q();const x=window.location.pathname.split("/")[window.location.pathname.split("/").length-1];return t==null||t.filter(g=>g.id==x),n(ie,{fullWidth:!0,maxWidth:"lg",open:v,onClose:h,children:[n(u,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:3,sx:{px:3,py:2},children:[e(i,{variant:"h6",children:"Job Offer"}),e(U,{color:"inherit",onClick:h,children:e(z,{children:e(ae,{})})})]}),e(u,{alignItems:"flex-end",justifyContent:"space-between",sx:{mr:3,px:3},children:e(_,{size:"small",sx:{width:200},className:"right-btn",variant:"contained",onClick:()=>{axios.post("/api/hire_inf",{inf_id:p.id,job_id:x,tab:o}).then(g=>{h(),s()})},children:"Hire This Influencer"})}),n(oe,{children:[e(Z,{order:window.location.pathname.split("/")[window.location.pathname.split("/").length-1],offer:!0}),e(k,{children:e(L,{influencer:p,currentTab:o,invited:"0",offer:!0})})]})]})},De=f=>({jobs:f.jobs.jobs}),Le=B(De)(We),Ae=()=>{const f={isFullScreen:!1,isOpen:!1,message:"",subject:"",toemail:"",to:""},[t,h]=c.useState(f),p=()=>{h(a=>({...a,isOpen:!0}))},s=c.useCallback(()=>{h(f)},[]),o=c.useCallback(()=>{h(a=>({...a,isFullScreen:!0}))},[]),v=c.useCallback(()=>{h(a=>({...a,isFullScreen:!1}))},[]),x=c.useCallback(a=>{},[]),j=c.useCallback(a=>{h(y=>({...y,subject:a}))},[]),g=c.useCallback(a=>{h(y=>({...y,to:a}))},[]);return{...t,handleClose:s,handleMaximize:o,handleMessageChange:x,handleMinimize:v,handleOpen:p,handleSubjectChange:j,handleToChange:g}},L=f=>{const{influencer:t,currentTab:h,invited:p,offer:s,onRerender:o=null,createdAt:v,...x}=f;X();const[j,g]=c.useState(t.liked==1),a=Ae(),y=se(),[S,w]=c.useState({}),[m,W]=c.useState(""),M=le();c.useEffect(()=>{g(t.liked==1)},[t]);const l=()=>{g(!0);let r={email:JSON.parse(localStorage.getItem("email")),tab:h,inf_id:t.id,liked:"1"};axios.post("/api/handle_like",r).then(N=>{N.data.status})},I=()=>{g(!1);let r={email:JSON.parse(localStorage.getItem("email")),tab:h,inf_id:t.id,liked:"0"};axios.post("/api/handle_like",r).then(N=>{N.data.status===200&&y(ue({email:JSON.parse(localStorage.getItem("email"))}))})},C=r=>Number(r)<=1?Number(r).toFixed(2)+"%":T(Number(r).toFixed(1)).replace(".0","")+"%",b=[{divider:1e18,suffix:"E"},{divider:1e15,suffix:"P"},{divider:1e12,suffix:"T"},{divider:1e9,suffix:"G"},{divider:1e6,suffix:"M"},{divider:1e3,suffix:"K"}],T=r=>{for(var N=0;N<b.length;N++)if(r>=b[N].divider)return Number(r/b[N].divider).toFixed(1).toString().replace(".0","")+b[N].suffix;return r.toString()},O=()=>{w(t),W(h),M.handleOpen()};return n(d,{children:[e(E,{...x,style:{marginTop:30,marginBottom:30},children:n(ce,{children:[n(u,{alignItems:"center",direction:"row",flexWrap:"wrap",justifyContent:"space-between",sx:{px:2,py:1.5},children:[n(u,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"row"},children:[e(de,{component:D,href:"/profile/inf/"+t.full_name,src:t.profile_pic_url_hd?t.profile_pic_url_hd:`https://ui-avatars.com/api/?name=${t.full_name?t.full_name:""}&background=2970FF&color=fff&rounded=true`,target:"_blank",sx:{width:74,height:74},children:we(t.username)}),n("div",{children:[e(he,{target:"_blank",color:"#2970FF",component:D,href:"/profile/inf/"+t.username,variant:"h6",style:{fontSize:18},children:t.username}),t.verified&&t.verified==1||t.verified&&t.verified==1?e("div",{className:"verified-image"}):"",e(i,{sx:{color:"text.primary"},style:{fontSize:14},children:t.full_name}),e(i,{color:"text.secondary",className:"font-inter location-pointer",variant:"overline",style:{fontSize:12,marginTop:17}}),e(i,{color:"primary",variant:"overline",style:{fontSize:10},children:t.city+", "+t.Country})]}),e("div",{className:"custom-reach",children:n(R,{container:!0,children:[n(R,{item:!0,sx:{color:"#2970FF",fontSize:"11px",fontWeight:300,pl:1,pr:1,pt:.5,pb:.5},children:[e("div",{children:"Reach"}),e("div",{style:{fontSize:"16px",fontWeight:700},children:T(t.follower_count?t.follower_count:t.subscribers)})]}),e(R,{item:!0,style:{display:"flex",alignItems:"center",margin:"0 auto"},children:e("div",{className:"reach-arrow"})})]})})]}),e(u,{alignItems:"center",direction:"row",className:"custom-right",spacing:2,children:j?n(d,{children:[s?e(d,{}):n(d,{children:[e(_,{onClick:I,className:"right-btn",startIcon:e(z,{sx:{transform:"scale(1.8)",color:"error.main","& path":{fill:r=>r.palette.error.main,fillOpacity:1}},children:e(q,{})})}),e(_,{onClick:O,sx:{color:"text.primary"},size:"small",className:"right-btn",startIcon:e(d,{children:e("img",{src:"/assets/icons/Glyph.png"})}),variant:"outlined",children:"View Offer"})]}),e(_,{onClick:a.handleOpen,size:"small",className:"right-btn",startIcon:e(z,{children:e(G,{})}),variant:"contained",children:"View Messages"})]}):n(d,{children:[s?e(d,{}):n(d,{children:[e(_,{onClick:l,className:"right-btn",startIcon:e(z,{sx:{transform:"scale(1.8)"},children:e(q,{})})}),e(_,{onClick:O,size:"small",className:"right-btn",startIcon:e(d,{children:e("img",{src:"/assets/icons/Glyph.png"})}),variant:"outlined",children:"View Offer"})]}),e(_,{onClick:a.handleOpen,size:"small",className:"right-btn",startIcon:e(z,{children:e(G,{})}),variant:"contained",children:"View Messages"})]})})]}),e(k,{sx:{mt:2},children:e(Oe,{engagement:C(t.engagement_rate),followers:T(t.follower_count?t.follower_count:t.subscribers),category:t.category_niche,createdAt:v,invited:p,influencer:t,offer:s})}),s?e(d,{children:n(u,{sx:{mt:5},children:[e(i,{variant:"h6",children:"Job Proposal"}),e(i,{sx:{mt:4},children:"Dear [Brand Name], I hope this letter finds you well. My name is [Your Name], and I am an experienced and passionate influencer in the [niche/industry]. I recently came across the job posting for a collaboration opportunity on your brand's social media channels, and I am thrilled to express my interest in working with your esteemed brand. Allow me to introduce myself and my work briefly. I have [X years/months] of experience as an influencer, and during this time, I have built a loyal and engaged following of [number of followers] across various social media platforms, including Instagram, YouTube, and TikTok. My content focuses on [specific niche/industry] and resonates with my audience, resulting in high levels of engagement and brand awareness. I have had the pleasure of partnering with several renowned brands in the past, including [mention notable brand collaborations], and have consistently delivered exceptional results. I believe that collaborating with your brand would be a perfect fit, as your products/services align closely with my audience's interests and preferences."})]})}):e(d,{})]})}),e(ve,{maximize:a.isFullScreen,message:a.message,onClose:a.handleClose,onMessageChange:a.handleMessageChange,onMinimize:a.handleMinimize,onSubjectChange:a.handleSubjectChange,onToChange:a.handleToChange,open:a.isOpen,subject:a.subject,to:t.full_name,avatar:t.profile_pic_url_hd,toemail:t.public_email}),e(Le,{influencer:S,currentTab:m,onClose:M.handleClose,open:M.open,onRerender:o})]})};L.propTypes={influencer:H.object.isRequired};const Fe=()=>{const f=be(),[t,h]=c.useState([]),p=c.useCallback(async()=>{try{const s=await xe.getCompanies();f()&&h(s)}catch(s){console.error(s)}},[f]);return c.useEffect(()=>{p()},[]),t},Je=[{label:"Job listing",value:"joblisting"},{label:"Review Offers",value:"applicants"},{label:"Invited Influencers",value:"invitedinfluencers"},{label:"Hired",value:"hired"}],Re=f=>{const{jobs:t}=f;Fe();const h=Y(),[p,s]=c.useState("joblisting"),[o,v]=c.useState([]),[x,j]=c.useState([]),[g,a]=c.useState([]),[y,S]=c.useState(0),[w,m]=c.useState(0),[W,M]=c.useState(0),l=JSON.parse(localStorage.getItem("email")),I=()=>{S(0),m(0),M(0)},C=c.useCallback((r,N)=>{s(N)},[]);Q();const b=window.location.pathname.split("/")[window.location.pathname.split("/").length-1],T=t==null?void 0:t.filter(r=>r.id==b),O=()=>{axios.post("/api/update_jobactivity",{jobID:b,isActive:"1"}).then(r=>{dispatch(getJobs(l,1))}).catch(r=>{})};return y<1&&axios.post("/api/get_applicants",{jobID:b,email:l}).then(r=>{v(r.data),S(y+1)}).catch(r=>{}),w<1&&axios.post("/api/get_hired",{jobID:b,email:l}).then(r=>{a(r.data),m(w+1)}).catch(r=>{}),W<1&&axios.post("/api/get_invited",{jobID:b,email:l}).then(r=>{j(r.data),M(W+1)}).catch(r=>{}),n(d,{children:[e(V,{title:"Dashboard: Manage Jobs"}),e(k,{component:"main",sx:{flexGrow:1,py:8},children:n(K,{maxWidth:h.stretch?!1:"xl",children:[e(i,{variant:"h4",children:"Manage Job"}),n(_,{size:"small",sx:{py:3},component:D,href:"/dashboard/jobs",style:{fontSize:14},children:[e(z,{fontSize:"2",children:e(fe,{})}),"Back"]}),e(Z,{order:window.location.pathname.split("/")[window.location.pathname.split("/").length-1],offer:!1}),n("div",{className:"right-parent",children:[e(me,{indicatorColor:"primary",onChange:C,scrollButtons:"auto",textColor:"primary",sx:{py:3},value:p,variant:"scrollable",children:Je.map(r=>e(pe,{className:"custom-tab",sx:{fontSize:18},label:r.label,value:r.value},r.value))}),p=="joblisting"&&n(u,{direction:"row",className:"right-edit",children:[n(u,{direction:"row",children:[e(i,{variant:"text.secondary",sx:{fontSize:16,pt:.8},children:"Close the job"}),e(ge,{checked:!0,onChange:O})]}),e(u,{children:e(_,{className:"right-alone-btn",component:D,href:"/dashboard/jobs/edit/"+b,sx:{fontSize:15},variant:"contained",children:"Edit This Job Listing"})})]}),n(k,{children:[p=="applicants"&&e(d,{children:o==null?void 0:o.map(r=>e(L,{offer:!1,influencer:r.inf,currentTab:r.tab,onRerender:I,invited:"0"},r.id))}),p=="joblisting"&&e(d,{children:T&&T[0]?e(ye,{job:T[0],openBar:!1,active:"all"}):e(d,{})}),p=="hired"&&e(d,{children:g==null?void 0:g.map(r=>e(L,{offer:!1,influencer:r.inf,onRerender:I,currentTab:r.tab,invited:"0"},r.id))}),p=="invitedinfluencers"&&e(d,{children:x.length==0?e(d,{children:e(je,{})}):e(d,{children:x==null?void 0:x.map(r=>e(L,{influencer:r.inf,onRerender:I,currentTab:r.tab,createdAt:r.updated_at,invited:"1",offer:!1},r.id))})})]})]}),e(u,{spacing:4,sx:{mt:4}})]})})]})},Be=f=>({jobs:f.jobs.jobs}),ot=B(Be)(Re);export{ot as default};
