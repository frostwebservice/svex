import{P as p,r as a,j as c,bM as k,f as v,d as o,k as C,aw as F,q as b,c2 as y,bO as D}from"./app-0b2379dc.js";import{F as S}from"./file-dropzone-54527a81.js";const U=d=>{const{onClose:l,open:t=!1,onUpgrade:h,kind:m}=d,[r,n]=a.useState([]);a.useEffect(()=>{n([])},[t]);const u=a.useCallback(e=>{n(s=>[...e])},[]),f=a.useCallback(e=>{n(s=>s.filter(i=>i.path!==e.path))},[]),g=JSON.parse(localStorage.getItem("email")),x=a.useCallback(()=>{n([])},[]);return c(k,{fullWidth:!0,maxWidth:"sm",open:t,onClose:l,children:[c(v,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:3,sx:{px:3,py:2},children:[o(C,{variant:"h6",children:"Upload Files"}),o(F,{color:"inherit",onClick:l,children:o(b,{children:o(y,{})})})]}),o(D,{children:o(S,{accept:{"*/*":[]},caption:"Max file size is 3 MB",files:r,onDrop:u,onRemove:f,onRemoveAll:x,onUpload:()=>{const e=new FormData;e.append("file",r[0]),e.append("email",g),e.append("kind",m);let s="/api/upload_cover";axios.post(s,e,{}).then(i=>{h(),l()})}})})]})};U.propTypes={onClose:p.func,open:p.bool};export{U as F};
