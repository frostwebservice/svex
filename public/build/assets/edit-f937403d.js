import{r as n,v as re,d as a,T as i,j as u,l as v,k as T,w as ne,c as oe,c8 as le,aS as ie,x as se,o as ue,y as O,F as de,S as ce,aL as me,B as L,q as P,f as k,aE as he,br as pe,G as ge,C as be,e as Y,aM as r,R as fe,cK as ye}from"./app-29987d4d.js";import{I as $}from"./Image01-4a74049d.js";import{F as ve}from"./file-uploader-18e35644.js";import{C as xe}from"./Camera01-0a1ab777.js";import{p as Ce,d as ke}from"./index-42ce8fd2.js";import"./TextfieldStyle-5cda8147.js";import{A as Se}from"./Autocomplete-818633e6.js";import{G as F}from"./Grid-42279ec6.js";import{M as we}from"./MultiSelectAll-e4e051f5.js";/* empty css                */import{u as Be}from"./formik.esm-f5d4ab75.js";import{c as Te,a as c}from"./index.esm-8c727b77.js";import{b as J}from"./blueGrey-a72a8df5.js";import{C as U}from"./CardHeader-9a9684e3.js";import{A as Ie}from"./Alert-b79aa442.js";import"./file-dropzone-a41ad1b4.js";import"./tslib.es6-af7906ce.js";import"./Upload01-215a4456.js";import"./bytes-to-size-706bbf81.js";import"./Close-3213befa.js";import"./ListSubheader-44713c17.js";import"./isEqual-ce88e86c.js";import"./debounce-16f6ec78.js";const Ae="AIzaSyDyvX_vBAw6f3aY7t2kyhS4MyG-ze7JjSY";function We(m,x,S){if(!x)return;const d=document.createElement("script");d.setAttribute("async",""),d.setAttribute("id",S),d.src=m,x.appendChild(d)}const M={current:null},ze=m=>{const{getLocation:x,haserror:S,defaultValue:d}=m,[b,I]=n.useState(d),[w,f]=n.useState(""),[y,C]=n.useState([]),A=n.useRef(!1);typeof window<"u"&&!A.current&&(document.querySelector("#google-maps")||We(`https://maps.googleapis.com/maps/api/js?key=${Ae}&libraries=places`,document.querySelector("head"),"google-maps"),A.current=!0);const W=n.useMemo(()=>re((o,s)=>{M.current.getPlacePredictions(o,s)},400),[]);return n.useEffect(()=>{let o=!0;if(!M.current&&window.google&&(M.current=new window.google.maps.places.AutocompleteService),!!M.current){if(w===""){C(b?[b]:[]);return}return W({input:w},s=>{if(o){let h=[];b&&(h=[b]),s&&(h=[...h,...s]),C(h)}}),()=>{o=!1}}},[b,w,W]),a(Se,{id:"google-map-demo",style:{p:0},getOptionLabel:o=>typeof o=="string"?o:o.description,filterOptions:o=>o,options:y,autoComplete:!0,includeInputInList:!0,filterSelectedOptions:!0,value:d,noOptionsText:"No locations",onChange:(o,s)=>{C(s?[s,...y]:y),I(s),x(s)},onInputChange:(o,s)=>{f(s)},renderInput:o=>a(i,{error:S,...o,label:"Company Location",fullWidth:!0,className:"title-inter "}),renderOption:(o,s)=>{const h=s.structured_formatting.main_text_matched_substrings||[],q=Ce(s.structured_formatting.main_text,h.map(p=>[p.offset,p.offset+p.length]));return a("li",{...o,children:u(F,{container:!0,alignItems:"center",children:[a(F,{item:!0,sx:{display:"flex",width:44},children:a(ke,{sx:{color:"text.secondary"}})}),u(F,{item:!0,sx:{width:"calc(100% - 44px)",wordWrap:"break-word"},children:[q.map((p,e)=>a(v,{component:"span",sx:{fontWeight:p.highlight?"bold":"regular"},children:p.text},e)),a(T,{variant:"body2",color:"text.secondary",children:s.structured_formatting.secondary_text})]})]})})}})};const Le=[{label:"Acne and Skin Care",value:"Acne and Skin Care"},{label:"Alcohol",value:"Alcohol"},{label:"Art",value:"Art"},{label:"Baby and Maternity",value:"Baby and Maternity"},{label:"Blockchain and Cryptocurrency",value:"Blockchain and Cryptocurrency"},{label:"Books and Fiction",value:"Books and Fiction"},{label:"Business and Career",value:"Business and Career"},{label:"Cameras, Photography and Videography",value:"Cameras, Photography and Videography"},{label:"Cars and Vehicles",value:"Cars and Vehicles"},{label:"Cooking and Recipes",value:"Cooking and Recipes"},{label:"Crafts and DIY",value:"Crafts and DIY"},{label:"Diet and Weight Loss",value:"Diet and Weight Loss"},{label:"Digital Marketing and Making Money Online",value:"Digital Marketing and Making Money Online"},{label:"Exercise and Fitness",value:"Exercise and Fitness"},{label:"Farming",value:"Farming"},{label:"Gardening and Lawn Care",value:"Gardening and Lawn Care"},{label:"Health",value:"Health"},{label:"Makeup and Beauty",value:"Makeup and Beauty"},{label:"Martial Arts",value:"Martial Arts"},{label:"Music and Instruments",value:"Music and Instruments"},{label:"Outdoors and Hiking",value:"Outdoors and Hiking"},{label:"Pets and Animal Care",value:"Pets and Animal Care"},{label:"Sports",value:"Sports"},{label:"Technology and Gadgets",value:"Technology and Gadgets"},{label:"Travel",value:"Travel"},{label:"Wedding",value:"Wedding"},{label:"OK",value:"OK"}],Me=m=>{var E,H;const x=JSON.parse(localStorage.getItem("email"));n.useState(!1);const[S,d]=n.useState(!1);n.useState(!1),n.useState("");const[b,I]=n.useState(""),w=Te({firstname:c().max(255).required("This field is required"),lastname:c().max(255).required("This field is required"),phonenumber:c().max(255).required("This field is required"),companyname:c().max(255).required("This field is required"),companywebsite:c().max(255).required("This field is required"),budget:c().max(255).required("This field is required"),companyfounded:c().max(255).required("This field is required"),companysize:c().max(255).required("This field is required"),aboutbusiness:c().required("This field is required")}),[f,y]=n.useState({firstname:"",lastname:"",phonenumber:"",companyname:"",companywebsite:"",companylocation:"",budget:"",companyfounded:"",companysize:"",aboutbusiness:"",instagram:"",tiktok:"",youtube:"",facebook:"",twitter:"",pinterest:"",linkedin:"",blogurl:"",email:""});f.email=x;const[C,A]=n.useState("1"),[W,o]=n.useState(!1),[s,h]=n.useState([]),q=l=>{!l||l==""||l==null?d(!0):(y({...f,companylocation:l.description}),I(l.description),d(!1))},p=()=>{o(!1)},e=Be({initialValues:f,enableReinitialize:!0,validationSchema:w,onSubmit:l=>{l.nichecategory=V,l.companylocation=f.companylocation,axios.post("/api/edit-profile",l).then(g=>{var j,K;g.data.status===200&&(y({firstname:"",lastname:"",phonenumber:"",companyname:"",companywebsite:"",companylocation:"",budget:"",companyfounded:"",companysize:"",aboutbusiness:"",instagram:"",tiktok:"",youtube:"",facebook:"",twitter:"",pinterest:"",linkedin:"",blogurl:""}),B(O({email:JSON.parse(localStorage.getItem("email"))})),_("/profile/"+((j=t.firstname)==null?void 0:j.toLowerCase())+"-"+((K=t.lastname)==null?void 0:K.toLowerCase())+"-"+t.id)),g.data.status==="failed"&&o(!0)})}});oe(),n.useState(!1);const z=le(),X=ie(),[Q,N]=n.useState("cover"),{brandinfo:G,userinfo:t}=m;n.useState(0);const B=se(),_=ue();n.useEffect(()=>{B(O({email:JSON.parse(localStorage.getItem("email"))}))},[B]);const[D,Z]=n.useState(""),ee=()=>{B(ye({brandID:window.location.pathname.split("/")[3]})),B(O({email:JSON.parse(localStorage.getItem("email"))})),Z(D+"a")},R=()=>{N("avatar"),z.handleOpen()};n.useEffect(()=>{if(t){let l=[];t.niches.map(g=>{l.push({value:g.niche,label:g.niche})}),h(l),A(C+"aa")}y({...f,nichecategory:t?V:"",firstname:t?t.firstname:"",lastname:t?t.lastname:"",phonenumber:t?t.phonenumber:"",companyname:t?t.companyname:"",companywebsite:t?t.companywebsite:"",companylocation:t?t.companylocation:"",budget:t?t.budget:"",companyfounded:t?t.companyfounded:"",companysize:t?t.companysize:"",aboutbusiness:t?t.aboutbusiness:"",instagram:t?t.instagram:"",tiktok:t?t.tiktok:"",youtube:t?t.youtube:"",facebook:t?t.facebook:"",twitter:t?t.twitter:"",pinterest:t?t.pinterest:"",linkedin:t?t.linkedin:"",blogurl:t?t.blogurl:""}),I(t==null?void 0:t.companylocation)},[t]);const[V,ae]=n.useState([]),te=l=>{ae(l)};return u(de,{children:[a(ce,{title:"Dashboard: Social Profile"}),a(v,{component:"main",sx:{flexGrow:1,py:8},children:u(me,{maxWidth:X.stretch?!1:"xl",children:[a(v,{style:{backgroundImage:`url(${t.cover_photo?t.cover_photo:"/assets/covers/abstract-1-4x3-large.png"})`},sx:{backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",borderRadius:1,height:421,position:"relative"},children:t&&G&&t.id==t.id?a(L,{onClick:()=>{N("cover"),z.handleOpen()},startIcon:a(P,{children:a($,{})}),sx:{backgroundColor:J[900],bottom:{lg:24,xs:"auto"},color:"common.white",position:"absolute",right:24,top:{lg:"auto",xs:24},"&:hover":{backgroundColor:J[900]}},variant:"contained",children:"Change Cover"}):""},D),u(k,{alignItems:"center",direction:"row",className:"custom-parent",spacing:2,sx:{mt:4},children:[u(k,{alignItems:"center",direction:"row",className:"custom-avatar",spacing:2,children:[u(v,{sx:{borderRadius:"50%",height:140,width:140,position:"relative"},children:[a(v,{onClick:R,sx:{alignItems:"center",backgroundColor:l=>he(l.palette.neutral[700],.5),borderRadius:"50%",color:"common.white",cursor:"pointer",display:"flex",height:"23%",width:"23%",justifyContent:"center",right:"5px",bottom:"15px",opacity:.7,position:"absolute",zIndex:1,"&:hover":{opacity:1}},children:a(k,{alignItems:"center",direction:"row",spacing:1,children:a(P,{color:"inherit",children:a(xe,{})})})}),a(v,{component:pe,sx:{alignItems:"center",display:"flex",borderWidth:2,borderStyle:"solid",borderColor:"divider",height:140,width:140,borderRadius:"50%"},children:a(ge,{onClick:R,src:t.avatar?t.avatar:`https://ui-avatars.com/api/?name=${t.fullname}&background=2970FF&color=fff&rounded=true`,sx:{height:130,width:130},style:{cursor:"pointer"}})})]}),u("div",{className:"brand-info",children:[a(T,{color:"primary",variant:"h6",style:{fontSize:22},children:t?t.fullname:""}),u(T,{color:"text.secondary",className:"font-inter",variant:"subtitle2",style:{fontSize:12,fontWeight:600,marginTop:4},children:["Established since ",t?t.companyfounded:""]}),a(T,{color:"text.secondary",className:"font-inter location-pointer",variant:"overline",style:{fontSize:12,marginTop:17}}),a(T,{color:"primary",variant:"overline",className:"font-inter",style:{fontSize:13},children:t?t.companylocation:""})]})]}),a(v,{sx:{flexGrow:1}}),t&&G&&t.id===t.id?a(k,{alignItems:"center",direction:"row",spacing:2,className:"button-bar",sx:{display:{md:"block"}},children:a(L,{size:"small",className:"social-btn",startIcon:a(P,{children:a($,{})}),onClick:()=>{var l,g;_("/profile/"+((l=t.firstname)==null?void 0:l.toLowerCase())+"-"+((g=t.lastname)==null?void 0:g.toLowerCase())+"-"+t.id)},variant:"contained",children:"View Profile"})}):""]}),a(k,{spacing:4,sx:{mt:10},children:a("form",{onSubmit:e.handleSubmit,children:u(be,{children:[a(U,{title:"General Business Information"}),a(Y,{sx:{pt:0},children:u(r,{container:!0,spacing:3,children:[a(r,{xs:12,md:6,children:a(i,{error:!!(e.touched.firstname&&e.errors.firstname),fullWidth:!0,helperText:e.touched.firstname&&e.errors.firstname,label:"First name",name:"firstname",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.firstname})}),a(r,{xs:12,md:6,children:a(i,{error:!!(e.touched.lastname&&e.errors.lastname),fullWidth:!0,helperText:e.touched.lastname&&e.errors.lastname,label:"Last name",name:"lastname",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.lastname})}),a(r,{xs:12,md:6,children:a(i,{error:!!(e.touched.phonenumber&&e.errors.phonenumber),fullWidth:!0,helperText:e.touched.phonenumber&&e.errors.phonenumber,label:"Phone number",name:"phonenumber",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.phonenumber})}),a(r,{xs:12,md:6,children:a(i,{error:!!(e.touched.companyname&&e.errors.companyname),fullWidth:!0,helperText:e.touched.companyname&&e.errors.companyname,label:"Company name",name:"companyname",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.companyname})}),a(r,{xs:12,md:6,children:a(i,{error:!!(e.touched.companywebsite&&e.errors.companywebsite),fullWidth:!0,helperText:e.touched.companywebsite&&e.errors.companywebsite,label:"Company website",name:"companywebsite",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.companywebsite})}),a(r,{xs:12,md:6,children:a(i,{error:!!(e.touched.companyfounded&&e.errors.companyfounded),fullWidth:!0,helperText:e.touched.companyfounded&&e.errors.companyfounded,label:"Company founded",name:"companyfounded",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.companyfounded})}),a(r,{xs:12,md:6,children:a(ze,{getLocation:q,haserror:S,defaultValue:b})}),u(r,{xs:12,md:6,children:[a(r,{item:!0,xs:12,sx:{},children:a(we,{sx:{maxheight:"700px"},items:Le,selectAllLabel:"Select All",value:s,placeholder:"sss",onChange:te},C)}),W&&a(Ie,{severity:"info",onClose:p,children:"Niche category field should not over 5 items"})]}),a(r,{xs:12,md:6,children:a(i,{error:!!(e.touched.budget&&e.errors.budget),fullWidth:!0,helperText:e.touched.budget&&e.errors.budget,label:"Budget",name:"budget",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.budget})}),a(r,{xs:12,md:6,children:a(i,{error:!!(e.touched.companysize&&e.errors.companysize),fullWidth:!0,helperText:e.touched.companysize&&e.errors.companysize,label:"Company Size",name:"companysize",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.companysize})}),a(r,{xs:12,md:12,children:a(i,{label:"Bio",className:"title-inter ",name:"aboutbusiness",variant:"filled",multiline:!0,inputProps:{style:{height:"110px"}},fullWidth:!0,style:{marginTop:11},error:!!(e.touched.aboutbusiness&&e.errors.aboutbusiness),onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.aboutbusiness,helperText:"Describe your influencer marketing goals and ambitions using SocialVex"})})]})}),a(U,{title:"Social Media Handles"}),a(Y,{sx:{pt:0},children:u(r,{container:!0,spacing:3,children:[a(r,{xs:12,md:6,children:a(i,{error:!!(e.touched.instagram&&e.errors.instagram),fullWidth:!0,helperText:e.touched.instagram&&e.errors.instagram,label:"Instagram handle",name:"instagram",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.instagram})}),a(r,{xs:12,md:6,children:a(i,{error:!!(e.touched.tiktok&&e.errors.tiktok),fullWidth:!0,helperText:e.touched.tiktok&&e.errors.tiktok,label:"Tiktok handle",name:"tiktok",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.tiktok})}),a(r,{xs:12,md:6,children:a(i,{error:!!(e.touched.youtube&&e.errors.youtube),fullWidth:!0,helperText:e.touched.youtube&&e.errors.youtube,label:"Youtube handle",name:"youtube",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.youtube})}),a(r,{xs:12,md:6,children:a(i,{error:!!(e.touched.facebook&&e.errors.facebook),fullWidth:!0,helperText:e.touched.facebook&&e.errors.facebook,label:"Facebook handle",name:"facebook",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.facebook})}),a(r,{xs:12,md:6,children:a(i,{error:!!(e.touched.twitter&&e.errors.twitter),fullWidth:!0,helperText:e.touched.twitter&&e.errors.twitter,label:"Twitter handle",name:"twitter",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.twitter})}),a(r,{xs:12,md:6,children:a(i,{error:!!(e.touched.pinterest&&e.errors.pinterest),fullWidth:!0,helperText:e.touched.pinterest&&e.errors.pinterest,label:"Pinterest handle",name:"pinterest",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.pinterest})}),a(r,{xs:12,md:6,children:a(i,{error:!!(e.touched.linkedin&&e.errors.linkedin),fullWidth:!0,helperText:e.touched.linkedin&&e.errors.linkedin,label:"Linkedin handle",name:"linkedin",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.linkedin})}),a(r,{xs:12,md:6,children:a(i,{error:!!(e.touched.blogurl&&e.errors.blogurl),fullWidth:!0,helperText:e.touched.blogurl&&e.errors.blogurl,label:"Blog URL",name:"blogurl",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.blogurl})})]})}),u(k,{direction:{xs:"column",sm:"row"},flexWrap:"wrap",spacing:3,sx:{p:3},children:[a(L,{type:"submit",variant:"contained",children:"Update"}),a(L,{color:"inherit",component:fe,href:"/profile/"+((E=t.firstname)==null?void 0:E.toLowerCase())+"-"+((H=t.lastname)==null?void 0:H.toLowerCase())+"-"+t.id,children:"Cancel"})]})]})})})]})}),a(ve,{onClose:z.handleClose,open:z.open,onUpgrade:ee,kind:Q})]})},qe=m=>({brandinfo:m.profile.brandinfo,userinfo:m.profile.userinfo}),ra=ne(qe)(Me);export{ra as default};
