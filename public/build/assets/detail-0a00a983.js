import{j as n,K as L,d as e,P as C,C as f,aY as k,l as x,b1 as H,k as i,e as D,b9 as T,G as j,q as y,B as b,bE as R,r as g,D as d,f as u,T as B,c as E,F as q,S as $,aL as G,L as W,R as F,p as V,A as Z,aO as z,u as K}from"./app-7fcd7513.js";import{E as Q}from"./Edit02-d5f4bacc.js";import{o as U}from"./index-54a8ed46.js";import{C as w}from"./CardHeader-51d90a70.js";import{T as Y,b as P,c as m,a as _}from"./TableRow-e55d3f8a.js";import{T as J}from"./TableHead-79ab1a9a.js";import{T as N}from"./TablePagination-0206f64e.js";import{S as X}from"./ShoppingCart03-d35876bc.js";import{T as ee,a as re,b as ne,c as te,d as ae,e as ie}from"./TimelineSeparator-55521607.js";import{P as oe,a as h}from"./property-list-item-4b6263b5.js";import"./apply-pagination-03aa54c3.js";import"./apply-sort-ec30f364.js";import"./LastPage-9b067712.js";var se=function(r){return n("svg",L({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none"},r,{children:[e("path",{fill:"#fff",fillOpacity:.01,d:"M3 9.12c0-1.5121 0-2.2682.2943-2.8458a2.7 2.7 0 0 1 1.18-1.18C5.0517 4.8 5.8078 4.8 7.32 4.8h7.56c1.5121 0 2.2682 0 2.8458.2943.508.2588.9211.6719 1.1799 1.18.2943.5775.2943 1.3336.2943 2.8457v7.56c0 1.5121 0 2.2682-.2943 2.8458a2.6996 2.6996 0 0 1-1.1799 1.1799C17.1482 21 16.3921 21 14.88 21H7.32c-1.5121 0-2.2682 0-2.8458-.2943a2.6998 2.6998 0 0 1-1.18-1.1799C3 18.9482 3 18.1921 3 16.68V9.12Z"}),e("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.2 10.2H3M14.7 3v3.6M7.5 3v3.6M7.32 21h7.56c1.5121 0 2.2682 0 2.8458-.2943a2.6996 2.6996 0 0 0 1.1799-1.1799c.2943-.5776.2943-1.3337.2943-2.8458V9.12c0-1.5121 0-2.2682-.2943-2.8458a2.6998 2.6998 0 0 0-1.1799-1.18C17.1482 4.8 16.3921 4.8 14.88 4.8H7.32c-1.5121 0-2.2682 0-2.8458.2943a2.7 2.7 0 0 0-1.18 1.18C3 6.8517 3 7.6078 3 9.12v7.56c0 1.5121 0 2.2682.2943 2.8458.2588.508.6719.9211 1.18 1.1799C5.0517 21 5.8078 21 7.32 21Z"})]}))};const S=t=>{const{items:r,...s}=t;return n(f,{...s,children:[e(w,{title:"Order items"}),e(k,{children:e(x,{sx:{minWidth:700},children:n(Y,{children:[e(J,{children:n(P,{children:[e(m,{children:"Description"}),e(m,{children:"Billing Cycle"}),e(m,{children:"Amount"})]})}),e(_,{children:r.map(a=>{const o=`${a.name} x ${a.quantity}`,p=H(a.unitAmount).format(`${a.currency}0,0.00`);return n(P,{children:[e(m,{children:e(i,{variant:"subtitle2",children:o})}),e(m,{children:a.billingCycle}),e(m,{children:p})]},a.id)})})]})})}),e(N,{component:"div",count:r.length,onPageChange:()=>{},onRowsPerPageChange:()=>{},page:0,rowsPerPage:5,rowsPerPageOptions:[5,10,25]})]})};S.propTypes={items:C.array.isRequired};const M=t=>{const{logs:r,...s}=t;return n(f,{...s,children:[e(w,{title:"Logs"}),n(D,{sx:{pt:0},children:[e(ee,{sx:{m:0,p:0},children:r.map((a,o)=>{const p=r.length-1>o,v=T(a.createdAt,"MMM dd, h:mm a");return n(re,{sx:{"&::before":{display:"none"}},children:[n(ne,{children:[e(te,{sx:{border:0,p:0},children:e(j,{children:e(y,{children:e(X,{})})})}),p&&e(ae,{sx:{minHeight:30}})]}),n(ie,{children:[e(i,{variant:"body2",children:a.message}),e(i,{color:"text.secondary",sx:{mt:1},variant:"caption",children:v})]})]},a.id)})}),e(x,{sx:{display:"flex",justifyContent:"center",mt:2},children:e(b,{color:"inherit",children:"Load more"})})]})]})};M.propTypes={logs:C.array.isRequired};const A=["Canceled","Complete","Rejected"],O=t=>{const{order:r,...s}=t,a=R(l=>l.breakpoints.up("md")),[o,p]=g.useState(A[0]),v=g.useCallback(l=>{p(l.target.value)},[]),c=a?"horizontal":"vertical",I=T(r.createdAt,"dd/MM/yyyy HH:mm");return n(f,{...s,children:[e(w,{title:"Basic info"}),e(d,{}),n(oe,{children:[n(h,{align:c,label:"Customer",children:[e(i,{variant:"subtitle2",children:r.customer.name}),e(i,{color:"text.secondary",variant:"body2",children:r.customer.address1}),e(i,{color:"text.secondary",variant:"body2",children:r.customer.city}),e(i,{color:"text.secondary",variant:"body2",children:r.customer.country})]}),e(d,{}),e(h,{align:c,label:"ID",value:r.id}),e(d,{}),e(h,{align:c,label:"Invoice",value:r.number}),e(d,{}),e(h,{align:c,label:"Date",value:I}),e(d,{}),e(h,{align:c,label:"Promotion Code",value:r.promotionCode}),e(d,{}),e(h,{align:c,label:"Total Amount",value:`${r.currency}${r.totalAmount}`}),e(d,{}),e(h,{align:c,label:"Status",children:n(u,{alignItems:{xs:"stretch",sm:"center"},direction:{xs:"column",sm:"row"},spacing:1,children:[e(B,{label:"Status",margin:"normal",name:"status",onChange:v,select:!0,SelectProps:{native:!0},sx:{flexGrow:1,minWidth:150},value:o,children:A.map(l=>e("option",{value:l,children:l},l))}),e(b,{variant:"contained",children:"Save"})]})})]})]})};O.propTypes={order:C.object.isRequired};const ce=()=>{const t=K(),[r,s]=g.useState(null),a=g.useCallback(async()=>{try{const o=await U.getOrder();t()&&s(o)}catch(o){console.error(o)}},[t]);return g.useEffect(()=>{a()},[]),r},Te=()=>{const t=ce();if(E(),!t)return null;const r=T(t.createdAt,"dd/MM/yyyy HH:mm");return n(q,{children:[e($,{title:"Dashboard: Order Details"}),e(x,{component:"main",sx:{flexGrow:1,py:8},children:e(G,{maxWidth:"lg",children:n(u,{spacing:4,children:[e("div",{children:n(W,{color:"text.primary",component:F,href:V.dashboard.orders.index,sx:{alignItems:"center",display:"inline-flex"},underline:"hover",children:[e(y,{sx:{mr:1},children:e(Z,{})}),e(i,{variant:"subtitle2",children:"Orders"})]})}),e("div",{children:n(u,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3,children:[n(u,{spacing:1,children:[e(i,{variant:"h4",children:t.number}),n(u,{alignItems:"center",direction:"row",spacing:1,children:[e(i,{color:"text.secondary",variant:"body2",children:"Placed on"}),e(y,{color:"action",children:e(se,{})}),e(i,{variant:"body2",children:r})]})]}),e("div",{children:n(u,{alignItems:"center",direction:"row",spacing:2,children:[e(b,{color:"inherit",endIcon:e(y,{children:e(Q,{})}),children:"Edit"}),e(b,{endIcon:e(y,{children:e(z,{})}),variant:"contained",children:"Action"})]})})]})}),e(O,{order:t}),e(S,{items:t.items||[]}),e(M,{logs:t.logs||[]})]})})})]})};export{Te as default};
