import{c as J,a as k,b as L}from"./index.esm-8c727b77.js";import{u as Q}from"./formik.esm-f5d4ab75.js";import{_ as B,H as $,I as X,J as Y,K as S,M as Z,N as ee,O as re,u as te,b as se,c as ne,j as h,F as oe,d as o,S as ae,f as j,k as R,C as ie,L as M,R as le,p as W,e as ce,T,l as ue,m as de,i as V,B as me}from"./app-29987d4d.js";import{u as he}from"./use-search-params-f7ccb23e.js";import{c as fe,s as pe}from"./createTheme-af5bfed5.js";import{C as ve}from"./CardHeader-9a9684e3.js";const we=["variant"];function H(r){return r.length===0}function z(r){const{variant:t}=r,l=B(r,we);let a=t||"";return Object.keys(l).sort().forEach(n=>{n==="color"?a+=H(a)?r[n]:$(r[n]):a+=`${H(a)?n:$(n)}${$(r[n].toString())}`}),a}const xe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Se=["theme"],ye=["theme"];function y(r){return Object.keys(r).length===0}function be(r){return typeof r=="string"&&r.charCodeAt(0)>96}const _e=(r,t)=>t.components&&t.components[r]&&t.components[r].styleOverrides?t.components[r].styleOverrides:null,ge=(r,t)=>{let l=[];t&&t.components&&t.components[r]&&t.components[r].variants&&(l=t.components[r].variants);const a={};return l.forEach(n=>{const e=z(n.props);a[e]=n.style}),a},Ce=(r,t,l,a)=>{var n,e;const{ownerState:f={}}=r,i=[],c=l==null||(n=l.components)==null||(e=n[a])==null?void 0:e.variants;return c&&c.forEach(d=>{let b=!0;Object.keys(d.props).forEach(p=>{f[p]!==d.props[p]&&r[p]!==d.props[p]&&(b=!1)}),b&&i.push(t[z(d.props)])}),i};function q(r){return r!=="ownerState"&&r!=="theme"&&r!=="sx"&&r!=="as"}const ke=fe();function Re(r={}){const{defaultTheme:t=ke,rootShouldForwardProp:l=q,slotShouldForwardProp:a=q}=r,n=e=>{const f=y(e.theme)?t:e.theme;return pe(S({},e,{theme:f}))};return n.__mui_systemSx=!0,(e,f={})=>{X(e,m=>m.filter(w=>!(w!=null&&w.__mui_systemSx)));const{name:i,slot:c,skipVariantsResolver:d,skipSx:b,overridesResolver:p}=f,K=B(f,xe),U=d!==void 0?d:c&&c!=="Root"||!1,G=b||!1;let N,_=q;c==="Root"?_=l:c?_=a:be(e)&&(_=void 0);const P=Y(e,S({shouldForwardProp:_,label:N},K)),E=(m,...w)=>{const x=w?w.map(s=>typeof s=="function"&&s.__emotion_real!==s?u=>{let{theme:v}=u,C=B(u,Se);return s(S({theme:y(v)?t:v},C))}:s):[];let g=m;i&&p&&x.push(s=>{const u=y(s.theme)?t:s.theme,v=_e(i,u);if(v){const C={};return Object.entries(v).forEach(([A,O])=>{C[A]=typeof O=="function"?O(S({},s,{theme:u})):O}),p(s,C)}return null}),i&&!U&&x.push(s=>{const u=y(s.theme)?t:s.theme;return Ce(s,ge(i,u),u,i)}),G||x.push(n);const I=x.length-w.length;if(Array.isArray(m)&&I>0){const s=new Array(I).fill("");g=[...m,...s],g.raw=[...m.raw,...s]}else typeof m=="function"&&m.__emotion_real!==m&&(g=s=>{let{theme:u}=s,v=B(s,ye);return m(S({theme:y(u)?t:u},v))});return P(g,...x)};return P.withConfig&&(E.withConfig=P.withConfig),E}}const Te=Re(),Be=Te;var F={},Pe=ee;Object.defineProperty(F,"__esModule",{value:!0});var D=F.default=void 0,Oe=Pe(Z()),$e=re,je=(0,Oe.default)((0,$e.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");D=F.default=je;const qe={username:"",email:"",password:"",policy:!1,submit:null},Fe=J({username:k().max(255).required("Username is required"),email:k().email("Must be a valid email").max(255).required("Email is required"),password:k().min(7).max(255).required("Password is required"),password_conf:k().min(7).max(255).required("Password Confirm is required"),policy:L().oneOf([!0],"This field must be checked"),recaptcha:L().oneOf([!0],"This field must be checked")}),Ee=Be("div")({width:"444px",margin:"auto"}),De=()=>{const r=te(),l=he().get("returnTo"),{issuer:a,signUp:n}=se(),e=Q({initialValues:qe,validationSchema:Fe,onSubmit:async(i,c)=>{try{await n(i.email,i.name,i.password),r()&&(window.location.href=l||W.auth.jwt.step1)}catch(d){console.error(d),r()&&(c.setStatus({success:!1}),c.setErrors({submit:d.message}),c.setSubmitting(!1))}}});return ne(),h(oe,{children:[o(ae,{title:"Register"}),h(Ee,{children:[o(j,{children:h(j,{direction:"row",spacing:1,alignItems:"center",sx:{cursor:"pointer",width:"fit-content"},onClick:()=>{window.history.back()},children:[o(D,{fontSize:"small"}),o(R,{variant:"button",alignItems:"center",children:"Back"})]})}),o(R,{variant:"h4",my:3,children:"Brand account creation"}),h(ie,{elevation:16,children:[o(ve,{subheader:h(R,{color:"text.secondary",variant:"body2",children:["Already have an account? Â ",o(M,{component:le,href:W.auth.jwt.login,underline:"hover",variant:"subtitle2",children:"Log in"})]}),sx:{pb:0},title:"Register"}),o(ce,{children:h("form",{noValidate:!0,onSubmit:e.handleSubmit,children:[h(j,{spacing:3,children:[o(T,{error:!!(e.touched.username&&e.errors.username),fullWidth:!0,helperText:e.touched.username&&e.errors.username,label:"Username",name:"username",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.username}),o(T,{error:!!(e.touched.email&&e.errors.email),fullWidth:!0,helperText:e.touched.email&&e.errors.email,label:"Email Address",name:"email",onBlur:e.handleBlur,onChange:e.handleChange,type:"email",value:e.values.email}),o(T,{error:!!(e.touched.password&&e.errors.password),fullWidth:!0,helperText:e.touched.password&&e.errors.password,label:"Password",name:"password",onBlur:e.handleBlur,onChange:e.handleChange,type:"password",value:e.values.password}),o(T,{error:!!(e.touched.password_conf&&e.errors.password_conf),fullWidth:!0,helperText:e.touched.password_conf&&e.errors.password_conf,label:"Confirm Password",name:"password_conf",onBlur:e.handleBlur,onChange:e.handleChange,type:"password",value:e.values.password_conf})]}),h(ue,{sx:{alignItems:"center",display:"flex",ml:-1,mt:1},children:[o(de,{checked:e.values.policy,name:"policy",onChange:e.handleChange}),h(R,{color:"text.secondary",variant:"body2",children:["I have read the"," ",o(M,{component:"a",href:"#",children:"Terms and Conditions"})]})]}),!!(e.touched.policy&&e.errors.policy)&&o(V,{error:!0,children:e.errors.policy}),e.errors.submit&&o(V,{error:!0,sx:{mt:3},children:e.errors.submit}),o(me,{disabled:e.isSubmitting,fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:"Register"})]})})]})]})]})};export{Ee as SvexAuthCard,De as default};
