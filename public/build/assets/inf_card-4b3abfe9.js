import{d as e,C as N,f as m,D as w,j as a,k as c,P as F,o as M,r as o,x as T,F as x,e as W,G as j,R as v,L as O,aM as k,B as f,q as b,c4 as I,l as L,cf as B}from"./app-0b2379dc.js";import{g as P}from"./get-initials-d1c6cec7.js";import{H as z}from"./Heart-0c2e5722.js";import{M as E}from"./mail-composer-5e0f16d8.js";const R=h=>{const{followers:r,engagement:s,category:u,...p}=h;return e(N,{variant:"outlined",...p,children:e(m,{divider:e(w,{}),children:a(m,{alignItems:"center",direction:"row",flexWrap:"wrap",sx:{px:2,py:1.5},children:[a(m,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{mr:10},children:[e(c,{color:"text.primary",noWrap:!0,sx:{fontSize:14,fontWeight:700},children:r}),e(c,{color:"text.secondary",noWrap:!0,sx:{fontSize:12},style:{marginTop:0},children:"Followers"})]}),a(m,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{mr:10},children:[e(c,{color:"text.primary",noWrap:!0,sx:{fontSize:14,fontWeight:700},children:s}),e(c,{color:"text.secondary",style:{marginTop:0},noWrap:!0,sx:{fontSize:12},children:"Engagement rate"})]}),a(m,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{mr:10},children:[e(c,{color:"text.primary",noWrap:!0,sx:{fontSize:14,fontWeight:700},children:"Categories"}),e(c,{color:"text.secondary",style:{marginTop:0},noWrap:!0,sx:{fontSize:12},children:u})]})]})})})},q=()=>{const h={isFullScreen:!1,isOpen:!1,message:"",subject:"",toemail:"",to:""},[r,s]=o.useState(h),u=()=>{s(i=>({...i,isOpen:!0}))},p=o.useCallback(()=>{s(h)},[]),g=o.useCallback(()=>{s(i=>({...i,isFullScreen:!0}))},[]),n=o.useCallback(()=>{s(i=>({...i,isFullScreen:!1}))},[]),S=o.useCallback(i=>{},[]),y=o.useCallback(i=>{s(d=>({...d,subject:i}))},[]),C=o.useCallback(i=>{s(d=>({...d,to:i}))},[]);return{...r,handleClose:p,handleMaximize:g,handleMessageChange:S,handleMinimize:n,handleOpen:u,handleSubjectChange:y,handleToChange:C}},D=h=>{const{influencer:r,currentTab:s,...u}=h;M();const[p,g]=o.useState(r.liked==1),n=q(),S=T();o.useEffect(()=>{g(r.liked==1)},[r]);const y=()=>{g(!0);let t={email:JSON.parse(localStorage.getItem("email")),tab:s,inf_id:r.id,liked:"1"};axios.post("/api/handle_like",t).then(l=>{l.data.status})},C=()=>{g(!1);let t={email:JSON.parse(localStorage.getItem("email")),tab:s,inf_id:r.id,liked:"0"};axios.post("/api/handle_like",t).then(l=>{l.data.status===200&&S(B({email:JSON.parse(localStorage.getItem("email"))}))})},i=t=>Number(t)<=1?Number(t).toFixed(2)+"%":_(Number(t).toFixed(1)).replace(".0","")+"%",d=[{divider:1e18,suffix:"E"},{divider:1e15,suffix:"P"},{divider:1e12,suffix:"T"},{divider:1e9,suffix:"G"},{divider:1e6,suffix:"M"},{divider:1e3,suffix:"K"}],_=t=>{for(var l=0;l<d.length;l++)if(t>=d[l].divider)return Number(t/d[l].divider).toFixed(1).toString().replace(".0","")+d[l].suffix;return t.toString()};return a(x,{children:[e(N,{...u,style:{marginTop:30,marginBottom:30},children:a(W,{children:[a(m,{alignItems:"center",direction:"row",flexWrap:"wrap",justifyContent:"space-between",sx:{px:2,py:1.5},children:[a(m,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"row"},children:[e(j,{component:v,href:"/profile/inf/"+r.username,target:"_blank",src:r.profile_pic_url_hd?r.profile_pic_url_hd:`https://ui-avatars.com/api/?name=${r.full_name?r.full_name:""}&background=2970FF&color=fff&rounded=true`,sx:{width:74,height:74},children:P(r.full_name)}),a("div",{children:[e(O,{color:"#2970FF",component:v,href:"/profile/inf/"+r.username,target:"_blank",variant:"h6",style:{fontSize:18},children:r.username}),r.verified&&r.verified==1||r.verified&&r.verified==1?e("div",{className:"verified-image"}):"",e(c,{sx:{color:"text.primary"},style:{fontSize:14},children:r.full_name}),e(c,{color:"text.secondary",className:"font-inter location-pointer",variant:"overline",style:{fontSize:12,marginTop:17}}),e(c,{color:"primary",variant:"overline",style:{fontSize:10},children:r.city+", "+r.Country})]}),e("div",{className:"custom-reach",children:a(k,{container:!0,children:[a(k,{item:!0,sx:{color:"#2970FF",fontSize:"11px",fontWeight:300,pl:1,pr:1,pt:.5,pb:.5},children:[e("div",{children:"Reach"}),e("div",{style:{fontSize:"16px",fontWeight:700},children:_(r.follower_count?r.follower_count:r.subscribers)})]}),e(k,{item:!0,style:{display:"flex",alignItems:"center",margin:"0 auto"},children:e("div",{className:"reach-arrow"})})]})})]}),e(m,{alignItems:"center",direction:"row",className:"right-panel",spacing:2,children:p?a(x,{children:[e(f,{onClick:C,className:"right-btn",startIcon:e(b,{sx:{transform:"scale(1.8)",color:"error.main","& path":{fill:t=>t.palette.error.main,fillOpacity:1}},children:e(z,{})})}),e(f,{component:v,href:"/profile/inf/"+r.username,sx:{color:"text.primary"},size:"small",target:"_blank",className:"right-btn",startIcon:e(x,{children:e("img",{src:"/assets/icons/icon-profile.svg"})}),variant:"outlined",children:"View Profile"}),e(f,{onClick:n.handleOpen,size:"small",className:"right-btn",startIcon:e(b,{children:e(I,{})}),variant:"contained",children:"Send Message"})]}):a(x,{children:[e(f,{onClick:y,className:"right-btn",startIcon:e(b,{sx:{transform:"scale(1.8)"},children:e(z,{})})}),e(f,{component:v,href:"/profile/inf/"+r.username,size:"small",target:"_blank",className:"right-btn",startIcon:e(x,{children:e("img",{src:"/assets/icons/icon-profile.svg"})}),variant:"outlined",children:"View Profile"}),e(f,{onClick:n.handleOpen,size:"small",className:"right-btn",startIcon:e(b,{children:e(I,{})}),variant:"contained",children:"Send Message"})]})})]}),e(L,{sx:{mt:2},children:e(R,{engagement:i(r.engagement_rate),followers:_(r.follower_count?r.follower_count:r.subscribers),category:r.category_niche})})]})}),e(E,{maximize:n.isFullScreen,message:n.message,onClose:n.handleClose,onMessageChange:n.handleMessageChange,onMinimize:n.handleMinimize,onSubjectChange:n.handleSubjectChange,onToChange:n.handleToChange,open:n.isOpen,subject:n.subject,to:r.full_name,avatar:r.profile_pic_url_hd,toemail:r.public_email})]})};D.propTypes={influencer:F.object.isRequired};export{D as I};
