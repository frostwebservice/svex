import{P as a,d as s,r as d,v as D,j as y,l as L,k as W,w as G,x as V,y as X,o as Y,F as J,S as K,C as H,e as U,f as x,s as Q,p as M}from"./app-99b40063.js";import{c as Z,a as T}from"./index.esm-24326440.js";import{c as $}from"./index-334034ee.js";import{u as ee}from"./formik.esm-cf710986.js";import{R as N}from"./TextfieldStyle-fd3f584c.js";import{u as te}from"./use-search-params-c0bd8850.js";/* empty css             */import{p as ne,d as ae}from"./index-4e1ec71f.js";import{A as re}from"./Autocomplete-7e768d4e.js";import{G as _}from"./Grid-6b2d4e9e.js";import"./Close-81fa08cf.js";import"./ListSubheader-83400e38.js";function E(e){"@babel/helpers - typeof";return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(e)}var oe;function q(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oe;return t?e.split(" ").map(function(o){return t[o]||o}).join(" "):e}var ie=(typeof window>"u"?"undefined":E(window))==="object"&&window.Element||function(){};function se(e,t,o){if(!(e[t]instanceof ie))return new Error("Invalid prop `"+t+"` supplied to `"+o+"`. Expected prop to be an instance of Element. Validation failed.")}a.oneOfType([a.string,a.func,se,a.shape({current:a.any})]);var le=a.oneOfType([a.func,a.string,a.shape({$$typeof:a.symbol,render:a.func}),a.arrayOf(a.oneOfType([a.func,a.string,a.shape({$$typeof:a.symbol,render:a.func})]))]),ce=["className","cssModule","variant","innerRef"];function R(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),o.push.apply(o,n)}return o}function ue(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?R(Object(o),!0).forEach(function(n){me(e,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):R(Object(o)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))})}return e}function me(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function de(e,t){if(e==null)return{};var o=fe(e,t),n,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function fe(e,t){if(e==null)return{};var o={},n=Object.keys(e),r,l;for(l=0;l<n.length;l++)r=n[l],!(t.indexOf(r)>=0)&&(o[r]=e[r]);return o}var pe={active:a.bool,"aria-label":a.string,onClick:a.func,variant:a.oneOf(["white"]),className:a.string,cssModule:a.object,innerRef:a.oneOfType([a.object,a.string,a.func])};function z(e){var t=e.className;e.cssModule;var o=e.variant,n=e.innerRef,r=de(e,ce),l=q($(t,"btn-close",o&&"btn-close-".concat(o)));return s("button",{ref:n,type:"button",className:l,...ue({"aria-label":"close"},r)})}z.propTypes=pe;var he=["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"];function be(e,t){if(e==null)return{};var o=ye(e,t),n,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ye(e,t){if(e==null)return{};var o={},n=Object.keys(e),r,l;for(l=0;l<n.length;l++)r=n[l],!(t.indexOf(r)>=0)&&(o[r]=e[r]);return o}var ge={active:a.bool,"aria-label":a.string,block:a.bool,children:a.node,className:a.string,cssModule:a.object,close:a.bool,color:a.string,disabled:a.bool,innerRef:a.oneOfType([a.object,a.func,a.string]),onClick:a.func,outline:a.bool,size:a.string,tag:le};function I(e){var t=d.useCallback(function(h){if(e.disabled){h.preventDefault();return}if(e.onClick)return e.onClick(h)},[e.onClick,e.disabled]),o=e.active,n=e["aria-label"],r=e.block,l=e.className,v=e.close,g=e.cssModule,p=e.color,O=p===void 0?"secondary":p,b=e.outline,c=e.size,u=e.tag,f=u===void 0?"button":u,S=e.innerRef,m=be(e,he);if(v)return s(z,{...m});var C="btn".concat(b?"-outline":"","-").concat(O),k=q($(l,"btn",C,c?"btn-".concat(c):!1,r?"d-block w-100":!1,{active:o,disabled:e.disabled}),g);return m.href&&f==="button"&&(f="a"),s(f,{type:f==="button"&&m.onClick?"button":void 0,...m,className:k,ref:S,onClick:t,"aria-label":n})}I.propTypes=ge;const ve="AIzaSyDyvX_vBAw6f3aY7t2kyhS4MyG-ze7JjSY";function Oe(e,t,o){if(!t)return;const n=document.createElement("script");n.setAttribute("async",""),n.setAttribute("id",o),n.src=e,t.appendChild(n)}const j={current:null},we=e=>{const{getLocation:t,haserror:o}=e,[n,r]=d.useState(null),[l,v]=d.useState(""),[g,p]=d.useState([]),O=d.useRef(!1);typeof window<"u"&&!O.current&&(document.querySelector("#google-maps")||Oe(`https://maps.googleapis.com/maps/api/js?key=${ve}&libraries=places`,document.querySelector("head"),"google-maps"),O.current=!0);const b=d.useMemo(()=>D((c,u)=>{j.current.getPlacePredictions(c,u)},400),[]);return d.useEffect(()=>{let c=!0;if(!j.current&&window.google&&(j.current=new window.google.maps.places.AutocompleteService),!!j.current){if(l===""){p(n?[n]:[]);return}return b({input:l},u=>{if(c){let f=[];n&&(f=[n]),u&&(f=[...f,...u]),p(f)}}),()=>{c=!1}}},[n,l,b]),s(re,{id:"google-map-demo",style:{marginTop:"11px",p:0},getOptionLabel:c=>typeof c=="string"?c:c.description,filterOptions:c=>c,options:g,autoComplete:!0,includeInputInList:!0,filterSelectedOptions:!0,value:n,noOptionsText:"No locations",onChange:(c,u)=>{p(u?[u,...g]:g),r(u),t(u)},onInputChange:(c,u)=>{v(u)},renderInput:c=>s(N,{error:o,...c,label:"Company Location",fullWidth:!0,className:"title-inter "}),renderOption:(c,u)=>{const f=u.structured_formatting.main_text_matched_substrings||[],S=ne(u.structured_formatting.main_text,f.map(m=>[m.offset,m.offset+m.length]));return s("li",{...c,children:y(_,{container:!0,alignItems:"center",children:[s(_,{item:!0,sx:{display:"flex",width:44},children:s(ae,{sx:{color:"text.secondary"}})}),y(_,{item:!0,sx:{width:"calc(100% - 44px)",wordWrap:"break-word"},children:[S.map((m,C)=>s(L,{component:"span",sx:{fontWeight:m.highlight?"bold":"regular"},children:m.text},C)),s(W,{variant:"body2",color:"text.secondary",children:u.structured_formatting.secondary_text})]})]})})}})},xe=e=>{const t=Z({firstname:T().max(255).required("This Field is required"),lastname:T().max(255).required("This Field is required"),phonenumber:T().max(255).required("This Field is required"),companywebsite:T().max(255).required("This Field is required"),companyname:T().max(255).required("This Field is required")}),[o,n]=d.useState(!1),{userinfo:r}=e,v=te().get("returnTo"),[g,p]=d.useState(!1),[O,b]=d.useState("Save changes and NEXT"),c=JSON.parse(localStorage.getItem("email")),u=V();d.useEffect(()=>{u(X({email:c}))},[u]);const f=Y(),[S,m]=d.useState(!1),[C,k]=d.useState(""),[h,P]=d.useState({firstname:"",lastname:"",phonenumber:"",companywebsite:"",companylocation:null,companyname:"",email:""});h.email=c;const F=w=>{!w||w==""||w==null?m(!0):(P({...i.values,companylocation:w.description}),m(!1))},A=()=>{f(v||M.auth.auth.signin)},i=ee({initialValues:h,enableReinitialize:!0,validationSchema:t,onSubmit:w=>{if(h.companylocation==""||!h.companylocation||h.companylocation==" "||h.companylocation==null){P({...i.values,companylocation:""}),m(!0),k(C+"a");return}p(!0),b(""),axios.post("/api/first-Info",w).then(B=>{B.data.status===200&&(P({firstname:"",lastname:"",phonenumber:"",companywebsite:"",companylocation:"",companyname:"",email:""}),f(v||M.auth.auth.secondInfos),b("Save changes and NEXT"),p(!1)),B.data.status==="failed"&&(b("Save changes and NEXT"),p(!1))})}});return d.useEffect(()=>{!o&&r&&(P({...h,firstname:r?r.firstname:"",lastname:r?r.lastname:"",phonenumber:r?r.phonenumber:"",companywebsite:r?r.companywebsite:"",companylocation:r?r.companylocation:"",companyname:r?r.companyname:""}),n(!0))}),y(J,{children:[s(K,{title:"Business Info"}),y("div",{className:"firstinfo-card",children:[s(L,{display:"flex",alignItems:"center",justifyContent:"center",sx:{mb:5},children:s("img",{src:"/longlogo.png",width:200,height:50})}),s(H,{sx:{borderRadius:2.5},className:"mainCard card  px-4 pt-4 pb-3",children:s(U,{className:"container",children:y("form",{noValidate:!0,onSubmit:i.handleSubmit,className:"row",children:[s(W,{color:"black",className:"title largesize mb-1",children:"General Business Information"}),s(x,{spacing:0,className:"col-md-6 col-12",children:s("div",{className:"p-2 ",children:s(N,{label:"First name",className:"title-inter ",name:"firstname",variant:"filled",fullWidth:!0,style:{marginTop:11},error:!!(i.touched.firstname&&i.errors.firstname),helperText:i.touched.firstname&&i.errors.firstname,onBlur:i.handleBlur,onChange:i.handleChange,value:i.values.firstname})})}),s(x,{spacing:0,className:"col-md-6 col-12 ",children:s("div",{className:"p-2  ",children:s(N,{label:"Last name",className:"title-inter",name:"lastname",variant:"filled",fullWidth:!0,style:{marginTop:11},error:!!(i.touched.lastname&&i.errors.lastname),helperText:i.touched.lastname&&i.errors.lastname,onBlur:i.handleBlur,onChange:i.handleChange,value:i.values.lastname})})}),s(x,{spacing:0,className:"col-md-6 col-12 ",children:s("div",{className:"p-2 ",children:s(N,{variant:"filled",className:"title-inter ",style:{marginTop:11},error:!!(i.touched.phonenumber&&i.errors.phonenumber),helperText:i.touched.phonenumber&&i.errors.phonenumber,label:"Phone Number",name:"phonenumber",fullWidth:!0,onBlur:i.handleBlur,onChange:i.handleChange,value:i.values.phonenumber})})}),s(x,{spacing:0,className:"col-md-6 col-12 ",children:s("div",{className:"p-2 ",children:s(N,{variant:"filled",className:"title-inter ",style:{marginTop:11},error:!!(i.touched.companyname&&i.errors.companyname),helperText:i.touched.companyname&&i.errors.companyname,label:"Company Name",name:"companyname",fullWidth:!0,onBlur:i.handleBlur,onChange:i.handleChange,value:i.values.companyname})})}),s(x,{spacing:0,className:"col-md-6 col-12 ",children:s("div",{className:"p-2",children:s(N,{variant:"filled",className:"title-inter ",style:{marginTop:11},error:!!(i.touched.companywebsite&&i.errors.companywebsite),helperText:i.touched.companywebsite&&i.errors.companywebsite,label:"Company Website",name:"companywebsite",fullWidth:!0,onBlur:i.handleBlur,onChange:i.handleChange,value:i.values.companywebsite})})}),s(x,{spacing:0,className:"col-md-6 col-12 ",children:s("div",{className:"p-2 ",children:s(we,{getLocation:F,haserror:S})})}),y("div",{className:"row d-flex justify-content-end pt-4 px-1 title-inter ",children:[s(I,{className:"text-center mx-4 w-25  btn btn-hover-outline mainButton smallsize cancel-button",variant:"text",onClick:A,children:"Cancel"}),y(I,{className:"text-center   mx-8 w-50  mainButton background-blue smallsize firstinfo-button",variant:"contained",type:"submit",children:[y("span",{className:"ml-2",children:[" ",O," "]}),g?s(Q,{color:"inherit",size:"2rem"}):s("span",{})]})]})]})})})]})]})},Ne=e=>({userinfo:e.profile.userinfo}),Le=G(Ne)(xe);export{Le as default};
