import{P as E,r as l,d as e,C as z,e as A,aM as L,j as r,f as b,G as Y,R as N,p as P,L as ee,k as x,F as D,aw as M,q as T,cr as ae,aZ as te,a_ as ne,b3 as se,a$ as re,M as ie,N as oe,O as le,c9 as ce,bM as J,bO as B,B as _,c4 as de,x as V,ch as pe,w as he,aS as ue,c as me,cs as k,S as ge,T as fe,l as I,aL as Ce}from"./app-4f3bf436.js";/* empty css                   */import{R as q}from"./TextfieldStyle-d6835dfb.js";import{D as be}from"./DotsVertical-1aa1ad22.js";import{a as xe,d as ye}from"./ModeEdit-63f42362.js";import{I as Se}from"./inf-composer-78004965.js";import{J as ve}from"./job-list-card-134e8125.js";import"./mail-f1a5ead4.js";import{D as $,a as H}from"./DialogTitle-568e2bf1.js";import{D as U}from"./DialogActions-cf5de801.js";import"./quill-editor-165bdae4.js";import"./isEqual-bca331d4.js";import"./index-a0050f4b.js";import"./file-dropzone-a482cc39.js";import"./tslib.es6-af7906ce.js";import"./Upload01-6c848d0f.js";import"./bytes-to-size-706bbf81.js";const Z=g=>{const{company:o,order:n,reRender:s,...S}=g,[u,d]=l.useState(null),t=!!u,y=t?"simple-popover":void 0,h=i=>{d(i.currentTarget)},C=()=>{d(null)},v=i=>{axios.post("/api/delete_user_group",{group_inf_id:i}).then(w=>{d(null),s()})};return e(z,{...S,style:{marginTop:30},children:e(A,{children:e(L,{container:!0,children:o.map((i,w)=>e(L,{item:!0,className:"custom-grid-item",xs:12,md:4,sm:6,children:e(z,{children:r(b,{direction:"row",flexWrap:"wrap",justifyContent:"space-between",sx:{px:2,py:1.5},style:{position:"relative"},children:[r(b,{spacing:2,direction:{xs:"column",sm:"row"},children:[e(Y,{component:N,href:P.dashboard.jobs.companies.details,src:i.detail.profile_pic_url_hd,sx:{width:40,height:40}}),r("div",{children:[e(ee,{component:N,href:P.dashboard.jobs.companies.details,variant:"h6",style:{fontSize:14},sx:{color:"text.primary"},children:i.detail.username}),e(x,{sx:{color:"text.primary"},style:{fontSize:14},children:"Social Media Influencer"}),e(x,{color:"text.secondary",className:"font-inter location-pointer",variant:"overline",style:{fontSize:12,marginTop:17}}),e(x,{color:"primary",variant:"overline",style:{fontSize:10},children:i.detail.city+","+i.detail.Country})]})]}),n==0?e(D,{}):r(b,{alignItems:"center",direction:"row",className:"vertical-dots",style:{position:"absolute",right:5,top:5},children:[e(x,{color:"#2ECC71",noWrap:!0,sx:{fontSize:14},children:e(M,{style:{padding:"0"},onClick:a=>h(a),"aria-describedby":y,children:e(T,{fontSize:"small",children:e(be,{})})})}),e(ae,{id:i.id,open:t,anchorEl:u,onClose:C,transformOrigin:{horizontal:"right"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:e(te,{children:r(ne,{sx:{width:100,px:1},disableGutters:!0,children:[e(se,{sx:{display:"contents",mx:5},children:e(T,{fontSize:"small",sx:{mr:1},children:e(xe,{})})}),e(re,{disableTypography:!0,primary:e(x,{sx:{cursor:"pointer"},variant:"subtitle2",className:"about-list-font",onClick:()=>v(i.id),children:"Delete"})})]})})})]})]})})}))})})})};Z.propTypes={company:E.object.isRequired};var G={},_e=oe;Object.defineProperty(G,"__esModule",{value:!0});var K=G.default=void 0,we=_e(ie()),Oe=le,De=(0,we.default)((0,Oe.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4h-3.5z"}),"DeleteOutlineOutlined");K=G.default=De;const Te=()=>{const g={isFullScreen:!1,isOpen:!1,message:"",subject:"",to:"",toDisplay:"",loading:!1,data:new FormData},o=V(),[n,s]=l.useState(g),S=l.useCallback(()=>{s(a=>({...a,isOpen:!0}))},[]),u=l.useCallback(a=>{s(c=>({...c,toDisplay:a}))},[]),d=l.useCallback(()=>{s(g)},[]),t=l.useCallback(()=>{s(a=>({...a,isFullScreen:!0}))},[]),y=l.useCallback(()=>{s(a=>({...a,isFullScreen:!1}))},[]),h=l.useCallback(a=>{s(c=>({...c,data:a}))},[]),C=l.useCallback(a=>{s(c=>({...c,message:a}))},[]),v=l.useCallback(a=>{s(c=>({...c,subject:a}))},[]),i=l.useCallback(a=>{s(c=>({...c,to:a}))},[]);return{...n,handleClose:d,handleMaximize:t,handleMessageChange:C,handleMinimize:y,handleSubmit:()=>{s(a=>({...a,loading:!0})),n.data.append("to",n.to),n.data.append("subject",n.subject),n.data.append("message",n.message),n.data.append("email",JSON.parse(localStorage.getItem("email"))),axios.post("/api/send_mail",n.data,{}).then(a=>{s(c=>({...c,loading:!1,subject:"",to:"",message:"",isOpen:!1,data:new FormData})),pe.success("Message Sent Successfuly."),o(thunks.getEmails({label:useSearchParams().get("label")||"inbox",email:JSON.parse(localStorage.getItem("email"))}))}).catch(a=>{})},handleOpen:S,handleAttach:h,handleSubjectChange:v,handleToChange:i,handleDisplayChange:u}},Q=g=>{var F;const{company:o,order:n,reRender:s,...S}=g;l.useState(!1);const[u,d]=l.useState(!1),t=Te(),y=()=>{var R,W;let p="",m="",f=o;f&&((R=f[0])==null?void 0:R.detail)==null?(t.handleToChange(""),t.handleDisplayChange("")):f&&((W=f[0])==null?void 0:W.detail)!=null&&(f.map((O,j)=>{j==f.length-1?p+=O.detail.public_email:p+=O.detail.public_email+","}),f.map((O,j)=>{j==f.length-1?m+=O.detail.full_name:m+=O.detail.full_name+","})),t.handleToChange(p),t.handleDisplayChange(m),t.handleOpen()},[h,C]=l.useState({id:"",group_name:"",brief_group:""}),v=(p,m,f)=>{C({id:p,group_name:m,brief_group:f}),d(!0)},i=()=>{d(!1)},w=()=>{axios.post("/api/update_group",{id:h.id,group_name:h.group_name,brief_group:h.brief_group}).then(p=>{s(),d(!1)})},a=ce(),c=()=>{a.handleOpen()},X=p=>{p[0].group_id?axios.post("/api/delete_group",{id:p[0].group_id}).then(m=>{s()}):axios.post("/api/delete_group",{id:p[0].id}).then(m=>{s()})};return r(z,{...S,style:{marginTop:30},children:[e(ve,{onClose:a.handleClose,open:a.open,isGroup:!0,groupID:(F=o[0])==null?void 0:F.id,order:n}),r(J,{open:u,onClose:i,children:[e($,{children:"Edit Outreach Group"}),r(B,{children:[e(H,{children:"To edit Outreach Group, pleaes enter text below."}),e(q,{label:"Title",className:"title-inter",name:"title",variant:"filled",onChange:p=>C(m=>({...m,group_name:p.target.value})),style:{marginTop:3},fullWidth:!0,value:h.group_name}),e(q,{label:"Content",className:"title-inter",name:"content",variant:"filled",onChange:p=>C(m=>({...m,brief_group:p.target.value})),multiline:!0,style:{marginTop:3},fullWidth:!0,value:h.brief_group})]}),r(U,{children:[e(_,{onClick:i,children:"Cancel"}),e(_,{onClick:w,children:"Save"})]})]}),r(A,{children:[r(b,{alignItems:"center",direction:"row",flexWrap:"wrap",justifyContent:"space-between",sx:{px:2,py:1.5},children:[e(b,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"row"},children:r("div",{children:[e(x,{sx:{color:"text.primary"},style:{fontSize:24,fontWeight:600},children:n==0?"Favorites":o[0].group_name}),e(x,{sx:{color:"text.primary"},style:{fontSize:20},children:n==0?"Favorites Influencers":o[0].brief_group})]})}),r(b,{alignItems:"center",direction:"row",className:"right-panel",spacing:2,children:[e(M,{edge:"end",onClick:()=>v(o[0].id,o[0].group_name,o[0].brief_group),children:e(T,{fontSize:"small",children:e(ye,{})})}),n==0?e(D,{}):e(M,{edge:"end",onClick:()=>X(o),children:e(T,{fontSize:"small",children:e(K,{})})}),e(_,{onClick:c,size:"small",className:"right-btn",startIcon:e(D,{children:e("img",{src:"/assets/icons/invite.svg"})}),variant:"outlined",children:"Invite To Project"}),e(_,{onClick:y,size:"small",className:"right-btn mass-btn",startIcon:e(T,{children:e(de,{})}),variant:"contained",children:"Send Mass Message"})]})]}),e(b,{alignItems:"center",direction:"row",flexWrap:"wrap",justifyContent:"space-between",sx:{px:2,py:1.5},children:e(x,{sx:{color:"text.primary"},style:{fontSize:18,fontWeight:600},children:"Influeners in this group"})}),e(b,{children:o[0]&&o[0].detail==null?e(D,{}):e(Z,{company:o,order:n,reRender:s},n)})]}),e(Se,{maximize:t.isFullScreen,message:t.message,onClose:t.handleClose,onMessageChange:t.handleMessageChange,onMinimize:t.handleMinimize,onSubjectChange:t.handleSubjectChange,onSubmit:t.handleSubmit,onAttach:t.handleAttach,onToChange:t.handleToChange,onDisplayChange:t.handleDisplayChange,open:t.isOpen,subject:t.subject,loading:t.loading,to:t.to,toDisplay:t.toDisplay})]})};Q.propTypes={company:E.object.isRequired};const Ie=g=>{let o={time:new Date().getTime(),value:"email",expire:3e6},n=JSON.stringify(o);localStorage.setItem("time_token",n);const{groups:s}=g,S=ue();me();const u=V(),d=JSON.parse(localStorage.getItem("email"));l.useEffect(()=>{u(k({email:d}))},[u]);const[t,y]=l.useState(!1),[h,C]=l.useState(""),v=()=>{u(k({email:d}))},i=()=>{y(!1)};return r(D,{children:[e(ge,{title:"Dashboard: Outreach Groups"}),r(J,{open:t,onClose:i,children:[e($,{children:"Create New Outreach Group"}),r(B,{children:[e(H,{children:"To create new outreach group, please enter your group name here."}),e(fe,{autoFocus:!0,margin:"dense",id:"name",label:"Group Name",type:"text",fullWidth:!0,variant:"standard",value:h,onChange:a=>C(a.target.value)})]}),r(U,{children:[e(_,{onClick:i,children:"Cancel"}),e(_,{onClick:()=>{axios.post("/api/newgroup",{group_name:h,email:d}).then(a=>{u(k({email:d})),y(!1)})},children:"Create"})]})]}),e(I,{component:"main",sx:{flexGrow:1},children:r(Ce,{maxWidth:S.stretch?!1:"xl",children:[r(b,{alignItems:"center",direction:"row",flexWrap:"wrap",spacing:3,children:[e(I,{component:"form",sx:{flexGrow:1},children:e(x,{variant:"h4",sx:{mt:7,mb:0,fontSize:"32px"},children:"Outreach Groups"})}),e(I,{sx:{display:"flex"},className:"create-parent",style:{marginLeft:0},children:e(_,{size:"small",component:N,href:"/inf-finder/new-group",className:"right-btn create-btn",variant:"contained",children:"Create New Outreach Group"})})]}),e(I,{sx:{p:.5},style:{boxShadow:"none"},children:s.result.map((a,c)=>e(Q,{company:a,order:c,reRender:v},c))})]})})]})},je=g=>({groups:g.outreachs.outreachs}),He=he(je)(Ie);export{He as default};
