import{P as q,r as c,d as e,C as k,e as P,aM as R,j as o,f as b,G as X,R as I,p as W,L as Y,k as C,F as _,aw as D,q as w,cp as ee,aZ as te,a_ as ae,b3 as ne,a$ as se,M as re,N as oe,O as ie,c8 as le,bM as E,bO as A,B as y,c4 as ce,x as J,cg as de,w as pe,aS as ue,c as he,cq as z,S as me,T as ge,l as j,aL as fe}from"./app-822dcc1a.js";/* empty css                   */import{R as L}from"./TextfieldStyle-1b8b483d.js";import{D as be}from"./DotsVertical-d2511134.js";import{a as Ce,d as xe}from"./ModeEdit-10e0c15e.js";import{M as Se}from"./mail-119d71c7.js";import{J as ve}from"./job-list-card-79d4b763.js";import{D as B,a as V}from"./DialogTitle-762d77b4.js";import{D as $}from"./DialogActions-05ce74d2.js";import"./Attachment01-082dcb54.js";import"./quill-editor-8db1806a.js";import"./isEqual-95f7e54c.js";import"./index-acc1be40.js";import"./file-dropzone-dce10dd5.js";import"./tslib.es6-af7906ce.js";import"./Upload01-e6d8c70d.js";import"./bytes-to-size-706bbf81.js";const H=g=>{const{company:i,order:n,reRender:r,...S}=g,[m,d]=c.useState(null),t=!!m,x=t?"simple-popover":void 0,h=l=>{d(l.currentTarget)},f=()=>{d(null)},v=l=>{axios.post("/api/delete_user_group",{group_inf_id:l}).then(a=>{d(null),r()})};return e(k,{...S,style:{marginTop:30},children:e(P,{children:e(R,{container:!0,children:i.map((l,a)=>e(R,{item:!0,className:"custom-grid-item",xs:12,md:4,sm:6,children:e(k,{children:o(b,{direction:"row",flexWrap:"wrap",justifyContent:"space-between",sx:{px:2,py:1.5},style:{position:"relative"},children:[o(b,{spacing:2,direction:{xs:"column",sm:"row"},children:[e(X,{component:I,href:W.dashboard.jobs.companies.details,src:l.detail.profile_pic_url_hd,sx:{width:40,height:40}}),o("div",{children:[e(Y,{component:I,href:W.dashboard.jobs.companies.details,variant:"h6",style:{fontSize:14},sx:{color:"text.primary"},children:l.detail.username}),e(C,{sx:{color:"text.primary"},style:{fontSize:14},children:"Social Media Influencer"}),e(C,{color:"text.secondary",className:"font-inter location-pointer",variant:"overline",style:{fontSize:12,marginTop:17}}),e(C,{color:"primary",variant:"overline",style:{fontSize:10},children:l.detail.city+","+l.detail.Country})]})]}),n==0?e(_,{}):o(b,{alignItems:"center",direction:"row",className:"vertical-dots",style:{position:"absolute",right:5,top:5},children:[e(C,{color:"#2ECC71",noWrap:!0,sx:{fontSize:14},children:e(D,{style:{padding:"0"},onClick:s=>h(s),"aria-describedby":x,children:e(w,{fontSize:"small",children:e(be,{})})})}),e(ee,{id:l.id,open:t,anchorEl:m,onClose:f,transformOrigin:{horizontal:"right"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:e(te,{children:o(ae,{sx:{width:100,px:1},disableGutters:!0,children:[e(ne,{sx:{display:"contents",mx:5},children:e(w,{fontSize:"small",sx:{mr:1},children:e(Ce,{})})}),e(se,{disableTypography:!0,primary:e(C,{sx:{cursor:"pointer"},variant:"subtitle2",className:"about-list-font",onClick:()=>v(l.id),children:"Delete"})})]})})})]})]})})}))})})})};H.propTypes={company:q.object.isRequired};var M={},ye=oe;Object.defineProperty(M,"__esModule",{value:!0});var U=M.default=void 0,_e=ye(re()),we=ie,Oe=(0,_e.default)((0,we.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4h-3.5z"}),"DeleteOutlineOutlined");U=M.default=Oe;const Te=()=>{const g={isFullScreen:!1,isOpen:!1,message:"",subject:"",to:"",loading:!1,data:new FormData},i=J(),[n,r]=c.useState(g),S=c.useCallback(()=>{r(a=>({...a,isOpen:!0}))},[]),m=c.useCallback(()=>{r(g)},[]),d=c.useCallback(()=>{r(a=>({...a,isFullScreen:!0}))},[]),t=c.useCallback(()=>{r(a=>({...a,isFullScreen:!1}))},[]),x=c.useCallback(a=>{r(s=>({...s,data:a}))},[]),h=c.useCallback(a=>{r(s=>({...s,message:a}))},[]),f=c.useCallback(a=>{r(s=>({...s,subject:a}))},[]),v=c.useCallback(a=>{r(s=>({...s,to:a}))},[]);return{...n,handleClose:m,handleMaximize:d,handleMessageChange:h,handleMinimize:t,handleSubmit:()=>{r(a=>({...a,loading:!0})),n.data.append("to",n.to),n.data.append("subject",n.subject),n.data.append("message",n.message),n.data.append("email",JSON.parse(localStorage.getItem("email"))),axios.post("/api/send_mail",n.data,{}).then(a=>{r(s=>({...s,loading:!1,subject:"",to:"",message:"",isOpen:!1,data:new FormData})),de.success("Message Sent Successfuly."),i(thunks.getEmails({label:useSearchParams().get("label")||"inbox",email:JSON.parse(localStorage.getItem("email"))}))}).catch(a=>{})},handleOpen:S,handleAttach:x,handleSubjectChange:f,handleToChange:v}},Z=g=>{var N;const{company:i,order:n,reRender:r,...S}=g;c.useState(!1);const[m,d]=c.useState(!1),t=Te(),x=()=>{var T,G;let p="",u=i;u&&((T=u[0])==null?void 0:T.detail)==null?t.handleToChange(""):u&&((G=u[0])==null?void 0:G.detail)!=null&&u.map((F,Q)=>{Q==u.length-1?p+=F.detail.public_email:p+=F.detail.public_email+","}),t.handleToChange(p),t.handleOpen()},[h,f]=c.useState({id:"",group_name:"",brief_group:""}),v=(p,u,T)=>{f({id:p,group_name:u,brief_group:T}),d(!0)},l=()=>{d(!1)},a=()=>{axios.post("/api/update_group",{id:h.id,group_name:h.group_name,brief_group:h.brief_group}).then(p=>{r(),d(!1)})},s=le(),O=()=>{s.handleOpen()},K=p=>{p[0].group_id?axios.post("/api/delete_group",{id:p[0].group_id}).then(u=>{r()}):axios.post("/api/delete_group",{id:p[0].id}).then(u=>{r()})};return o(k,{...S,style:{marginTop:30},children:[e(ve,{onClose:s.handleClose,open:s.open,isGroup:!0,groupID:(N=i[0])==null?void 0:N.id,order:n}),o(E,{open:m,onClose:l,children:[e(B,{children:"Edit Outreach Group"}),o(A,{children:[e(V,{children:"To edit Outreach Group, pleaes enter text below."}),e(L,{label:"Title",className:"title-inter",name:"title",variant:"filled",onChange:p=>f(u=>({...u,group_name:p.target.value})),style:{marginTop:3},fullWidth:!0,value:h.group_name}),e(L,{label:"Content",className:"title-inter",name:"content",variant:"filled",onChange:p=>f(u=>({...u,brief_group:p.target.value})),multiline:!0,style:{marginTop:3},fullWidth:!0,value:h.brief_group})]}),o($,{children:[e(y,{onClick:l,children:"Cancel"}),e(y,{onClick:a,children:"Save"})]})]}),o(P,{children:[o(b,{alignItems:"center",direction:"row",flexWrap:"wrap",justifyContent:"space-between",sx:{px:2,py:1.5},children:[e(b,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"row"},children:o("div",{children:[e(C,{sx:{color:"text.primary"},style:{fontSize:24,fontWeight:600},children:n==0?"Favorites":i[0].group_name}),e(C,{sx:{color:"text.primary"},style:{fontSize:20},children:n==0?"Favorites Influencers":i[0].brief_group})]})}),o(b,{alignItems:"center",direction:"row",className:"right-panel",spacing:2,children:[e(D,{edge:"end",onClick:()=>v(i[0].id,i[0].group_name,i[0].brief_group),children:e(w,{fontSize:"small",children:e(xe,{})})}),n==0?e(_,{}):e(D,{edge:"end",onClick:()=>K(i),children:e(w,{fontSize:"small",children:e(U,{})})}),e(y,{onClick:O,size:"small",className:"right-btn",startIcon:e(_,{children:e("img",{src:"/assets/icons/invite.svg"})}),variant:"outlined",children:"Invite To Project"}),e(y,{onClick:x,size:"small",className:"right-btn mass-btn",startIcon:e(w,{children:e(ce,{})}),variant:"contained",children:"Send Mass Message"})]})]}),e(b,{alignItems:"center",direction:"row",flexWrap:"wrap",justifyContent:"space-between",sx:{px:2,py:1.5},children:e(C,{sx:{color:"text.primary"},style:{fontSize:18,fontWeight:600},children:"Influeners in this group"})}),e(b,{children:i[0]&&i[0].detail==null?e(_,{}):e(H,{company:i,order:n,reRender:r},n)})]}),e(Se,{maximize:t.isFullScreen,message:t.message,onClose:t.handleClose,onMessageChange:t.handleMessageChange,onMinimize:t.handleMinimize,onSubjectChange:t.handleSubjectChange,onSubmit:t.handleSubmit,onAttach:t.handleAttach,onToChange:t.handleToChange,open:t.isOpen,subject:t.subject,loading:t.loading,to:t.to})]})};Z.propTypes={company:q.object.isRequired};const je=g=>{let i={time:new Date().getTime(),value:"email",expire:3e6},n=JSON.stringify(i);localStorage.setItem("time_token",n);const{groups:r}=g,S=ue();he();const m=J(),d=JSON.parse(localStorage.getItem("email"));c.useEffect(()=>{m(z({email:d}))},[m]);const[t,x]=c.useState(!1),[h,f]=c.useState(""),v=()=>{m(z({email:d}))},l=()=>{x(!1)};return o(_,{children:[e(me,{title:"Dashboard: Outreach Groups"}),o(E,{open:t,onClose:l,children:[e(B,{children:"Create New Outreach Group"}),o(A,{children:[e(V,{children:"To create new outreach group, please enter your group name here."}),e(ge,{autoFocus:!0,margin:"dense",id:"name",label:"Group Name",type:"text",fullWidth:!0,variant:"standard",value:h,onChange:s=>f(s.target.value)})]}),o($,{children:[e(y,{onClick:l,children:"Cancel"}),e(y,{onClick:()=>{axios.post("/api/newgroup",{group_name:h,email:d}).then(s=>{m(z({email:d})),x(!1)})},children:"Create"})]})]}),e(j,{component:"main",sx:{flexGrow:1},children:o(fe,{maxWidth:S.stretch?!1:"xl",children:[o(b,{alignItems:"center",direction:"row",flexWrap:"wrap",spacing:3,children:[e(j,{component:"form",sx:{flexGrow:1},children:e(C,{variant:"h4",sx:{mt:7,mb:0,fontSize:"32px"},children:"Outreach Groups"})}),e(j,{sx:{display:"flex"},className:"create-parent",style:{marginLeft:0},children:e(y,{size:"small",component:I,href:"/inf-finder/new-group",className:"right-btn create-btn",variant:"contained",children:"Create New Outreach Group"})})]}),e(j,{sx:{p:.5},style:{boxShadow:"none"},children:r.result.map((s,O)=>e(Z,{company:s,order:O,reRender:v},O))})]})})]})},ze=g=>({groups:g.outreachs.outreachs}),$e=pe(ze)(je);export{$e as default};
