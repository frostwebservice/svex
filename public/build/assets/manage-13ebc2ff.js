import{v as E,d as e,C as O,j as n,f as d,D as P,k as o,P as A,F as g,S as J,l as j,aM as L,B as w,q as _,aO as $,R as I,p as F,r as l,au as K,cE as Q,o as U,w as Y,e as X,E as Z,L as ee,aN as W,c0 as D,c5 as te,aT as ne,c as re,A as ie,bj as ae,bk as oe,bo as se,u as le}from"./app-76b15ee3.js";import{j as ce}from"./index-de3ed4d9.js";import"./company-jobs-85c17e2c.js";import{J as de}from"./company-card-4d1d1162.js";import{M as he}from"./mail-composer-80c5d571.js";import"./multi-select-0713fa7c.js";import{g as ue}from"./get-initials-d1c6cec7.js";import{r as me,i as pe,a as fe}from"./jsx-runtime_commonjs-proxy-40c2984d.js";import{H as R}from"./Heart-d06548ff.js";/* empty css               */import"./deep-copy-ee95be26.js";import"./index-25e7ea2f.js";import"./Users01-81a036e7.js";import"./Attachment01-4d7cded9.js";import"./Image01-58ae2650.js";import"./Link01-748924ab.js";import"./FaceSmile-1c6f9b78.js";import"./quill-editor-9bc943c8.js";import"./isEqual-60f92e56.js";const ge=h=>{var s,v,c;const{jobs:t,order:u,...m}=h,r=t==null?void 0:t.filter(x=>x.id==u),y=()=>{if(r&&r[0])return r[0].barter?"Barter":r[0].revenue?"Revenue":r[0].custom?"Custom":"Paid"},C=()=>{if(r&&r[0]){if(r[0].paid=="flexible")return"Flexible";if(r[0].paid=="maxbudget")return"Max Budget";if(r[0].paid=="Budget Range")return"Budget Range"}},f=(x=new Date)=>{var b=Math.floor((new Date().getTime()-new Date(x).getTime())/1e3),a=b/31536e3;return a>1?Math.floor(a)+" years":(a=b/2592e3,a>1?Math.floor(a)+" months":(a=b/86400,a>1?Math.floor(a)+" days":(a=b/3600,a>1?Math.floor(a)+" hours":(a=b/60,a>1?Math.floor(a)+" minutes":Math.floor(b)+" seconds"))))};return e(O,{variant:"outlined",...m,children:n(d,{divider:e(P,{}),sx:{py:1},children:[n(d,{alignItems:"flex-start",direction:"row",flexWrap:"wrap",justifyContent:"space-between",sx:{px:2,py:1.5},children:[e(o,{variant:"subtitle1",sx:{fontSize:16},children:r&&((s=r[0])==null?void 0:s.title)}),e(d,{alignItems:"center",direction:"row",spacing:2,children:n(o,{color:"text.secondary",variant:"caption",style:{fontSize:12},children:[f(r&&((v=r[0])==null?void 0:v.created_at))," ago"]})})]}),n(d,{alignItems:"flex-start",direction:"row",flexWrap:"wrap",sx:{px:2,pb:1.5},children:[e(o,{color:"text.secondary",variant:"caption",children:"Status • Actively Hiring"}),e(o,{color:"text.secondary",style:{marginLeft:40},variant:"caption",children:"Number of applicants • 15 - 20"}),n(o,{color:"text.secondary",style:{marginLeft:40},variant:"caption",children:["Budget • ",C()]}),n(o,{color:"text.secondary",style:{marginLeft:40},variant:"caption",children:["Job type • ",r&&((c=r[0])==null?void 0:c.shoutoutonly)=="shoutoutonly"?"Shoutout Only":"Content creation & Shoutouts"]}),n(o,{color:"text.secondary",style:{marginLeft:40},variant:"caption",children:["Payment type • ",y()]})]})]})})},xe=h=>({jobs:h.jobs.jobs}),ve=E(xe)(ge);A.object.isRequired;const be=()=>n(g,{children:[e(J,{title:"Error: Server Error"}),e(j,{component:"main",sx:{alignItems:"center",display:"flex",flexGrow:1,py:"80px"},children:n(L,{maxWidth:"lg",children:[e(j,{sx:{display:"flex",justifyContent:"center",mb:6},children:e(j,{alt:"Internal server error",component:"img",src:"/assets/errors/empty.png",sx:{height:"auto",maxWidth:"100%",width:145}})}),e(o,{align:"center",sx:{fontWeight:700,fontSize:28},children:"There are no influencers invited yet!"}),e(o,{align:"center",color:"text.secondary",sx:{mt:.5,fontSize:16},children:"Tap below to create an outreach group"}),e(j,{sx:{display:"flex",justifyContent:"center",mt:2},children:e(w,{endIcon:e(_,{children:e($,{})}),component:I,variant:"contained",href:F.index,children:"Create outreach group"})})]})})]});var B={},ye=pe;Object.defineProperty(B,"__esModule",{value:!0});var q=B.default=void 0,Se=ye(me()),Ce=fe,we=(0,Se.default)((0,Ce.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");q=B.default=we;const je=h=>{const{followers:t,engagement:u,invited:m,createdAt:r,category:y,...C}=h,[f,s]=l.useState(null),v=!!f,c=v?"simple-popover":void 0,x=a=>{s(a.currentTarget)},b=()=>{s(null)};return e(O,{variant:"outlined",...C,children:e(d,{divider:e(P,{}),children:n(d,{alignItems:"center",direction:"row",justifyContent:"space-between",flexWrap:"wrap",sx:{px:2,py:1.5},children:[n(d,{direction:"row",children:[n(d,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{mr:10},children:[e(o,{color:"text.primary",noWrap:!0,variant:"overline",sx:{fontSize:14,fontWeight:700},children:t}),e(o,{color:"text.secondary",noWrap:!0,sx:{fontSize:12},style:{marginTop:0},children:"Followers"})]}),n(d,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{mr:10},children:[e(o,{color:"text.primary",noWrap:!0,variant:"overline",sx:{fontSize:14,fontWeight:700},children:u}),e(o,{color:"text.secondary",noWrap:!0,style:{marginTop:0},sx:{fontSize:12},children:"Engagement rate"})]}),n(d,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{mr:10},children:[e(o,{color:"text.primary",noWrap:!0,variant:"overline",sx:{fontSize:14,fontWeight:700},children:"Categories"}),e(o,{color:"text.secondary",style:{marginTop:0},noWrap:!0,sx:{fontSize:12},children:y})]}),m=="1"?n(d,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{mr:10},children:[e(o,{color:"text.primary",noWrap:!0,variant:"overline",sx:{fontSize:14,fontWeight:700},children:[new Date(r).getMonth()+1,new Date(r).getDate(),new Date(r).getFullYear()].join("/")}),e(o,{color:"text.secondary",style:{marginTop:0},noWrap:!0,sx:{fontSize:12},children:"Invited Date"})]}):e(g,{})]}),n(d,{justifyContent:"flex-end",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{mr:10},children:[n(o,{color:"#2ECC71",noWrap:!0,sx:{fontSize:14},children:["Quick View Profile",e(K,{onClick:x,"aria-describedby":c,children:e(_,{fontSize:"small",children:e(q,{})})})]}),e(Q,{id:c,open:v,anchorEl:f,onClose:b,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:e(o,{sx:{p:2},children:"The content of the Popover."})})]})]})})})},_e=()=>{const h={isFullScreen:!1,isOpen:!1,message:"",subject:"",toemail:"",to:""},[t,u]=l.useState(h),m=()=>{u(c=>({...c,isOpen:!0}))},r=l.useCallback(()=>{u(h)},[]),y=l.useCallback(()=>{u(c=>({...c,isFullScreen:!0}))},[]),C=l.useCallback(()=>{u(c=>({...c,isFullScreen:!1}))},[]),f=l.useCallback(c=>{},[]),s=l.useCallback(c=>{u(x=>({...x,subject:c}))},[]),v=l.useCallback(c=>{u(x=>({...x,to:c}))},[]);return{...t,handleClose:r,handleMaximize:y,handleMessageChange:f,handleMinimize:C,handleOpen:m,handleSubjectChange:s,handleToChange:v}},M=h=>{const{influencer:t,currentTab:u,invited:m,createdAt:r,...y}=h;U();const[C,f]=l.useState(t.liked==1),s=_e(),v=Y();console.log(t),l.useEffect(()=>{f(t.liked==1)},[t]);const c=()=>{f(!0);let p={email:JSON.parse(localStorage.getItem("email")),tab:u,inf_id:t.id,liked:"1"};axios.post("/api/handle_like",p).then(S=>{S.data.status})},x=()=>{f(!1);let p={email:JSON.parse(localStorage.getItem("email")),tab:u,inf_id:t.id,liked:"0"};axios.post("/api/handle_like",p).then(S=>{S.data.status===200&&v(te({email:JSON.parse(localStorage.getItem("email"))}))})},b=p=>Number(p)<=1?Number(p).toFixed(2)+"%":T(Number(p).toFixed(1)).replace(".0","")+"%",a=[{divider:1e18,suffix:"E"},{divider:1e15,suffix:"P"},{divider:1e12,suffix:"T"},{divider:1e9,suffix:"G"},{divider:1e6,suffix:"M"},{divider:1e3,suffix:"K"}],T=p=>{for(var S=0;S<a.length;S++)if(p>=a[S].divider)return Number(p/a[S].divider).toFixed(1).toString().replace(".0","")+a[S].suffix;return p.toString()};return n(g,{children:[e(O,{...y,style:{marginTop:30,marginBottom:30},children:n(X,{children:[n(d,{alignItems:"center",direction:"row",flexWrap:"wrap",justifyContent:"space-between",sx:{px:2,py:1.5},children:[n(d,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"row"},children:[e(Z,{component:I,href:F.dashboard.jobs.companies.details,src:t.profile_pic_url_hd?t.profile_pic_url_hd:`https://ui-avatars.com/api/?name=${t.full_name?t.full_name:""}&background=2970FF&color=fff&rounded=true`,sx:{width:74,height:74},children:ue(t.full_name)}),n("div",{children:[e(ee,{color:"#2970FF",component:I,href:F.dashboard.jobs.companies.details,variant:"h6",style:{fontSize:18},children:t.username}),t.verified&&t.verified==1||t.verified&&t.verified==1?e("div",{className:"verified-image"}):"",e(o,{sx:{color:"text.primary"},style:{fontSize:14},children:t.full_name}),e(o,{color:"text.secondary",className:"font-inter location-pointer",variant:"overline",style:{fontSize:12,marginTop:17}}),e(o,{color:"primary",variant:"overline",style:{fontSize:10},children:t.city+", "+t.Country})]}),e("div",{className:"custom-reach",children:n(W,{container:!0,children:[n(W,{item:!0,sx:{color:"#2970FF",fontSize:"11px",fontWeight:300,pl:1,pr:1,pt:.5,pb:.5},children:[e("div",{children:"Reach"}),e("div",{style:{fontSize:"16px",fontWeight:700},children:T(t.follower_count?t.follower_count:t.subscribers)})]}),e(W,{item:!0,style:{display:"flex",alignItems:"center",margin:"0 auto"},children:e("div",{className:"reach-arrow"})})]})})]}),e(d,{alignItems:"center",direction:"row",className:"custom-right",spacing:2,children:C?n(g,{children:[e(w,{onClick:x,className:"right-btn",startIcon:e(_,{sx:{transform:"scale(1.8)",color:"error.main","& path":{fill:p=>p.palette.error.main,fillOpacity:1}},children:e(R,{})})}),e(w,{component:I,href:"/profile/inf/"+t.username,sx:{color:"text.primary"},size:"small",className:"right-btn",startIcon:e(g,{children:e("img",{src:"/assets/icons/Glyph.png"})}),variant:"outlined",children:"View Offer"}),e(w,{onClick:s.handleOpen,size:"small",className:"right-btn",startIcon:e(_,{children:e(D,{})}),variant:"contained",children:"View Messages"})]}):n(g,{children:[e(w,{onClick:c,className:"right-btn",startIcon:e(_,{sx:{transform:"scale(1.8)"},children:e(R,{})})}),e(w,{component:I,href:"/profile/inf/"+t.username,size:"small",className:"right-btn",startIcon:e(g,{children:e("img",{src:"/assets/icons/Glyph.png"})}),variant:"outlined",children:"View Offer"}),e(w,{onClick:s.handleOpen,size:"small",className:"right-btn",startIcon:e(_,{children:e(D,{})}),variant:"contained",children:"View Messages"})]})})]}),e(j,{sx:{mt:2},children:e(je,{engagement:b(t.engagement_rate),followers:T(t.follower_count?t.follower_count:t.subscribers),category:t.category_niche,createdAt:r,invited:m})})]})}),e(he,{maximize:s.isFullScreen,message:s.message,onClose:s.handleClose,onMessageChange:s.handleMessageChange,onMinimize:s.handleMinimize,onSubjectChange:s.handleSubjectChange,onToChange:s.handleToChange,open:s.isOpen,subject:s.subject,to:t.full_name,avatar:t.profile_pic_url_hd,toemail:t.public_email})]})};M.propTypes={influencer:A.object.isRequired};const Ie=()=>{const h=le(),[t,u]=l.useState([]),m=l.useCallback(async()=>{try{const r=await ce.getCompanies();h()&&u(r)}catch(r){console.error(r)}},[h]);return l.useEffect(()=>{m()},[]),t},ze=[{label:"Job listing",value:"joblisting"},{label:"Review Offers",value:"applicants"},{label:"Invited Influencers",value:"invitedinfluencers"},{label:"Hired",value:"hired"}],Te=h=>{const{jobs:t}=h;Ie();const u=ne(),[m,r]=l.useState("joblisting"),[y,C]=l.useState([]),[f,s]=l.useState([]),[v,c]=l.useState([]),[x,b]=l.useState(0),[a,T]=l.useState(0),[p,S]=l.useState(0),k=JSON.parse(localStorage.getItem("email")),G=l.useCallback((i,V)=>{r(V)},[]);re();const z=window.location.pathname.split("/")[window.location.pathname.split("/").length-1],N=t==null?void 0:t.filter(i=>i.id==z),H=()=>{axios.post("/api/update_jobactivity",{jobID:z,isActive:"1"}).then(i=>{dispatch(getJobs(k,1))}).catch(i=>{})};return x<1&&axios.post("/api/get_applicants",{jobID:z,email:k}).then(i=>{C(i.data),b(x+1)}).catch(i=>{}),a<1&&axios.post("/api/get_hired",{jobID:z,email:k}).then(i=>{c(i.data),T(a+1)}).catch(i=>{}),p<1&&axios.post("/api/get_invited",{jobID:z,email:k}).then(i=>{s(i.data),S(p+1)}).catch(i=>{}),n(g,{children:[e(J,{title:"Dashboard: Job Browse"}),e(j,{component:"main",sx:{flexGrow:1,py:8},children:n(L,{maxWidth:u.stretch?!1:"xl",children:[e(o,{variant:"h4",children:"Manage Job"}),n(w,{size:"small",sx:{py:3},component:I,href:"/dashboard/jobs",style:{fontSize:14},children:[e(_,{fontSize:"2",children:e(ie,{})}),"Back"]}),e(ve,{order:window.location.pathname.split("/")[window.location.pathname.split("/").length-1]}),n("div",{className:"right-parent",children:[e(ae,{indicatorColor:"primary",onChange:G,scrollButtons:"auto",textColor:"primary",sx:{py:3},value:m,variant:"scrollable",children:ze.map(i=>e(oe,{className:"custom-tab",sx:{fontSize:18},label:i.label,value:i.value},i.value))}),m=="joblisting"&&n(d,{direction:"row",className:"right-edit",children:[n(d,{direction:"row",children:[e(o,{variant:"text.secondary",sx:{fontSize:16,pt:.8},children:"Close the job"}),e(se,{checked:!0,onChange:H})]}),e(d,{children:e(w,{className:"right-alone-btn",component:I,href:"/dashboard/jobs/edit/"+z,sx:{fontSize:15},variant:"contained",children:"Edit This Job Listing"})})]}),n(j,{children:[m=="applicants"&&e(g,{children:y==null?void 0:y.map(i=>e(M,{influencer:i.inf,currentTab:i.tab,invited:"0"},i.id))}),m=="joblisting"&&e(g,{children:N&&N[0]?e(de,{job:N[0],openBar:!1,active:"all"}):e(g,{})}),m=="hired"&&e(g,{children:v==null?void 0:v.map(i=>e(M,{influencer:i.inf,currentTab:i.tab,invited:"0"},i.id))}),m=="invitedinfluencers"&&e(g,{children:f.length==0?e(g,{children:e(be,{})}):e(g,{children:f==null?void 0:f.map(i=>e(M,{influencer:i.inf,currentTab:i.tab,createdAt:i.updated_at,invited:"1"},i.id))})})]})]}),e(d,{spacing:4,sx:{mt:4}})]})})]})},ke=h=>({jobs:h.jobs.jobs}),Qe=E(ke)(Te);export{Qe as default};
