import{r as c,c6 as o,j as u,F as C,d as a,C as b,e as f,T as i,f as h,B as p,R as _,c as B,aT as P,S as w,l as F,aM as I,L as W,q as V,A as H,k as D}from"./app-7e56a116.js";import{c as x,a as s}from"./index.esm-a4245919.js";import{u as g}from"./formik.esm-7753f869.js";import{C as S}from"./CardHeader-63c16028.js";/* empty css                */const E=m=>{const[q,v]=c.useState({}),[k,T]=c.useState({}),[d,y]=c.useState(0);c.useEffect(()=>{axios.post("/api/get_paypal",{}).then(t=>{v({paypal_mode:t.data.mode,paypal_client_id:t.data.client_id,paypal_secret:t.data.secret,paypal_plain_id:t.data.plain_id,currency:t.data.currency,costofunlimited_access:t.data.unlimited_access}),y(d+1)}),axios.post("/api/get_stripe",{}).then(t=>{T({stripe_publishable_key:t.data.pub_key,stripe_secret_key:t.data.sec_key,stripe_webhook_secret:t.data.webhook_sec,stripe_subscription_plan_id:t.data.sub_id,currency:t.data.currency,costofunlimited_access:t.data.unlimited_access}),y(d+1)})},[]);const e=g({initialValues:q,enableReinitialize:!0,validationSchema:x({paypal_mode:s().max(255).required("This Field is required"),paypal_client_id:s().max(255).required("This Field is required"),paypal_secret:s().max(255).required("This Field is required"),paypal_plain_id:s().max(255).required("This Field is required"),currency:s().max(255).required("This Field is required"),costofunlimited_access:s().max(255).required("This Field is required")}),onSubmit:async(t,l)=>{try{axios.post("/api/update_paypal",{values:t}).then(n=>{l.setStatus({success:!0}),l.setSubmitting(!1),o.success("Paypal settings updated")})}catch(n){console.error(n),o.error("Something went wrong!"),l.setStatus({success:!1}),l.setErrors({submit:n.message}),l.setSubmitting(!1)}}}),r=g({initialValues:k,enableReinitialize:!0,validationSchema:x({stripe_publishable_key:s().max(255).required("This Field is required"),stripe_secret_key:s().max(255).required("This Field is required"),stripe_webhook_secret:s().max(255).required("This Field is required"),stripe_subscription_plan_id:s().max(255).required("This Field is required"),currency:s().max(255).required("This Field is required"),costofunlimited_access:s().max(255).required("This Field is required")}),onSubmit:async(t,l)=>{try{axios.post("/api/update_stripe",{values:t}).then(n=>{l.setStatus({success:!0}),l.setSubmitting(!1),o.success("Stripe settings updated")})}catch(n){console.error(n),o.error("Something went wrong!"),l.setStatus({success:!1}),l.setErrors({submit:n.message}),l.setSubmitting(!1)}}});return u(C,{children:[a("form",{onSubmit:e.handleSubmit,children:u(b,{children:[a(S,{title:"Paypal Settings"}),u(f,{sx:{py:0},children:[a(i,{defaultValue:"Please Input Here.",sx:{mb:1},error:!!(e.touched.paypal_mode&&e.errors.paypal_mode),fullWidth:!0,helperText:e.touched.paypal_mode&&e.errors.paypal_mode,label:"Paypal Mode",name:"paypal_mode",onBlur:e.handleBlur,onChange:e.handleChange,required:!0,value:e.values.paypal_mode}),a(i,{defaultValue:"Please Input Here.",sx:{mb:1},error:!!(e.touched.paypal_client_id&&e.errors.paypal_client_id),fullWidth:!0,helperText:e.touched.paypal_client_id&&e.errors.paypal_client_id,label:"Paypal Client ID",name:"paypal_client_id",onBlur:e.handleBlur,onChange:e.handleChange,required:!0,value:e.values.paypal_client_id}),a(i,{defaultValue:"Please Input Here.",sx:{mb:1},error:!!(e.touched.paypal_secret&&e.errors.paypal_secret),fullWidth:!0,helperText:e.touched.paypal_secret&&e.errors.paypal_secret,label:"Paypal Secret",name:"paypal_secret",onBlur:e.handleBlur,onChange:e.handleChange,required:!0,value:e.values.paypal_secret}),a(i,{defaultValue:"Please Input Here.",sx:{mb:1},error:!!(e.touched.paypal_plain_id&&e.errors.paypal_plain_id),fullWidth:!0,helperText:e.touched.paypal_plain_id&&e.errors.paypal_plain_id,label:"Paypal Plain ID",name:"paypal_plain_id",onBlur:e.handleBlur,onChange:e.handleChange,required:!0,value:e.values.paypal_plain_id}),a(i,{defaultValue:"Please Input Here.",sx:{mb:1},error:!!(e.touched.currency&&e.errors.currency),fullWidth:!0,helperText:e.touched.currency&&e.errors.currency,label:"Currency",name:"currency",onBlur:e.handleBlur,onChange:e.handleChange,required:!0,value:e.values.currency}),a(i,{defaultValue:"Please Input Here.",sx:{mb:1},error:!!(e.touched.costofunlimited_access&&e.errors.costofunlimited_access),fullWidth:!0,helperText:e.touched.costofunlimited_access&&e.errors.costofunlimited_access,label:"Cost of unlimited access",name:"costofunlimited_access",onBlur:e.handleBlur,onChange:e.handleChange,required:!0,value:e.values.costofunlimited_access})]}),u(h,{direction:{xs:"column",sm:"row"},flexWrap:"wrap",spacing:3,sx:{p:3,pt:1},children:[a(p,{disabled:e.isSubmitting,type:"submit",variant:"contained",children:"Update"}),a(p,{color:"inherit",component:_,disabled:e.isSubmitting,href:"/dashboard/admin",children:"Cancel"})]})]},d)}),a("form",{onSubmit:r.handleSubmit,children:u(b,{children:[a(S,{title:"Stripe Settings"}),u(f,{sx:{py:0},children:[a(i,{defaultValue:"Please Input Here.",sx:{mb:1},error:!!(r.touched.stripe_publishable_key&&r.errors.stripe_publishable_key),fullWidth:!0,helperText:r.touched.stripe_publishable_key&&r.errors.stripe_publishable_key,label:"Stripe Publishable Key",name:"stripe_publishable_key",onBlur:r.handleBlur,onChange:r.handleChange,required:!0,value:r.values.stripe_publishable_key}),a(i,{defaultValue:"Please Input Here.",sx:{mb:1},error:!!(r.touched.stripe_secret_key&&r.errors.stripe_secret_key),fullWidth:!0,helperText:r.touched.stripe_secret_key&&r.errors.stripe_secret_key,label:"Stripe Secret Key",name:"stripe_secret_key",onBlur:r.handleBlur,onChange:r.handleChange,required:!0,value:r.values.stripe_secret_key}),a(i,{defaultValue:"Please Input Here.",sx:{mb:1},error:!!(r.touched.stripe_webhook_secret&&r.errors.stripe_webhook_secret),fullWidth:!0,helperText:r.touched.stripe_webhook_secret&&r.errors.stripe_webhook_secret,label:"Stripe Webhook Secret",name:"stripe_webhook_secret",onBlur:r.handleBlur,onChange:r.handleChange,required:!0,value:r.values.stripe_webhook_secret}),a(i,{defaultValue:"Please Input Here.",sx:{mb:1},error:!!(r.touched.stripe_subscription_plan_id&&r.errors.stripe_subscription_plan_id),fullWidth:!0,helperText:r.touched.stripe_subscription_plan_id&&r.errors.stripe_subscription_plan_id,label:"Stripe subscription plan ID",name:"stripe_subscription_plan_id",onBlur:r.handleBlur,onChange:r.handleChange,required:!0,value:r.values.stripe_subscription_plan_id}),a(i,{defaultValue:"Please Input Here.",sx:{mb:1},error:!!(r.touched.currency&&r.errors.currency),fullWidth:!0,helperText:r.touched.currency&&r.errors.currency,label:"Currency",name:"currency",onBlur:r.handleBlur,onChange:r.handleChange,required:!0,value:r.values.currency}),a(i,{defaultValue:"Please Input Here.",sx:{mb:1},error:!!(r.touched.costofunlimited_access&&r.errors.costofunlimited_access),fullWidth:!0,helperText:r.touched.costofunlimited_access&&r.errors.costofunlimited_access,label:"Cost of unlimited access",name:"costofunlimited_access",onBlur:r.handleBlur,onChange:r.handleChange,required:!0,value:r.values.costofunlimited_access})]}),u(h,{direction:{xs:"column",sm:"row"},flexWrap:"wrap",spacing:3,sx:{p:3,pt:1},children:[a(p,{disabled:r.isSubmitting,type:"submit",variant:"contained",children:"Update"}),a(p,{color:"inherit",component:_,disabled:r.isSubmitting,href:"/dashboard/admin",children:"Cancel"})]})]},d)})]})},z=()=>{B();const m=P();return u(C,{children:[a(w,{title:"Dashboard: Payment Settings"}),a(F,{component:"main",sx:{flexGrow:1,py:8},children:a(I,{maxWidth:m.stretch?!1:"xl",children:a("div",{children:u(h,{spacing:4,children:[a(h,{spacing:4,children:a("div",{children:u(W,{color:"text.primary",component:_,href:"/dashboard/admin",sx:{alignItems:"center",display:"inline-flex"},underline:"hover",children:[a(V,{sx:{mr:1},children:a(H,{})}),a(D,{variant:"subtitle2",children:"Admin Dashboard"})]})})}),a(E,{})]})})})})]})};export{z as default};
