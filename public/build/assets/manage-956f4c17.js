import{v as B,d as e,C as E,j as n,f as h,D as $,k as i,B as I,R as W,F as c,P as H,S as V,l as z,aM as K,q as M,aO as te,r as l,au as U,cx as ne,a_ as re,a$ as A,b4 as F,b0 as J,aT as Y,o as X,c as Q,bN as ie,b_ as ae,bP as oe,w as se,cD as le,e as ce,E as de,L as he,aN as R,c0 as G,c9 as ue,A as fe,bj as me,bk as pe,bo as ge,u as be}from"./app-7e56a116.js";import{j as xe}from"./index-38c16ad1.js";import"./company-jobs-d3f554f5.js";import{J as ye}from"./company-card-76354788.js";import{M as ve}from"./mail-composer-c2221484.js";import"./multi-select-04bf3d5d.js";import{g as we}from"./get-initials-d1c6cec7.js";import{r as Ce,i as Se,a as Ie}from"./jsx-runtime_commonjs-proxy-d4e751f2.js";import{H as q}from"./Heart-5aa6e2e5.js";/* empty css               */import"./deep-copy-ee95be26.js";import"./index-d3e27723.js";import"./Users01-55af0337.js";import"./Attachment01-67adfafc.js";import"./Image01-676cb5cb.js";import"./Link01-4dc23c7a.js";import"./FaceSmile-ccff2986.js";import"./quill-editor-fb000d94.js";import"./isEqual-ef10a0c4.js";const _e=u=>{var g,a,x;const{jobs:t,order:d,offer:p,...s}=u,o=t==null?void 0:t.filter(C=>C.id==d),y=()=>{if(o&&o[0])return o[0].barter?"Barter":o[0].revenue?"Revenue":o[0].custom?"Custom":"Paid"},b=()=>{if(o&&o[0]){if(o[0].paid=="flexible")return"Flexible";if(o[0].paid=="maxbudget")return"Max Budget";if(o[0].paid=="Budget Range")return"Budget Range"}},_=(C=new Date)=>{var v=Math.floor((new Date().getTime()-new Date(C).getTime())/1e3),f=v/31536e3;return f>1?Math.floor(f)+" years":(f=v/2592e3,f>1?Math.floor(f)+" months":(f=v/86400,f>1?Math.floor(f)+" days":(f=v/3600,f>1?Math.floor(f)+" hours":(f=v/60,f>1?Math.floor(f)+" minutes":Math.floor(v)+" seconds"))))};return e(E,{variant:"outlined",...s,children:n(h,{divider:e($,{}),sx:{py:1},children:[n(h,{alignItems:"flex-start",direction:"row",flexWrap:"wrap",justifyContent:"space-between",sx:{px:2,py:1.5},children:[e(i,{variant:"subtitle1",sx:{fontSize:16},children:o&&((g=o[0])==null?void 0:g.title)}),n(h,{alignItems:"center",direction:"row",spacing:2,children:[n(i,{color:"text.secondary",variant:"caption",style:{fontSize:12},children:[_(o&&((a=o[0])==null?void 0:a.created_at))," ago"]}),p?e(I,{className:"right-alone-btn",component:W,href:"/dashboard/jobs/",sx:{fontSize:15},children:"View"}):e(c,{})]})]}),n(h,{alignItems:"flex-start",direction:"row",flexWrap:"wrap",sx:{px:2,pb:1.5},children:[e(i,{color:"text.secondary",variant:"caption",children:"Status • Actively Hiring"}),e(i,{color:"text.secondary",style:{marginLeft:40},variant:"caption",children:"Number of applicants • 15 - 20"}),n(i,{color:"text.secondary",style:{marginLeft:40},variant:"caption",children:["Budget • ",b()]}),n(i,{color:"text.secondary",style:{marginLeft:40},variant:"caption",children:["Job type • ",o&&((x=o[0])==null?void 0:x.shoutoutonly)=="shoutoutonly"?"Shoutout Only":"Content creation & Shoutouts"]}),n(i,{color:"text.secondary",style:{marginLeft:40},variant:"caption",children:["Payment type • ",y()]})]})]})})},Ne=u=>({jobs:u.jobs.jobs}),Z=B(Ne)(_e);H.object.isRequired;const je=()=>n(c,{children:[e(V,{title:"Error: Server Error"}),e(z,{component:"main",sx:{alignItems:"center",display:"flex",flexGrow:1,py:"80px"},children:n(K,{maxWidth:"lg",children:[e(z,{sx:{display:"flex",justifyContent:"center",mb:6},children:e(z,{alt:"Internal server error",component:"img",src:"/assets/errors/empty.png",sx:{height:"auto",maxWidth:"100%",width:145}})}),e(i,{align:"center",sx:{fontWeight:700,fontSize:28},children:"There are no influencers invited yet!"}),e(i,{align:"center",color:"text.secondary",sx:{mt:.5,fontSize:16},children:"Tap below to create an outreach group"}),e(z,{sx:{display:"flex",justifyContent:"center",mt:2},children:e(I,{endIcon:e(M,{children:e(te,{})}),component:W,variant:"contained",href:"/inf-finder/new-group",children:"Create Outreach Group"})})]})})]});var P={},Te=Se;Object.defineProperty(P,"__esModule",{value:!0});var ee=P.default=void 0,ke=Te(Ce()),ze=Ie,Me=(0,ke.default)((0,ze.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");ee=P.default=Me;const Oe=u=>{const{followers:t,engagement:d,invited:p,influencer:s,offer:o=!1,createdAt:y,category:b,..._}=u,[g,a]=l.useState(null),x=!!g,C=x?"simple-popover":void 0,v=m=>{a(m.currentTarget)},f=()=>{a(null)},O=m=>{var k;let j=(k=m==null?void 0:m.category_niche)==null?void 0:k.includes("[");if(j){if(j){let T=m&&m.category_niche?m.category_niche:"";return T=T.replace("[","").replace("]",""),T=T.split(","),T.map(N=>n("div",{className:"profile-niche",children:[" ",N.replace(/"/g,"")]},N))}}else return m&&m.category_niche?n("div",{className:"profile-niche",children:[" ",m.category_niche]},m.category_niche):e(c,{})};return e(E,{variant:"outlined",..._,children:e(h,{divider:e($,{}),children:n(h,{alignItems:"center",direction:"row",justifyContent:"space-between",flexWrap:"wrap",sx:{px:2,py:1.5},children:[n(h,{alignItems:"center",direction:"row",justifyContent:"space-between",flexWrap:"wrap",sx:{px:2,py:1.5},children:[n(h,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{mr:10},children:[e(i,{color:"text.primary",noWrap:!0,sx:{fontSize:14,fontWeight:700},children:t}),e(i,{color:"text.secondary",noWrap:!0,sx:{fontSize:12},style:{marginTop:0},children:"Followers"})]}),n(h,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{mr:10},children:[e(i,{color:"text.primary",noWrap:!0,sx:{fontSize:14,fontWeight:700},children:d}),e(i,{color:"text.secondary",noWrap:!0,style:{marginTop:0},sx:{fontSize:12},children:"Engagement rate"})]}),n(h,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{mr:10},children:[e(i,{color:"text.primary",noWrap:!0,sx:{fontSize:14,fontWeight:700},children:"Categories"}),e(i,{color:"text.secondary",style:{marginTop:0},noWrap:!0,sx:{fontSize:12},children:b})]}),p=="1"?n(h,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{mr:10},children:[e(i,{color:"text.primary",noWrap:!0,variant:"overline",sx:{fontSize:14,fontWeight:700},children:[new Date(y).getMonth()+1,new Date(y).getDate(),new Date(y).getFullYear()].join("/")}),e(i,{color:"text.secondary",style:{marginTop:0},noWrap:!0,sx:{fontSize:12},children:"Invited Date"})]}):e(c,{})]}),o?e(c,{}):n(h,{justifyContent:"flex-end",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{px:2,py:1.5},children:[n(i,{color:"#2ECC71",noWrap:!0,sx:{fontSize:14},children:["Quick View Profile",e(U,{style:{border:"1px solid #2ECC71",padding:"0",marginLeft:7},onClick:m=>v(m),"aria-describedby":C,children:e(M,{fontSize:"small",children:e(ee,{style:{color:"#2ECC71"}})})})]}),e(ne,{id:C,open:x,anchorEl:g,onClose:f,transformOrigin:{horizontal:"right"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:n(re,{children:[n(A,{disableGutters:!0,divider:!0,className:"custom-item",children:[e(F,{children:e("div",{className:"global-icon"})}),e(J,{disableTypography:!0,primary:e(i,{variant:"subtitle2",className:"about-list-font",children:s?"Language: "+s.language.charAt(0).toUpperCase()+s.language.slice(1):""})})]}),n(A,{className:"custom-item",disableGutters:!0,divider:!0,children:[e(F,{children:e("div",{className:"male-icon"})}),e(J,{disableTypography:!0,primary:e(i,{variant:"subtitle2",className:"about-list-font",children:s?"Gender: "+s.gender.charAt(0).toUpperCase()+s.gender.slice(1):""})})]}),n(A,{className:"custom-item",disableGutters:!0,divider:!0,children:[e(F,{children:e("div",{className:"age-icon"})}),e(J,{disableTypography:!0,primary:e(i,{variant:"subtitle2",className:"about-list-font",children:s?"Age: "+s.age:""})})]}),n(A,{className:"custom-item",disableGutters:!0,children:[e(F,{children:e("div",{className:"ethnicity-icon"})}),e(J,{disableTypography:!0,primary:e(i,{variant:"subtitle2",className:"about-list-font",children:s?"Ethnicity: "+s.ethnicity:""})})]}),e(i,{variant:"subtitle2",sx:{fontSize:18,fontWeight:700,paddingLeft:"20px",py:3},children:"Niche"}),O(s)]})})]})]})})})};const We=u=>{const{jobs:t,onClose:d,influencer:p,onRerender:s,currentTab:o,open:y=!1}=u;Y(),X(),l.useState([]),l.useState(0),JSON.parse(localStorage.getItem("email")),Q();const b=window.location.pathname.split("/")[window.location.pathname.split("/").length-1];return t==null||t.filter(g=>g.id==b),n(ie,{fullWidth:!0,maxWidth:"lg",open:y,onClose:d,children:[n(h,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:3,sx:{px:3,py:2},children:[e(i,{variant:"h6",children:"Job Offer"}),e(U,{color:"inherit",onClick:d,children:e(M,{children:e(ae,{})})})]}),e(h,{alignItems:"flex-end",justifyContent:"space-between",sx:{mr:3,px:3},children:e(I,{size:"small",sx:{width:200},className:"right-btn",variant:"contained",onClick:()=>{axios.post("/api/hire_inf",{inf_id:p.id,job_id:b,tab:o}).then(g=>{d(),s()})},children:"Hire This Influencer"})}),n(oe,{children:[e(Z,{order:window.location.pathname.split("/")[window.location.pathname.split("/").length-1],offer:!0}),e(z,{children:e(D,{influencer:p,currentTab:o,invited:"0",offer:!0})})]})]})},De=u=>({jobs:u.jobs.jobs}),Le=B(De)(We),Ae=()=>{const u={isFullScreen:!1,isOpen:!1,message:"",subject:"",toemail:"",to:""},[t,d]=l.useState(u),p=()=>{d(a=>({...a,isOpen:!0}))},s=l.useCallback(()=>{d(u)},[]),o=l.useCallback(()=>{d(a=>({...a,isFullScreen:!0}))},[]),y=l.useCallback(()=>{d(a=>({...a,isFullScreen:!1}))},[]),b=l.useCallback(a=>{},[]),_=l.useCallback(a=>{d(x=>({...x,subject:a}))},[]),g=l.useCallback(a=>{d(x=>({...x,to:a}))},[]);return{...t,handleClose:s,handleMaximize:o,handleMessageChange:b,handleMinimize:y,handleOpen:p,handleSubjectChange:_,handleToChange:g}},D=u=>{const{influencer:t,currentTab:d,invited:p,offer:s,onRerender:o=null,createdAt:y,...b}=u;X();const[_,g]=l.useState(t.liked==1),a=Ae(),x=se(),[C,v]=l.useState({}),[f,O]=l.useState(""),m=le();l.useEffect(()=>{g(t.liked==1)},[t]);const j=()=>{g(!0);let r={email:JSON.parse(localStorage.getItem("email")),tab:d,inf_id:t.id,liked:"1"};axios.post("/api/handle_like",r).then(S=>{S.data.status})},k=()=>{g(!1);let r={email:JSON.parse(localStorage.getItem("email")),tab:d,inf_id:t.id,liked:"0"};axios.post("/api/handle_like",r).then(S=>{S.data.status===200&&x(ue({email:JSON.parse(localStorage.getItem("email"))}))})},T=r=>Number(r)<=1?Number(r).toFixed(2)+"%":N(Number(r).toFixed(1)).replace(".0","")+"%",w=[{divider:1e18,suffix:"E"},{divider:1e15,suffix:"P"},{divider:1e12,suffix:"T"},{divider:1e9,suffix:"G"},{divider:1e6,suffix:"M"},{divider:1e3,suffix:"K"}],N=r=>{for(var S=0;S<w.length;S++)if(r>=w[S].divider)return Number(r/w[S].divider).toFixed(1).toString().replace(".0","")+w[S].suffix;return r.toString()},L=()=>{v(t),O(d),m.handleOpen()};return n(c,{children:[e(E,{...b,style:{marginTop:30,marginBottom:30},children:n(ce,{children:[n(h,{alignItems:"center",direction:"row",flexWrap:"wrap",justifyContent:"space-between",sx:{px:2,py:1.5},children:[n(h,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"row"},children:[e(de,{component:W,href:"/profile/inf/"+t.full_name,src:t.profile_pic_url_hd?t.profile_pic_url_hd:`https://ui-avatars.com/api/?name=${t.full_name?t.full_name:""}&background=2970FF&color=fff&rounded=true`,target:"_blank",sx:{width:74,height:74},children:we(t.username)}),n("div",{children:[e(he,{target:"_blank",color:"#2970FF",component:W,href:"/profile/inf/"+t.username,variant:"h6",style:{fontSize:18},children:t.username}),t.verified&&t.verified==1||t.verified&&t.verified==1?e("div",{className:"verified-image"}):"",e(i,{sx:{color:"text.primary"},style:{fontSize:14},children:t.full_name}),e(i,{color:"text.secondary",className:"font-inter location-pointer",variant:"overline",style:{fontSize:12,marginTop:17}}),e(i,{color:"primary",variant:"overline",style:{fontSize:10},children:t.city+", "+t.Country})]}),e("div",{className:"custom-reach",children:n(R,{container:!0,children:[n(R,{item:!0,sx:{color:"#2970FF",fontSize:"11px",fontWeight:300,pl:1,pr:1,pt:.5,pb:.5},children:[e("div",{children:"Reach"}),e("div",{style:{fontSize:"16px",fontWeight:700},children:N(t.follower_count?t.follower_count:t.subscribers)})]}),e(R,{item:!0,style:{display:"flex",alignItems:"center",margin:"0 auto"},children:e("div",{className:"reach-arrow"})})]})})]}),e(h,{alignItems:"center",direction:"row",className:"custom-right",spacing:2,children:_?n(c,{children:[s?e(c,{}):n(c,{children:[e(I,{onClick:k,className:"right-btn",startIcon:e(M,{sx:{transform:"scale(1.8)",color:"error.main","& path":{fill:r=>r.palette.error.main,fillOpacity:1}},children:e(q,{})})}),e(I,{onClick:L,sx:{color:"text.primary"},size:"small",className:"right-btn",startIcon:e(c,{children:e("img",{src:"/assets/icons/Glyph.png"})}),variant:"outlined",children:"View Offer"})]}),e(I,{onClick:a.handleOpen,size:"small",className:"right-btn",startIcon:e(M,{children:e(G,{})}),variant:"contained",children:"View Messages"})]}):n(c,{children:[s?e(c,{}):n(c,{children:[e(I,{onClick:j,className:"right-btn",startIcon:e(M,{sx:{transform:"scale(1.8)"},children:e(q,{})})}),e(I,{onClick:L,size:"small",className:"right-btn",startIcon:e(c,{children:e("img",{src:"/assets/icons/Glyph.png"})}),variant:"outlined",children:"View Offer"})]}),e(I,{onClick:a.handleOpen,size:"small",className:"right-btn",startIcon:e(M,{children:e(G,{})}),variant:"contained",children:"View Messages"})]})})]}),e(z,{sx:{mt:2},children:e(Oe,{engagement:T(t.engagement_rate),followers:N(t.follower_count?t.follower_count:t.subscribers),category:t.category_niche,createdAt:y,invited:p,influencer:t,offer:s})}),s?e(c,{children:n(h,{sx:{mt:5},children:[e(i,{variant:"h6",children:"Job Proposal"}),e(i,{sx:{mt:4},children:"Dear [Brand Name], I hope this letter finds you well. My name is [Your Name], and I am an experienced and passionate influencer in the [niche/industry]. I recently came across the job posting for a collaboration opportunity on your brand's social media channels, and I am thrilled to express my interest in working with your esteemed brand. Allow me to introduce myself and my work briefly. I have [X years/months] of experience as an influencer, and during this time, I have built a loyal and engaged following of [number of followers] across various social media platforms, including Instagram, YouTube, and TikTok. My content focuses on [specific niche/industry] and resonates with my audience, resulting in high levels of engagement and brand awareness. I have had the pleasure of partnering with several renowned brands in the past, including [mention notable brand collaborations], and have consistently delivered exceptional results. I believe that collaborating with your brand would be a perfect fit, as your products/services align closely with my audience's interests and preferences."})]})}):e(c,{})]})}),e(ve,{maximize:a.isFullScreen,message:a.message,onClose:a.handleClose,onMessageChange:a.handleMessageChange,onMinimize:a.handleMinimize,onSubjectChange:a.handleSubjectChange,onToChange:a.handleToChange,open:a.isOpen,subject:a.subject,to:t.full_name,avatar:t.profile_pic_url_hd,toemail:t.public_email}),e(Le,{influencer:C,currentTab:f,onClose:m.handleClose,open:m.open,onRerender:o})]})};D.propTypes={influencer:H.object.isRequired};const Fe=()=>{const u=be(),[t,d]=l.useState([]),p=l.useCallback(async()=>{try{const s=await xe.getCompanies();u()&&d(s)}catch(s){console.error(s)}},[u]);return l.useEffect(()=>{p()},[]),t},Je=[{label:"Job listing",value:"joblisting"},{label:"Review Offers",value:"applicants"},{label:"Invited Influencers",value:"invitedinfluencers"},{label:"Hired",value:"hired"}],Re=u=>{const{jobs:t}=u;Fe();const d=Y(),[p,s]=l.useState("joblisting"),[o,y]=l.useState([]),[b,_]=l.useState([]),[g,a]=l.useState([]),[x,C]=l.useState(0),[v,f]=l.useState(0),[O,m]=l.useState(0),j=JSON.parse(localStorage.getItem("email")),k=()=>{C(0),f(0),m(0)},T=l.useCallback((r,S)=>{s(S)},[]);Q();const w=window.location.pathname.split("/")[window.location.pathname.split("/").length-1],N=t==null?void 0:t.filter(r=>r.id==w),L=()=>{axios.post("/api/update_jobactivity",{jobID:w,isActive:"1"}).then(r=>{dispatch(getJobs(j,1))}).catch(r=>{})};return x<1&&axios.post("/api/get_applicants",{jobID:w,email:j}).then(r=>{y(r.data),C(x+1)}).catch(r=>{}),v<1&&axios.post("/api/get_hired",{jobID:w,email:j}).then(r=>{a(r.data),f(v+1)}).catch(r=>{}),O<1&&axios.post("/api/get_invited",{jobID:w,email:j}).then(r=>{_(r.data),m(O+1)}).catch(r=>{}),n(c,{children:[e(V,{title:"Dashboard: Manage Jobs"}),e(z,{component:"main",sx:{flexGrow:1,py:8},children:n(K,{maxWidth:d.stretch?!1:"xl",children:[e(i,{variant:"h4",children:"Manage Job"}),n(I,{size:"small",sx:{py:3},component:W,href:"/dashboard/jobs",style:{fontSize:14},children:[e(M,{fontSize:"2",children:e(fe,{})}),"Back"]}),e(Z,{order:window.location.pathname.split("/")[window.location.pathname.split("/").length-1],offer:!1}),n("div",{className:"right-parent",children:[e(me,{indicatorColor:"primary",onChange:T,scrollButtons:"auto",textColor:"primary",sx:{py:3},value:p,variant:"scrollable",children:Je.map(r=>e(pe,{className:"custom-tab",sx:{fontSize:18},label:r.label,value:r.value},r.value))}),p=="joblisting"&&n(h,{direction:"row",className:"right-edit",children:[n(h,{direction:"row",children:[e(i,{variant:"text.secondary",sx:{fontSize:16,pt:.8},children:"Close the job"}),e(ge,{checked:!0,onChange:L})]}),e(h,{children:e(I,{className:"right-alone-btn",component:W,href:"/dashboard/jobs/edit/"+w,sx:{fontSize:15},variant:"contained",children:"Edit This Job Listing"})})]}),n(z,{children:[p=="applicants"&&e(c,{children:o==null?void 0:o.map(r=>e(D,{offer:!1,influencer:r.inf,currentTab:r.tab,onRerender:k,invited:"0"},r.id))}),p=="joblisting"&&e(c,{children:N&&N[0]?e(ye,{job:N[0],openBar:!1,active:"all"}):e(c,{})}),p=="hired"&&e(c,{children:g==null?void 0:g.map(r=>e(D,{offer:!1,influencer:r.inf,onRerender:k,currentTab:r.tab,invited:"0"},r.id))}),p=="invitedinfluencers"&&e(c,{children:b.length==0?e(c,{children:e(je,{})}):e(c,{children:b==null?void 0:b.map(r=>e(D,{influencer:r.inf,onRerender:k,currentTab:r.tab,createdAt:r.updated_at,invited:"1",offer:!1},r.id))})})]})]}),e(h,{spacing:4,sx:{mt:4}})]})})]})},Be=u=>({jobs:u.jobs.jobs}),ot=B(Be)(Re);export{ot as default};
