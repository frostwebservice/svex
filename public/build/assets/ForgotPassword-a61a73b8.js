import{c as d,a as c}from"./index.esm-24326440.js";import{r as o,j as r,F as u,d as e,S as h,k as l,l as p,L as g,R as f,p as x,q as S,A as b,C as v,e as y,B as C,s as L}from"./app-99b40063.js";import{u as k}from"./formik.esm-cf710986.js";/* empty css             */import{u as F}from"./use-search-params-c0bd8850.js";import{R}from"./TextfieldStyle-fd3f584c.js";import{C as N}from"./CardHeader-7c66368c.js";const P={email:""},B=d({email:c().email("Must be a valid email").max(255).required("Email is required")}),z=()=>{F().get("returnTo");const[T,t]=o.useState("Send Reset Link"),[m,s]=o.useState(!1),a=k({initialValues:P,validationSchema:B,onSubmit:i=>{localStorage.setItem("email",JSON.stringify(i.email)),s(!0),t("");try{axios.post("/api/send-reset",i).then(n=>{})}catch(n){console.error("Error sending reset",n)}s(!1),t("Send Reset Link")}});return r(u,{children:[e(h,{title:"Forgot Password"}),r("div",{className:"signup-page",children:[e(l,{color:"primary",variant:"h4",sx:{pb:1,fontWeight:"bold",textAlign:"center"},children:"LOGO"}),e(p,{sx:{mb:4},children:r(g,{color:"text.primary",component:f,to:x.auth.auth.signin,sx:{alignItems:"center",display:"inline-flex"},underline:"hover",children:[e(S,{sx:{mr:1},children:e(b,{})}),e(l,{variant:"subtitle2",children:"SignIn"})]})}),r(v,{elevation:16,sx:{borderRadius:2.5},className:"card  px-4 pt-4 pb-3",children:[e(N,{sx:{pb:0},title:"Forgot password",className:"title  smalltitle signup-form-title"}),e(y,{className:"signup-form",children:r("form",{noValidate:!0,onSubmit:a.handleSubmit,children:[e(R,{className:"title-inter mt-4",autoFocus:!0,variant:"filled",style:{marginTop:11},error:!!(a.touched.email&&a.errors.email),fullWidth:!0,helperText:a.touched.email&&a.errors.email,label:"Email Address",name:"email",onBlur:a.handleBlur,onChange:a.handleChange,type:"email",value:a.values.email}),r(C,{fullWidth:!0,size:"large",sx:{mt:2},type:"submit",variant:"contained",children:["Send reset link",m?e(L,{color:"inherit",size:"1.4rem"}):e("span",{})]})]})})]})]})]})};export{z as default};
