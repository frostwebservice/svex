import{c as v,a as u}from"./index.esm-d471220b.js";import{u as C,r as n,b as L,o as N,j as s,F as B,d as a,S as I,l as c,L as k,R as A,q as P,A as T,k as q,C as R,e as j,f as E,B as F,s as z,p as M}from"./app-15d4d073.js";import{u as V}from"./formik.esm-ab0cd2a6.js";import{u as W}from"./use-search-params-94f7ff86.js";import{R as p}from"./TextfieldStyle-85e3882a.js";/* empty css             */import{C as D}from"./CardHeader-9ffdb8c6.js";const X=()=>{const h=v({email:u().email("Must be a valid email").max(255).required("Email is required"),password:u().max(255).required("Password is required")}),o=C(),g=W().get("returnTo"),[f,r]=n.useState(!1),[x,t]=n.useState("Log In"),{signIn:b}=L(),[d,w]=n.useState({email:"",password:"",type:"Admin login"}),y=N(),e=V({initialValues:d,validationSchema:h,onSubmit:l=>{r(!0),t(""),axios.post("/api/admin-signin",l).then(i=>{if(i.data.status===200){w({...d,email:"",password:""}),t("Log In"),r(!1);async function S(){try{await b(l.email,l.password,i.data.data),o()&&y(g||M.dashboard.index)}catch(m){console.error(m),o()&&(helpers.setStatus({success:!1}),helpers.setErrors({submit:m.message}),helpers.setSubmitting(!1))}}S(),t("Log in"),r(!1)}i.data.status==="failed"&&(t("Log In"),r(!1),alert(i.data.message))})}});return s(B,{children:[a(I,{title:"Admin User Login"}),s("div",{className:"signup-page",children:[a(c,{sx:{mb:2},children:s(k,{color:"text.primary",component:A,href:"/Dashboard",sx:{alignItems:"center",display:"inline-flex"},underline:"hover",children:[a(P,{sx:{mr:1},children:a(T,{})}),a(q,{color:"text.primary",variant:"body1",children:"Dashboard"})]})}),s(R,{sx:{borderRadius:2.5},elevation:16,className:"mainCard card  px-4 pt-4 pb-3",children:[a(D,{sx:{pb:0},className:"title  smalltitle signup-form-title",title:"Admin User Login"}),a(j,{className:"signup-form",children:s("form",{noValidate:!0,onSubmit:e.handleSubmit,children:[s(E,{spacing:3,children:[a(p,{className:"title-inter mt-3",variant:"filled",error:!!(e.touched.email&&e.errors.email),fullWidth:!0,helperText:e.touched.email&&e.errors.email,label:"Email Address",name:"email",onBlur:e.handleBlur,onChange:e.handleChange,type:"text",value:e.values.email}),a(p,{className:"title-inter mt-3",variant:"filled",error:!!(e.touched.password&&e.errors.password),fullWidth:!0,helperText:e.touched.password&&e.errors.password,label:"Password",name:"password",autoComplete:"new password",onBlur:e.handleBlur,onChange:e.handleChange,type:"password",value:e.values.password})]}),s(F,{fullWidth:!0,size:"large",sx:{mt:5},type:"submit",color:"primary",variant:"contained",className:"title-inter smallsize mainButton background-blue",children:[s("span",{className:"ml-2",children:[" ",x," "]}),f?a(z,{color:"inherit",size:"2rem"}):a("span",{})]}),a(c,{sx:{display:"flex",justifyContent:"center",mt:3}})]})})]})]})]})};export{X as default};
