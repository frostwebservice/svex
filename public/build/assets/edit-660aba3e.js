import{v as me,r as l,c as he,cq as pe,aT as ge,w as fe,o as be,x as O,$ as d,j as i,F as ye,d as t,S as ve,l as p,aM as Ce,B as k,q as B,f as g,aG as ke,k as f,bs as xe,E as Se,C as Be,e as R,aN as n,T as o,R as we,cw as Te}from"./app-3a5b2ef7.js";import{I as V}from"./Image01-4c3b5399.js";import{F as Ie}from"./file-uploader-3f7a29c8.js";import{C as Ne}from"./Camera01-ad7dc6b0.js";import{G as We,a as Me}from"./minimal-458bb2b7.js";import"./social-post-card-e5c9e065.js";import"./profile-09b7d6c9.js";import{b as H}from"./social-timeline-fc1cecdc.js";import{M as Ae}from"./MultiSelectAll-c38beb90.js";import{u as qe}from"./formik.esm-b85f501c.js";import{c as ze,a as u}from"./index.esm-aa8c4ef8.js";import{C as $}from"./CardHeader-6a69ce29.js";import{A as Fe}from"./Alert-774a825c.js";import"./file-dropzone-ca2528d5.js";import"./tslib.es6-af7906ce.js";import"./Upload01-dbc37183.js";import"./bytes-to-size-706bbf81.js";import"./Clock-ee8063bc.js";import"./Share07-5ef9ec1a.js";import"./index-61fd522b.js";import"./FaceSmile-bfd1f7ad.js";import"./Link01-7dceb3ad.js";import"./Attachment01-470172dc.js";import"./Plus-d10ac536.js";import"./use-mocked-user-2f7e8148.js";import"./get-initials-d1c6cec7.js";import"./CardMedia-5536133a.js";import"./company-jobs-f8d68ca5.js";import"./deep-copy-ee95be26.js";import"./index-d105db9c.js";import"./Users01-4b3f1d99.js";import"./social-post-add-616e8c81.js";import"./isEqual-94097ffd.js";import"./Autocomplete-d798091e.js";import"./Close-1de0c3ea.js";import"./ListSubheader-6111e010.js";import"./Grid-344b5870.js";const Pe=[{label:"Acne and Skin Care",value:"Acne and Skin Care"},{label:"Alcohol",value:"Alcohol"},{label:"Art",value:"Art"},{label:"Baby and Maternity",value:"Baby and Maternity"},{label:"Blockchain and Cryptocurrency",value:"Blockchain and Cryptocurrency"},{label:"Books and Fiction",value:"Books and Fiction"},{label:"Business and Career",value:"Business and Career"},{label:"Cameras, Photography and Videography",value:"Cameras, Photography and Videography"},{label:"Cars and Vehicles",value:"Cars and Vehicles"},{label:"Cooking and Recipes",value:"Cooking and Recipes"},{label:"Crafts and DIY",value:"Crafts and DIY"},{label:"Diet and Weight Loss",value:"Diet and Weight Loss"},{label:"Digital Marketing and Making Money Online",value:"Digital Marketing and Making Money Online"},{label:"Exercise and Fitness",value:"Exercise and Fitness"},{label:"Farming",value:"Farming"},{label:"Gardening and Lawn Care",value:"Gardening and Lawn Care"},{label:"Health",value:"Health"},{label:"Makeup and Beauty",value:"Makeup and Beauty"},{label:"Martial Arts",value:"Martial Arts"},{label:"Music and Instruments",value:"Music and Instruments"},{label:"Outdoors and Hiking",value:"Outdoors and Hiking"},{label:"Pets and Animal Care",value:"Pets and Animal Care"},{label:"Sports",value:"Sports"},{label:"Technology and Gadgets",value:"Technology and Gadgets"},{label:"Travel",value:"Travel"},{label:"Wedding",value:"Wedding"},{label:"OK",value:"OK"}],Ee=b=>{const U=JSON.parse(localStorage.getItem("email")),[w,y]=l.useState(!1),[T,c]=l.useState(!1),[I,K]=l.useState(!1),[x,N]=l.useState(""),j=ze({firstname:u().max(255).required("This field is required"),lastname:u().max(255).required("This field is required"),phonenumber:u().max(255).required("This field is required"),companyname:u().max(255).required("This field is required"),companywebsite:u().max(255).required("This field is required"),budget:u().max(255).required("This field is required"),companyfounded:u().max(255).required("This field is required"),companysize:u().max(255).required("This field is required"),aboutbusiness:u().required("This field is required")}),[s,h]=l.useState({firstname:"",lastname:"",phonenumber:"",companyname:"",companywebsite:"",companylocation:"",budget:"",companyfounded:"",companysize:"",aboutbusiness:"",instagram:"",tiktok:"",youtube:"",facebook:"",twitter:"",pinterest:"",linkedin:"",blogurl:"",email:""});s.email=U;const[W,J]=l.useState("1"),[Y,M]=l.useState(!1),[_,Q]=l.useState([]),X=()=>{M(!1)},e=qe({initialValues:s,enableReinitialize:!0,validationSchema:j,onSubmit:r=>{if(s.companylocation===""||!s.companylocation||s.companylocation===" "||!Z){h({...e.values,companylocation:""}),c(!0),y(!1),N(x+"a");return}r.nichecategory=G,axios.post("/api/edit-profile",r).then(m=>{m.data.status===200&&(h({firstname:"",lastname:"",phonenumber:"",companyname:"",companywebsite:"",companylocation:"",budget:"",companyfounded:"",companysize:"",aboutbusiness:"",instagram:"",tiktok:"",youtube:"",facebook:"",twitter:"",pinterest:"",linkedin:"",blogurl:""}),F("/profile/"+a.firstname+"-"+a.lastname+"-"+a.id)),m.data.status==="failed"&&M(!0)})}});he();const[Z,A]=l.useState(!1),v=pe(),ee=ge(),[ae,q]=l.useState("cover"),{brandinfo:z,userinfo:a}=b,[S,te]=l.useState(0),C=fe(),F=be();l.useEffect(()=>{C(O({email:JSON.parse(localStorage.getItem("email"))}))},[C]);const[P,ne]=l.useState(""),oe=()=>{C(Te({brandID:window.location.pathname.split("/")[3]})),C(O({email:JSON.parse(localStorage.getItem("email"))})),ne(P+"a")},E=()=>{q("avatar"),v.handleOpen()},re=()=>{alert("dsf")};l.useEffect(()=>{let r=document.getElementsByClassName("geoapify-autocomplete-input")[0];if(I&&s.companylocation===""&&(r.setAttribute("required",""),c(!0)),!s.companylocation&&I?c(!0):c(!1),w&&c(!1),S<5&&a){const m=JSON.parse(localStorage.getItem("app.settings")).paletteMode;if(d(".geoapify-autocomplete-input").length>0&&(m=="dark"&&(d(".geoapify-autocomplete-input").addClass("custom-multiselect"),d(".geoapify-close-button").addClass("custom-close")),m=="light"&&(d(".geoapify-autocomplete-input").removeClass("custom-multiselect"),d(".geoapify-close-button").removeClass("custom-close"))),a){let D=[];a.niches.map(L=>{D.push({value:L.niche,label:L.niche})}),Q(D),J(W+"aa")}console.log(S),console.log(a),h({...s,nichecategory:a?G:"",firstname:a?a.firstname:"",lastname:a?a.lastname:"",phonenumber:a?a.phonenumber:"",companyname:a?a.companyname:"",companywebsite:a?a.companywebsite:"",companylocation:a?a.companylocation:"",budget:a?a.budget:"",companyfounded:a?a.companyfounded:"",companysize:a?a.companysize:"",aboutbusiness:a?a.aboutbusiness:"",instagram:a?a.instagram:"",tiktok:a?a.tiktok:"",youtube:a?a.youtube:"",facebook:a?a.facebook:"",twitter:a?a.twitter:"",pinterest:a?a.pinterest:"",linkedin:a?a.linkedin:"",blogurl:a?a.blogurl:""}),a.id!=0&&te(S+1),document.getElementsByClassName("geoapify-autocomplete-input")[0].value=a?a.companylocation:""}window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",m=>le(m.matches?"dark":"light"))});const le=r=>{setMode(r),alert(r==="dark"?"dark":"remove dark")},ie=r=>{A(!0),r!=null?(h({...e.values,companylocation:r.properties.formatted}),c(!1)):(h({...e.values,companylocation:""}),c(!0),y(!1))};d(".geoapify-autocomplete-input").on("focusout",function(){(d(".geoapify-autocomplete-input")[0].value==""||d(".geoapify-autocomplete-input")[0].value==" ")&&(s.companylocation===""||!s.companylocation||s.companylocation===" ")&&(h({...e.values,companylocation:""}),c(!0),y(!1),N(x+"a")),A(!1)});const se=r=>{y(!0),c(!1),K(!0),document.getElementsByClassName("geoapify-autocomplete-input")[0].value==""&&(document.getElementsByClassName("geoapify-autocomplete-input")[0].value=" ")},ce=()=>{document.getElementsByClassName("geoapify-autocomplete-input")[0].click(),document.getElementsByClassName("geoapify-autocomplete-input")[0].focus()},[G,ue]=l.useState([]),de=r=>{ue(r)};return i(ye,{children:[t(ve,{title:"Dashboard: Social Profile"}),t(p,{component:"main",sx:{flexGrow:1,py:8},children:i(Ce,{maxWidth:ee.stretch?!1:"xl",children:[t(p,{style:{backgroundImage:`url(${a.cover_photo?a.cover_photo:"/assets/covers/abstract-1-4x3-large.png"})`},sx:{backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",borderRadius:1,height:421,position:"relative"},children:a&&z&&a.id==a.id?t(k,{onClick:()=>{q("cover"),v.handleOpen()},startIcon:t(B,{children:t(V,{})}),sx:{backgroundColor:H[900],bottom:{lg:24,xs:"auto"},color:"common.white",position:"absolute",right:24,top:{lg:"auto",xs:24},"&:hover":{backgroundColor:H[900]}},variant:"contained",children:"Change Cover"}):""},P),i(g,{alignItems:"center",direction:"row",className:"custom-parent",spacing:2,sx:{mt:4},children:[i(g,{alignItems:"center",direction:"row",className:"custom-avatar",spacing:2,children:[i(p,{sx:{borderRadius:"50%",height:140,width:140,position:"relative"},children:[t(p,{onClick:E,sx:{alignItems:"center",backgroundColor:r=>ke(r.palette.neutral[700],.5),borderRadius:"50%",color:"common.white",cursor:"pointer",display:"flex",height:"100%",justifyContent:"center",left:0,opacity:0,position:"absolute",top:0,width:"100%",zIndex:1,"&:hover":{opacity:1}},children:i(g,{alignItems:"center",direction:"row",spacing:1,children:[t(B,{color:"inherit",children:t(Ne,{})}),t(f,{color:"inherit",variant:"subtitle2",sx:{fontWeight:700},children:"Select"})]})}),t(p,{component:xe,sx:{alignItems:"center",display:"flex",borderWidth:2,borderStyle:"solid",borderColor:"divider",height:140,width:140,borderRadius:"50%"},children:t(Se,{onClick:E,src:a.avatar?a.avatar:`https://ui-avatars.com/api/?name=${a.companyname}&background=2970FF&color=fff&rounded=true`,sx:{height:130,width:130},style:{cursor:"pointer"}})})]}),i("div",{className:"brand-info",children:[t(f,{color:"primary",variant:"h6",style:{fontSize:22},children:a?a.fullname:""}),i(f,{color:"text.secondary",className:"font-inter",variant:"subtitle2",style:{fontSize:12,fontWeight:600,marginTop:4},children:["Established since ",a?a.companyfounded:""]}),t(f,{color:"text.secondary",className:"font-inter location-pointer",variant:"overline",style:{fontSize:12,marginTop:17}}),t(f,{color:"primary",variant:"overline",className:"font-inter",style:{fontSize:13},children:a?a.companylocation:""})]})]}),t(p,{sx:{flexGrow:1}}),a&&z&&a.id===a.id?t(g,{alignItems:"center",direction:"row",spacing:2,className:"button-bar",sx:{display:{md:"block"}},children:t(k,{size:"small",className:"social-btn",startIcon:t(B,{children:t(V,{})}),onClick:()=>{F("/profile/"+a.firstname+"-"+a.lastname+"-"+a.id)},variant:"contained",children:"View Profile"})}):""]}),t(g,{spacing:4,sx:{mt:10},children:t("form",{onSubmit:e.handleSubmit,children:i(Be,{children:[t($,{title:"General Business Information"}),t(R,{sx:{pt:0},children:i(n,{container:!0,spacing:3,children:[t(n,{xs:12,md:6,children:t(o,{error:!!(e.touched.firstname&&e.errors.firstname),fullWidth:!0,helperText:e.touched.firstname&&e.errors.firstname,label:"First name",name:"firstname",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.firstname})}),t(n,{xs:12,md:6,children:t(o,{error:!!(e.touched.lastname&&e.errors.lastname),fullWidth:!0,helperText:e.touched.lastname&&e.errors.lastname,label:"Last name",name:"lastname",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.lastname})}),t(n,{xs:12,md:6,children:t(o,{error:!!(e.touched.phonenumber&&e.errors.phonenumber),fullWidth:!0,helperText:e.touched.phonenumber&&e.errors.phonenumber,label:"Phone number",name:"phonenumber",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.phonenumber})}),t(n,{xs:12,md:6,children:t(o,{error:!!(e.touched.companyname&&e.errors.companyname),fullWidth:!0,helperText:e.touched.companyname&&e.errors.companyname,label:"Company name",name:"companyname",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.companyname})}),t(n,{xs:12,md:6,children:t(o,{error:!!(e.touched.companywebsite&&e.errors.companywebsite),fullWidth:!0,helperText:e.touched.companywebsite&&e.errors.companywebsite,label:"Company website",name:"companywebsite",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.companywebsite})}),t(n,{xs:12,md:6,children:t(o,{error:!!(e.touched.companyfounded&&e.errors.companyfounded),fullWidth:!0,helperText:e.touched.companyfounded&&e.errors.companyfounded,label:"Company founded",name:"companyfounded",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.companyfounded})}),t(n,{xs:12,md:6,children:t("div",{className:"p-2 location-bar",style:{position:"relative"},children:i(We,{apiKey:"1040c1c2e3e34b3b80b351a587232b75",children:[t(Me,{placeholder:" ",onUserInput:se,placeSelect:ie,className:"sfsdf"},x),t("div",{onLoad:re,onClick:ce,className:`${w||a.companylocation&&s.companylocation!=""?"location-placeholder-top":"location-placeholder-general"} ${T?"location-placeholder-error":""}`,children:"Company Location"}),T?t("div",{className:"location-error",children:"Invalid address"}):""]})})}),i(n,{xs:12,md:6,children:[t(n,{item:!0,xs:12,sx:{p:0},children:t(Ae,{sx:{maxheight:"700px"},items:Pe,selectAllLabel:"Select All",value:_,placeholder:"sss",onChange:de},W)}),Y&&t(Fe,{severity:"info",onClose:X,children:"Niche category field should not over 5 items"})]}),t(n,{xs:12,md:6,children:t(o,{error:!!(e.touched.budget&&e.errors.budget),fullWidth:!0,helperText:e.touched.budget&&e.errors.budget,label:"Budget",name:"budget",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.budget})}),t(n,{xs:12,md:6,children:t(o,{error:!!(e.touched.companysize&&e.errors.companysize),fullWidth:!0,helperText:e.touched.companysize&&e.errors.companysize,label:"Company Size",name:"companysize",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.companysize})}),t(n,{xs:12,md:12,children:t(o,{label:"Bio",className:"title-inter ",name:"aboutbusiness",variant:"filled",multiline:!0,inputProps:{style:{height:"110px"}},fullWidth:!0,style:{marginTop:11},error:!!(e.touched.aboutbusiness&&e.errors.aboutbusiness),onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.aboutbusiness,helperText:"Describe your influencer marketing goals and ambitions using SocialVex"})})]})}),t($,{title:"Social Media Handles"}),t(R,{sx:{pt:0},children:i(n,{container:!0,spacing:3,children:[t(n,{xs:12,md:6,children:t(o,{error:!!(e.touched.instagram&&e.errors.instagram),fullWidth:!0,helperText:e.touched.instagram&&e.errors.instagram,label:"Instagram handle",name:"instagram",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.instagram})}),t(n,{xs:12,md:6,children:t(o,{error:!!(e.touched.tiktok&&e.errors.tiktok),fullWidth:!0,helperText:e.touched.tiktok&&e.errors.tiktok,label:"Tiktok handle",name:"tiktok",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.tiktok})}),t(n,{xs:12,md:6,children:t(o,{error:!!(e.touched.youtube&&e.errors.youtube),fullWidth:!0,helperText:e.touched.youtube&&e.errors.youtube,label:"Youtube handle",name:"youtube",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.youtube})}),t(n,{xs:12,md:6,children:t(o,{error:!!(e.touched.facebook&&e.errors.facebook),fullWidth:!0,helperText:e.touched.facebook&&e.errors.facebook,label:"Facebook handle",name:"facebook",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.facebook})}),t(n,{xs:12,md:6,children:t(o,{error:!!(e.touched.twitter&&e.errors.twitter),fullWidth:!0,helperText:e.touched.twitter&&e.errors.twitter,label:"Twitter handle",name:"twitter",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.twitter})}),t(n,{xs:12,md:6,children:t(o,{error:!!(e.touched.pinterest&&e.errors.pinterest),fullWidth:!0,helperText:e.touched.pinterest&&e.errors.pinterest,label:"Pinterest handle",name:"pinterest",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.pinterest})}),t(n,{xs:12,md:6,children:t(o,{error:!!(e.touched.linkedin&&e.errors.linkedin),fullWidth:!0,helperText:e.touched.linkedin&&e.errors.linkedin,label:"Linkedin handle",name:"linkedin",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.linkedin})}),t(n,{xs:12,md:6,children:t(o,{error:!!(e.touched.blogurl&&e.errors.blogurl),fullWidth:!0,helperText:e.touched.blogurl&&e.errors.blogurl,label:"Blog URL",name:"blogurl",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.blogurl})})]})}),i(g,{direction:{xs:"column",sm:"row"},flexWrap:"wrap",spacing:3,sx:{p:3},children:[t(k,{type:"submit",variant:"contained",children:"Update"}),t(k,{color:"inherit",component:we,href:"/profile/"+a.firstname+"-"+a.lastname+"-"+a.id,children:"Cancel"})]})]})})})]})}),t(Ie,{onClose:v.handleClose,open:v.open,onUpgrade:oe,kind:ae})]})},Ge=b=>({brandinfo:b.profile.brandinfo,userinfo:b.profile.userinfo}),ka=me(Ge)(Ee);export{ka as default};
