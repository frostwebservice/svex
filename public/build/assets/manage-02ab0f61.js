import{w as R,d as e,C as B,j as n,f as p,k as i,B as _,R as A,F as m,P as $,S as V,l as W,aL as K,q as D,aN as re,M as ae,N as ie,O as se,r as c,D as oe,aw as U,cp as le,aZ as ce,a_ as L,b3 as F,a$ as E,aS as Y,o as X,c as Q,bM as de,c2 as he,bO as ue,x as Z,c8 as me,e as pe,G as fe,L as ge,aM as P,c4 as H,cf as be,cg as xe,A as ye,bk as ve,bl as Se,bp as we,u as Ce}from"./app-7fcd7513.js";import{j as Ie}from"./index-a1e3dcfd.js";import"./company-jobs-eec0c000.js";import{J as Ne}from"./company-card-650dfa9f.js";import{M as je}from"./mail-163c8b15.js";import"./multi-select-788d973d.js";import{g as _e}from"./get-initials-d1c6cec7.js";import{H as q}from"./Heart-2a5232ed.js";/* empty css               */import"./index-5aa78b45.js";import"./index-7110dfb0.js";import"./index-f3ffad46.js";import"./index-2ef7f887.js";import"./Users01-ffd294e3.js";import"./Attachment01-ecbc7d9d.js";import"./quill-editor-ae4b60a2.js";import"./isEqual-0049ca97.js";import"./index-c132a56f.js";import"./file-dropzone-6047091a.js";import"./tslib.es6-af7906ce.js";import"./Upload01-1e3ebce3.js";import"./bytes-to-size-706bbf81.js";const ke=f=>{var b,u,I,T,l;const{jobs:t,order:d,offer:h,...o}=f,r=t==null?void 0:t.filter(g=>g.id==d),C=()=>{if(r&&r[0])return r[0].barter?"Barter":r[0].revenue?"Revenue":r[0].custom?"Custom":"Paid"},S=()=>{if(r&&r[0])return r[0].barter?r[0].barter:r[0].revenue?r[0].revenue:r[0].custom?r[0].custom:r[0].paid},k=(g,M)=>{var w=Math.floor((new Date(M)-new Date(g).getTime())/1e3),a=w/31536e3;return a>1?Math.floor(a)+" years":(a=w/2592e3,a>1?Math.floor(a)+" months":(a=w/86400,a>1?Math.floor(a)+" days":(a=w/3600,a>1?Math.floor(a)+" hours":(a=w/60,a>1?Math.floor(a)+" minutes":Math.floor(w)+" seconds"))))};return e(B,{variant:"outlined",...o,children:n(p,{sx:{py:1},alignItems:"flex-start",direction:"row",justifyContent:"space-between",children:[n(p,{children:[e(p,{alignItems:"flex-start",direction:"row",flexWrap:"wrap",justifyContent:"space-between",sx:{px:2,py:1},children:e(i,{variant:"subtitle1",sx:{fontSize:16},children:r&&((b=r[0])==null?void 0:b.title)})}),n(p,{alignItems:"flex-start",direction:"row",flexWrap:"wrap",sx:{px:2,pb:1.5},children:[e(i,{color:"text.secondary",variant:"caption",sx:{lineHeight:2},children:"Status • Actively Hiring"}),n(i,{color:"text.secondary",style:{marginLeft:40},sx:{lineHeight:2},variant:"caption",children:["Number of applicants • ",r&&((u=r[0])==null?void 0:u.cnt)]}),n(i,{color:"text.secondary",style:{marginLeft:40},variant:"caption",sx:{lineHeight:2},children:["Budget • ",S()]}),n(i,{color:"text.secondary",style:{marginLeft:40},sx:{lineHeight:2},variant:"caption",children:["Job type •"," ",r&&((I=r[0])==null?void 0:I.shoutoutonly)=="shoutoutonly"?"Shoutout Only":"Content creation & Shoutouts"]}),n(i,{sx:{lineHeight:2},color:"text.secondary",style:{marginLeft:40},variant:"caption",children:["Payment type • ",C()]})]})]}),n(p,{alignItems:"center",verticalAlign:"center",direction:"row",spacing:2,sx:{margin:"auto 35px"},children:[n(i,{color:"text.secondary",variant:"caption",style:{fontSize:12,minWidth:100},children:[k(r&&((T=r[0])==null?void 0:T.created_at),r&&((l=r[0])==null?void 0:l.time))," ago"]}),h?e(_,{className:"right-alone-btn",component:A,href:"/dashboard/jobs/",sx:{fontSize:15},children:"View"}):e(m,{})]})]})})},Te=f=>({jobs:f.jobs.jobs}),ee=R(Te)(ke);$.object.isRequired;const ze=()=>n(m,{children:[e(V,{title:"Error: Server Error"}),e(W,{component:"main",sx:{alignItems:"center",display:"flex",flexGrow:1,py:"80px"},children:n(K,{maxWidth:"lg",children:[e(W,{sx:{display:"flex",justifyContent:"center",mb:6},children:e(W,{alt:"Internal server error",component:"img",src:"/assets/errors/empty.png",sx:{height:"auto",maxWidth:"100%",width:145}})}),e(i,{align:"center",sx:{fontWeight:700,fontSize:28},children:"There are no influencers invited yet!"}),e(i,{align:"center",color:"text.secondary",sx:{mt:.5,fontSize:16},children:"Tap below to create an outreach group"}),e(W,{sx:{display:"flex",justifyContent:"center",mt:2},children:e(_,{endIcon:e(D,{children:e(re,{})}),component:A,variant:"contained",href:"/inf-finder/new-group",children:"Create Outreach Group"})})]})})]});var G={},Me=ie;Object.defineProperty(G,"__esModule",{value:!0});var te=G.default=void 0,Oe=Me(ae()),We=se,De=(0,Oe.default)((0,We.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");te=G.default=De;const Ae=f=>{const{followers:t,engagement:d,invited:h,influencer:o,offer:r=!1,createdAt:C,category:S,...k}=f,[b,u]=c.useState(null),I=!!b,T=I?"simple-popover":void 0,l=a=>{u(a.currentTarget)},g=()=>{u(null)},M=a=>{var y;let z=(y=a==null?void 0:a.category_niche)==null?void 0:y.includes("[");if(z){if(z){let v=a&&a.category_niche?a.category_niche:"";return v=v.replace("[","").replace("]",""),v=v.split(","),v.map(N=>n("div",{className:"profile-niche",children:[" ",N.replace(/"/g,"")]},N))}}else return a&&a.category_niche?n("div",{className:"profile-niche",children:[" ",a.category_niche]},a.category_niche):e(m,{})};return e(B,{variant:"outlined",...k,children:e(p,{divider:e(oe,{}),children:n(p,{alignItems:"center",direction:"row",justifyContent:"space-between",flexWrap:"wrap",sx:{px:1,py:1},children:[n(p,{alignItems:"center",direction:"row",justifyContent:"space-between",flexWrap:"wrap",sx:{px:2},children:[n(p,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{mr:10},children:[e(i,{color:"text.primary",noWrap:!0,sx:{fontSize:14,fontWeight:600},children:t}),e(i,{color:"text.secondary",noWrap:!0,sx:{fontSize:12},style:{marginTop:0},children:"Followers"})]}),n(p,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{mr:10},children:[e(i,{color:"text.primary",noWrap:!0,sx:{fontSize:14,fontWeight:600},children:d}),e(i,{color:"text.secondary",noWrap:!0,style:{marginTop:0},sx:{fontSize:12},children:"Engagement rate"})]}),n(p,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{mr:10},children:[e(i,{color:"text.primary",noWrap:!0,sx:{fontSize:14,fontWeight:600},children:"Categories"}),e(i,{color:"text.secondary",style:{marginTop:0},noWrap:!0,sx:{fontSize:12},children:(a=>{let z=a.includes("[");if(z){if(z){let y=a||"";return y=y.replace("[","").replace("]",""),y=y.split(","),y.map(O=>O.replace(/"/g,"")+"  ")}}else return a})(S)})]}),h=="1"?n(p,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{mr:10},children:[e(i,{color:"text.primary",noWrap:!0,variant:"overline",sx:{fontSize:14,fontWeight:600},children:[new Date(C).getMonth()+1,new Date(C).getDate(),new Date(C).getFullYear()].join("/")}),e(i,{color:"text.secondary",style:{marginTop:0},noWrap:!0,sx:{fontSize:12},children:"Invited Date"})]}):e(m,{})]}),r?e(m,{}):n(p,{justifyContent:"flex-end",spacing:2,direction:{xs:"column",sm:"column",md:"column"},sx:{px:2,py:1.5},children:[n(i,{color:"#2ECC71",noWrap:!0,sx:{fontSize:14},children:["Quick View Profile",e(U,{style:{border:"1px solid #2ECC71",padding:"0",marginLeft:7},onClick:a=>l(a),"aria-describedby":T,children:e(D,{fontSize:"small",children:e(te,{style:{color:"#2ECC71"}})})})]}),e(le,{id:T,open:I,anchorEl:b,onClose:g,transformOrigin:{horizontal:"right"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:n(ce,{children:[n(L,{disableGutters:!0,divider:!0,className:"custom-item",children:[e(F,{children:e("div",{className:"global-icon"})}),e(E,{disableTypography:!0,primary:e(i,{variant:"subtitle2",className:"about-list-font",children:o?"Language: "+o.language.charAt(0).toUpperCase()+o.language.slice(1):""})})]}),n(L,{className:"custom-item",disableGutters:!0,divider:!0,children:[e(F,{children:e("div",{className:"male-icon"})}),e(E,{disableTypography:!0,primary:e(i,{variant:"subtitle2",className:"about-list-font",children:o?"Gender: "+o.gender.charAt(0).toUpperCase()+o.gender.slice(1):""})})]}),n(L,{className:"custom-item",disableGutters:!0,divider:!0,children:[e(F,{children:e("div",{className:"age-icon"})}),e(E,{disableTypography:!0,primary:e(i,{variant:"subtitle2",className:"about-list-font",children:o?"Age: "+o.age:""})})]}),n(L,{className:"custom-item",disableGutters:!0,children:[e(F,{children:e("div",{className:"ethnicity-icon"})}),e(E,{disableTypography:!0,primary:e(i,{variant:"subtitle2",className:"about-list-font",children:o?"Ethnicity: "+o.ethnicity:""})})]}),e(i,{variant:"subtitle2",sx:{fontSize:18,fontWeight:600,paddingLeft:"20px",py:3},children:"Niche"}),M(o)]})})]})]})})})};const Je=f=>{const{jobs:t,onClose:d,influencer:h,onRerender:o,currentTab:r,open:C=!1}=f;Y(),X(),c.useState([]),c.useState(0),JSON.parse(localStorage.getItem("email")),Q();const S=window.location.pathname.split("/")[window.location.pathname.split("/").length-1];return t==null||t.filter(b=>b.id==S),n(de,{fullWidth:!0,maxWidth:"lg",open:C,onClose:d,children:[n(p,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:3,sx:{px:3,py:2},children:[e(i,{variant:"h6",children:"Job Offer"}),e(U,{color:"inherit",onClick:d,children:e(D,{children:e(he,{})})})]}),e(p,{alignItems:"flex-end",justifyContent:"space-between",sx:{mr:3,px:3},children:e(_,{size:"small",sx:{width:200},className:"right-btn",variant:"contained",onClick:()=>{axios.post("/api/hire_inf",{inf_id:h.id,job_id:S,tab:r}).then(b=>{d(),o()})},children:"Hire This Influencer"})}),n(ue,{children:[e(ee,{order:window.location.pathname.split("/")[window.location.pathname.split("/").length-1],offer:!0}),e(W,{children:e(J,{influencer:h,currentTab:r,invited:"0",offer:!0})})]})]})},Le=f=>({jobs:f.jobs.jobs}),Fe=R(Le)(Je),Ee=()=>{const f={isFullScreen:!1,isOpen:!1,message:"",subject:"",to:"",loading:!1,data:new FormData},t=Z(),[d,h]=c.useState(f),o=c.useCallback(()=>{h(l=>({...l,isOpen:!0}))},[]),r=c.useCallback(()=>{h(f)},[]),C=c.useCallback(()=>{h(l=>({...l,isFullScreen:!0}))},[]),S=c.useCallback(()=>{h(l=>({...l,isFullScreen:!1}))},[]),k=c.useCallback(l=>{h(g=>({...g,data:l}))},[]),b=c.useCallback(l=>{h(g=>({...g,message:l}))},[]),u=c.useCallback(l=>{h(g=>({...g,subject:l}))},[]),I=c.useCallback(l=>{h(g=>({...g,to:l}))},[]);return{...d,handleClose:r,handleMaximize:C,handleMessageChange:b,handleMinimize:S,handleSubmit:()=>{h(l=>({...l,loading:!0})),d.data.append("to",d.to),d.data.append("subject",d.subject),d.data.append("message",d.message),d.data.append("email",JSON.parse(localStorage.getItem("email"))),axios.post("/api/send_mail",d.data,{}).then(l=>{h(g=>({...g,loading:!1,subject:"",to:"",message:"",isOpen:!1,data:new FormData})),xe.success("Message Sent Successfuly."),t(thunks.getEmails({label:useSearchParams().get("label")||"inbox",email:JSON.parse(localStorage.getItem("email"))}))}).catch(l=>{})},handleOpen:o,handleAttach:k,handleSubjectChange:u,handleToChange:I}},J=f=>{const{influencer:t,currentTab:d,invited:h,offer:o,onRerender:r=null,createdAt:C,...S}=f;X();const[k,b]=c.useState(t.liked==1),u=Ee(),I=Z(),[T,l]=c.useState({}),[g,M]=c.useState(""),w=me();c.useEffect(()=>{b(t.liked==1)},[t]);const a=()=>{b(!0);let x={email:JSON.parse(localStorage.getItem("email")),tab:d,inf_id:t.id,liked:"1"};axios.post("/api/handle_like",x).then(j=>{j.data.status})},z=()=>{b(!1);let x={email:JSON.parse(localStorage.getItem("email")),tab:d,inf_id:t.id,liked:"0"};axios.post("/api/handle_like",x).then(j=>{j.data.status===200&&I(be({email:JSON.parse(localStorage.getItem("email"))}))})},y=x=>Number(x)<=1?Number(x).toFixed(2)+"%":O(Number(x).toFixed(1)).replace(".0","")+"%",v=[{divider:1e18,suffix:"E"},{divider:1e15,suffix:"P"},{divider:1e12,suffix:"T"},{divider:1e9,suffix:"G"},{divider:1e6,suffix:"M"},{divider:1e3,suffix:"K"}],O=x=>{for(var j=0;j<v.length;j++)if(x>=v[j].divider)return Number(x/v[j].divider).toFixed(1).toString().replace(".0","")+v[j].suffix;return x.toString()},N=()=>{l(t),M(d),w.handleOpen()};return n(m,{children:[e(B,{...S,style:{marginTop:30,marginBottom:30},children:n(pe,{children:[n(p,{alignItems:"center",direction:"row",flexWrap:"wrap",justifyContent:"space-between",sx:{px:2,py:1.5},children:[n(p,{alignItems:"flex-start",spacing:2,direction:{xs:"column",sm:"row"},children:[e(fe,{component:A,href:"/profile/inf/"+t.full_name,src:t.profile_pic_url_hd?t.profile_pic_url_hd:`https://ui-avatars.com/api/?name=${t.full_name?t.full_name:""}&background=2970FF&color=fff&rounded=true`,target:"_blank",sx:{width:74,height:74},children:_e(t.username)}),n("div",{children:[e(ge,{target:"_blank",color:"#2970FF",component:A,href:"/profile/inf/"+t.username,variant:"h6",style:{fontSize:18},children:t.username}),t.verified&&t.verified==1||t.verified&&t.verified==1?e("div",{className:"verified-image"}):"",e(i,{sx:{color:"text.primary"},style:{fontSize:14},children:t.full_name}),e(i,{color:"text.secondary",className:"font-inter location-pointer",variant:"overline",style:{fontSize:12,marginTop:17}}),e(i,{color:"primary",variant:"overline",style:{fontSize:10},children:t.city+", "+t.Country})]}),e("div",{className:"custom-reach",children:n(P,{container:!0,children:[n(P,{item:!0,sx:{color:"#2970FF",fontSize:"11px",fontWeight:300,pl:1,pr:1,pt:.5,pb:.5},children:[e("div",{children:"Reach"}),e("div",{style:{fontSize:"16px",fontWeight:700},children:O(t.follower_count?t.follower_count:t.subscribers)})]}),e(P,{item:!0,style:{display:"flex",alignItems:"center",margin:"0 auto"},children:e("div",{className:"reach-arrow"})})]})})]}),e(p,{alignItems:"center",direction:"row",className:"custom-right",spacing:2,children:k?n(m,{children:[o?e(m,{}):n(m,{children:[e(_,{onClick:z,className:"right-btn",startIcon:e(D,{sx:{transform:"scale(1.8)",color:"error.main","& path":{fill:x=>x.palette.error.main,fillOpacity:1}},children:e(q,{})})}),e(_,{onClick:N,sx:{color:"text.primary"},size:"small",className:"right-btn",startIcon:e(m,{children:e("img",{src:"/assets/icons/Glyph.png"})}),variant:"outlined",children:"View Offer"})]}),e(_,{onClick:u.handleOpen,size:"small",className:"right-btn",startIcon:e(D,{children:e(H,{})}),variant:"contained",children:"View Messages"})]}):n(m,{children:[o?e(m,{}):n(m,{children:[e(_,{onClick:a,className:"right-btn",startIcon:e(D,{sx:{transform:"scale(1.8)"},children:e(q,{})})}),e(_,{onClick:N,size:"small",className:"right-btn",startIcon:e(m,{children:e("img",{src:"/assets/icons/Glyph.png"})}),variant:"outlined",children:"View Offer"})]}),e(_,{onClick:u.handleOpen,size:"small",className:"right-btn",startIcon:e(D,{children:e(H,{})}),variant:"contained",children:"View Messages"})]})})]}),e(W,{sx:{mt:2},children:e(Ae,{engagement:y(t.engagement_rate),followers:O(t.follower_count?t.follower_count:t.subscribers),category:t.category_niche,createdAt:C,invited:h,influencer:t,offer:o})}),o?e(m,{children:n(p,{sx:{mt:5},children:[e(i,{variant:"h6",children:"Job Proposal"}),e(i,{sx:{mt:4},children:"Dear [Brand Name], I hope this letter finds you well. My name is [Your Name], and I am an experienced and passionate influencer in the [niche/industry]. I recently came across the job posting for a collaboration opportunity on your brand's social media channels, and I am thrilled to express my interest in working with your esteemed brand. Allow me to introduce myself and my work briefly. I have [X years/months] of experience as an influencer, and during this time, I have built a loyal and engaged following of [number of followers] across various social media platforms, including Instagram, YouTube, and TikTok. My content focuses on [specific niche/industry] and resonates with my audience, resulting in high levels of engagement and brand awareness. I have had the pleasure of partnering with several renowned brands in the past, including [mention notable brand collaborations], and have consistently delivered exceptional results. I believe that collaborating with your brand would be a perfect fit, as your products/services align closely with my audience's interests and preferences."})]})}):e(m,{})]})}),e(je,{maximize:u.isFullScreen,message:u.message,onClose:u.handleClose,onMessageChange:u.handleMessageChange,onMinimize:u.handleMinimize,onSubjectChange:u.handleSubjectChange,onSubmit:u.handleSubmit,onAttach:u.handleAttach,onToChange:u.handleToChange,open:u.isOpen,subject:u.subject,loading:u.loading,to:u.to,avatar:t.profile_pic_url_hd,defaultTo:t.public_email}),e(Fe,{influencer:T,currentTab:g,onClose:w.handleClose,open:w.open,onRerender:r})]})};J.propTypes={influencer:$.object.isRequired};const Pe=()=>{const f=Ce(),[t,d]=c.useState([]),h=c.useCallback(async()=>{try{const o=await Ie.getCompanies();f()&&d(o)}catch(o){console.error(o)}},[f]);return c.useEffect(()=>{h()},[]),t},Re=[{label:"Job listing",value:"joblisting"},{label:"Review Offers",value:"applicants"},{label:"Invited Influencers",value:"invitedinfluencers"},{label:"Hired",value:"hired"}],Be=f=>{let t={time:new Date().getTime(),value:"email",expire:3e6},d=JSON.stringify(t);localStorage.setItem("time_token",d);const{jobs:h}=f;Pe();const o=Y(),[r,C]=c.useState("joblisting"),[S,k]=c.useState([]),[b,u]=c.useState([]),[I,T]=c.useState([]),[l,g]=c.useState(0),[M,w]=c.useState(0),[a,z]=c.useState(0),y=JSON.parse(localStorage.getItem("email")),v=()=>{g(0),w(0),z(0)},O=c.useCallback((s,ne)=>{C(ne)},[]);Q();const N=window.location.pathname.split("/")[window.location.pathname.split("/").length-1],x=h==null?void 0:h.filter(s=>s.id==N),j=()=>{axios.post("/api/update_jobactivity",{jobID:N,isActive:"1"}).then(s=>{dispatch(getJobs(y,1))}).catch(s=>{})};return l<1&&axios.post("/api/get_applicants",{jobID:N,email:y}).then(s=>{k(s.data),g(l+1)}).catch(s=>{}),M<1&&axios.post("/api/get_hired",{jobID:N,email:y}).then(s=>{T(s.data),w(M+1)}).catch(s=>{}),a<1&&axios.post("/api/get_invited",{jobID:N,email:y}).then(s=>{u(s.data),z(a+1)}).catch(s=>{}),n(m,{children:[e(V,{title:"Dashboard: Manage Jobs"}),e(W,{component:"main",sx:{flexGrow:1,py:8},children:n(K,{maxWidth:o.stretch?!1:"xl",children:[e(i,{variant:"h4",children:"Manage Job"}),n(_,{size:"small",sx:{py:3},component:A,href:"/dashboard/jobs",style:{fontSize:14},children:[e(D,{fontSize:"2",children:e(ye,{})}),"Back"]}),e(ee,{order:window.location.pathname.split("/")[window.location.pathname.split("/").length-1],offer:!1}),n("div",{className:"right-parent",children:[e(ve,{indicatorColor:"primary",onChange:O,scrollButtons:"auto",textColor:"primary",sx:{py:3},value:r,variant:"scrollable",children:Re.map(s=>e(Se,{className:"custom-tab",sx:{fontSize:18},label:s.label,value:s.value},s.value))}),r=="joblisting"&&n(p,{direction:"row",className:"right-edit",children:[n(p,{direction:"row",children:[e(i,{variant:"text.secondary",sx:{fontSize:16,pt:.8},children:"Close the job"}),e(we,{checked:!0,onChange:j})]}),e(p,{children:e(_,{className:"right-alone-btn",component:A,href:"/dashboard/jobs/edit/"+N,sx:{fontSize:15},variant:"contained",children:"Edit This Job Listing"})})]}),n(W,{children:[r=="applicants"&&e(m,{children:S==null?void 0:S.map(s=>e(J,{offer:!1,influencer:s.inf,currentTab:s.tab,onRerender:v,invited:"0"},s.id))}),r=="joblisting"&&e(m,{children:x&&x[0]?e(Ne,{job:x[0],openBar:!1,active:"all"}):e(m,{})}),r=="hired"&&e(m,{children:I==null?void 0:I.map(s=>e(J,{offer:!1,influencer:s.inf,onRerender:v,currentTab:s.tab,invited:"0"},s.id))}),r=="invitedinfluencers"&&e(m,{children:b.length==0?e(m,{children:e(ze,{})}):e(m,{children:b==null?void 0:b.map(s=>e(J,{influencer:s.inf,onRerender:v,currentTab:s.tab,createdAt:s.updated_at,invited:"1",offer:!1},s.id))})})]})]}),e(p,{spacing:4,sx:{mt:4}})]})})]})},Ge=f=>({jobs:f.jobs.jobs}),ut=R(Ge)(Be);export{ut as default};
