import{w as j,x as J,r as k,ct as z,j as n,bM as D,f as a,d as t,k as d,aw as M,q as T,c2 as B,bO as P,l as p,C as f,D as u,cu as W,B as m,F,ch as L}from"./app-44019970.js";const G=l=>{const{onClose:c,userinfo:O,jobs:o,currentTab:x="",infID:g=0,groupID:v=0,order:y=0,isGroup:b=!1,open:w=!1,...q}=l,C=J(),h=JSON.parse(localStorage.getItem("email"));k.useEffect(()=>{C(z(h,1))},[]);const S=(e,r)=>{var s=Math.floor((new Date(r)-new Date(e).getTime())/1e3),i=s/31536e3;return i>1?Math.floor(i)+" years":(i=s/2592e3,i>1?Math.floor(i)+" months":(i=s/86400,i>1?Math.floor(i)+" days":(i=s/3600,i>1?Math.floor(i)+" hours":(i=s/60,i>1?Math.floor(i)+" minutes":Math.floor(s)+" seconds"))))},I=e=>{axios.post("/api/invite_influencer",{job_id:e,inf_id:g,tab:x}).then(r=>{L.success("Invited to project successfuly!"),c()}).catch(r=>{})},_=e=>{y!="0"?axios.post("/api/invite_group",{job_id:e,group_id:v}).then(r=>{c()}).catch(r=>{}):axios.post("/api/invite_group",{job_id:e,email:h,group_id:0}).then(r=>{c()}).catch(r=>{})};return n(D,{fullWidth:!0,maxWidth:"md",open:w,onClose:c,children:[n(a,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:3,sx:{px:3,py:2},children:[t(d,{variant:"h6",children:"Select a Job"}),t(M,{color:"inherit",onClick:c,children:t(T,{children:t(B,{})})})]}),t(P,{children:n(p,{sx:{mt:2},children:[(o==null?void 0:o.filter(e=>e.is_active=="1").length)==0&&t(f,{sx:{mb:3},children:t(a,{divider:t(u,{}),children:t(a,{alignItems:"flex-start",direction:"row",flexWrap:"wrap",justifyContent:"space-between",sx:{px:2,py:1.5},children:t(a,{alignItems:"center",direction:"row",spacing:2,children:n(p,{component:"span",sx:{flexGrow:1,fontFamily:e=>e.typography.fontFamily,fontSize:14,fontWeight:600,ml:1},children:["There are no active jobs. Please click this link if you want to create a new job.",t(W,{style:{marginLeft:9},to:"/dashboard/jobs/create",underline:"always",children:"Create a Job"})]})})})})}),o==null?void 0:o.map(e=>e.is_active=="1"?t(f,{sx:{mb:3},children:n(a,{divider:t(u,{}),children:[n(a,{alignItems:"flex-start",direction:"row",flexWrap:"wrap",justifyContent:"space-between",sx:{px:2,pt:2},children:[n(d,{variant:"subtitle1",sx:{fontSize:16},children:["Job Title: ",e.title]}),n(a,{alignItems:"center",direction:"row",spacing:2,children:[n(d,{color:"text.secondary",variant:"caption",style:{fontSize:12},children:[S(e.created_at,e.time)," ago"]}),b?t(m,{onClick:()=>_(e.id),variant:"contained",size:"small",style:{fontSize:14},children:"Invite To this Project"}):t(m,{onClick:()=>I(e.id),variant:"contained",size:"small",style:{fontSize:14},children:"Invite To this Project"})]})]}),n(d,{variant:"inherit",sx:{fontSize:14,px:2,pb:2},children:["Job Brief: ",e.brief]})]})}):t(F,{}))]})})]})},E=l=>({userinfo:l.profile.userinfo,jobs:l.jobs.jobs}),X=j(E)(G);export{X as J};
