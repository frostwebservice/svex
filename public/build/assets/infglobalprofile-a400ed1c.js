import{v as Q,r as t,w as j,o as F,cv as R,c as A,j as o,F as b,d as e,S as H,l as u,aL as O,B as l,q as d,f as h,E as W,k as p,R as S,p as N,b$ as x,bi as $,bj as J,D as U,u as g}from"./app-21956035.js";import{I as V}from"./Image01-7a19c7ce.js";import{H as I}from"./Share07-f750a10f.js";import{E as K}from"./Edit02-7fd0556e.js";import{s as k}from"./index-2d35a47d.js";import{S as X}from"./profile-1a3445d3.js";import{b as P,S as Y}from"./social-timeline-b5de62a2.js";import"./deep-copy-ee95be26.js";import"./social-post-card-890cd6ee.js";import"./Clock-5f3d0549.js";import"./index-614f0049.js";import"./FaceSmile-3a3553d6.js";import"./Link01-7ef1615c.js";import"./Attachment01-5105262f.js";import"./Plus-2b54de41.js";import"./use-mocked-user-2f7e8148.js";import"./get-initials-d1c6cec7.js";import"./CardHeader-f479f259.js";import"./CardMedia-08a232a4.js";import"./company-jobs-8c12c71c.js";import"./index-a926b7d6.js";import"./Users01-e13e0e93.js";import"./social-post-add-edc8d486.js";const Z=[{label:"Overview",value:"timeline"},{label:"Jobs Posted",value:"connections"}],ee=()=>{const n=g(),[a,r]=t.useState(null),i=t.useCallback(async()=>{try{const s=await k.getProfile();n()&&r(s)}catch(s){console.error(s)}},[n]);return t.useEffect(()=>{i()},[]),a},te=()=>{const n=g(),[a,r]=t.useState([]),i=t.useCallback(async()=>{try{const s=await k.getPosts();n()&&r(s)}catch(s){console.error(s)}},[n]);return t.useEffect(()=>{i()},[]),a},ae=(n="")=>{const[a,r]=t.useState([]),i=g(),s=t.useCallback(async()=>{const m=await k.getConnections();i()&&r(m)},[i]);return t.useEffect(()=>{s()},[n]),a.filter(m=>{var f;return(f=m.name)==null?void 0:f.toLowerCase().includes(n)})},ne=n=>{const{brandinfo:a,userinfo:r}=n,i=ee(),[s,m]=t.useState("timeline"),[f,v]=t.useState("not_connected"),q=te(),[w,z]=t.useState(""),E=ae(w),[T,y]=t.useState(!1),C=j(),M=F();alert("this is global social page"),t.useEffect(()=>{C(R({brandID:window.location.pathname.split("/")[2].split("-")[2]}))},[C]);const _=t.useCallback(()=>{y(!0)},[]),G=t.useCallback(()=>{y(!1)},[]);A(),t.useCallback(()=>{v("pending")},[]),t.useCallback(()=>{v("not_connected")},[]);const L=t.useCallback((c,D)=>{m(D)},[]),B=t.useCallback(c=>{z(c.target.value)},[]);return i?o(b,{children:[e(H,{title:"Dashboard: Social Profile"}),e(u,{component:"main",sx:{flexGrow:1,py:8},children:o(O,{maxWidth:"xl",children:[o("div",{children:[e(u,{style:{backgroundImage:`url(${i.cover})`},sx:{backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",borderRadius:1,height:421,position:"relative","&:hover":{"& button":{visibility:"visible"}}},children:r.id==a.id?e(l,{startIcon:e(d,{children:e(V,{})}),sx:{backgroundColor:P[900],bottom:{lg:24,xs:"auto"},color:"common.white",position:"absolute",right:24,top:{lg:"auto",xs:24},visibility:"hidden","&:hover":{backgroundColor:P[900]}},variant:"contained",children:"Change Cover"}):""}),o(h,{alignItems:"center",direction:"row",className:"custom-parent",spacing:2,sx:{mt:4},children:[o(h,{alignItems:"center",direction:"row",className:"custom-avatar",spacing:2,children:[e(W,{src:i.avatar,sx:{height:140,width:140}}),o("div",{className:"brand-info",children:[e(p,{color:"primary",variant:"h6",style:{fontSize:22},children:a?a.fullname:""}),o(p,{color:"text.secondary",className:"font-inter",variant:"subtitle2",style:{fontSize:12,fontWeight:600,marginTop:4},children:["Established since ",a?a.companyfounded:""]}),e(p,{color:"text.secondary",className:"font-inter location-pointer",variant:"overline",style:{fontSize:12,marginTop:17}}),e(p,{color:"primary",variant:"overline",className:"font-inter",style:{fontSize:13},children:a?a.companylocation:""})]})]}),e(u,{sx:{flexGrow:1}}),r.id===a.id?e(h,{alignItems:"center",direction:"row",spacing:2,className:"button-bar",sx:{display:{md:"block"}},children:e(l,{size:"small",className:"social-btn",startIcon:e(d,{children:e(K,{})}),onClick:()=>{M("/auth/auth/firstinfos")},variant:"contained",children:"Edit Profile"})}):e(h,{alignItems:"center",direction:"row",spacing:2,className:"button-bar",sx:{display:{md:"block"}},children:T?o(b,{children:[e(l,{onClick:G,size:"small",className:"fav-btn",startIcon:e(d,{sx:{color:"error.main","& path":{fill:c=>c.palette.error.main,fillOpacity:1}},children:e(I,{})}),variant:"outlined",children:"Favorite"}),e(l,{component:S,href:N.dashboard.chat,size:"small",className:"social-btn",startIcon:e(d,{children:e(x,{})}),variant:"contained",children:"Send Message"})]}):o(b,{children:[e(l,{onClick:_,size:"small",className:"fav-btn",startIcon:e(d,{children:e(I,{})}),variant:"outlined",children:"Favorite"}),e(l,{component:S,href:N.dashboard.chat,size:"small",className:"social-btn",startIcon:e(d,{children:e(x,{})}),variant:"contained",children:"Send Message"})]})})]})]}),e("div",{className:"quick-link-bar",children:o("div",{className:"right-quick",children:[e("div",{className:"quick-font",children:"Quick links"}),o("div",{className:"quick-links",children:[e("a",{className:"instagram-icon quick-link",href:"https://www.instagram.com",target:"_blank"}),e("a",{className:"tiktok-icon quick-link",href:"https://www.tiktok.com",target:"_blank"}),e("a",{className:"youtube-icon quick-link",href:"https://www.youtube.com",target:"_blank"}),e("a",{className:"twitter-icon quick-link",href:"https://www.twitter.com",target:"_blank"}),e("a",{className:"pinterest-icon quick-link",href:"https://www.pinterest",target:"_blank"})]})]})}),e($,{indicatorColor:"primary",onChange:L,scrollButtons:"auto",sx:{mt:5},textColor:"primary",value:s,variant:"scrollable",className:"tab-panel",children:Z.map(c=>e(J,{className:"social-font",label:c.label,value:c.value},c.value))}),e(U,{}),o(u,{children:[s==="timeline"&&e(Y,{posts:q,profile:i}),s==="connections"&&e(X,{connections:E,onQueryChange:B,query:w})]})]})})]}):null},se=n=>({brandinfo:n.profile.brandinfo,userinfo:n.profile.userinfo}),qe=Q(se)(ne);export{qe as default};
